{"version":3,"sources":["../../src/pages/system-settings/system-settings.ts","../../src/utils/helpers.ts","../../src/pages/home/home.ts","../../src/providers/config-store/config-store.ts","../../src/models/channel.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/pages/system-settings/system-settings.module.ts","../../src/components/components.module.ts","../../src/services/icharger.service.ts","../../src/pages/preset-list/preset-list.ts","../../src/pages/preset/preset.ts","../../src/pages/preset-storage/preset-storage.ts","../../src/pages/preset-discharge/preset-discharge.ts","../../src/utils/validators.ts","../../src/pages/preset-cycle/preset-cycle.ts","../../src/utils/mixins.ts","../../src/pages/charge-options/charge-options.ts","../../src/components/channel-volts/channel-volts.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/models/state/actions/ui.ts","../../src/models/preset-class.ts","../../src/models/state/actions/configuration.ts","../../src/models/state/actions/system.ts","../../src/components/system/system.ts","../../src/components/config/config.ts","../../src/components/temp-range/temp-range.ts","../../src/app/app.component.ts","../../src/app/environment/environment-variables.token.ts","../../src/app/environment/development.ts","../../src/app/environment/production.ts","../../src/utils/pipes.ts","../../src/components/channel/channel.ts","../../src/components/charger-status/charger-status.ts","../../src/utils/directives.ts","../../src/components/connection-state/connection-state.ts","../../src/components/channel-volts/channel-ir.ts","../../src/pages/contact/contact.ts","../../src/pages/preset-balance/preset-balance.ts","../../src/pages/tabs/tabs.ts","../../src/models/system.ts","../../src/models/state/configure.ts","../../src/models/state/reducers/configuration.ts","../../src/models/state/reducers/charger.ts","../../src/models/state/reducers/ui.ts","../../src/models/state/reducers/system.ts","../../src/models/state/epics/configuration.ts","../../src/pages/preset-charge/preset-charge.ts","../../src/models/state/actions/charger.ts","../../src/pages/config/config-page.ts","../../src/app/environment/environment-variables.module.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAwC;AACmE;AACtD;AAEV;AAEqB;AACN;AAGF;AAOxD;IAOI,4BAAmB,OAAsB,EACtB,OAAsB,EACtB,SAAoB,EACpB,eAAgC,EAChC,eAAgC,EAC/B,OAA2B;QAL5B,YAAO,GAAP,OAAO,CAAe;QACtB,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACpB,oBAAe,GAAf,eAAe,CAAiB;QAChC,oBAAe,GAAf,eAAe,CAAiB;QAC/B,YAAO,GAAP,OAAO,CAAoB;IAC/C,CAAC;IAED,4CAAe,GAAf;QACI,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;YAC3C,SAAS,EAAE,WAAW;YACtB,UAAU,EAAE,QAAQ;SACvB,CAAC,CAAC;QACH,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;QAC3B,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC;IAC5B,CAAC;IAED,yCAAY,GAAZ;QAAA,iBAUC;QATG,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC;QAEnD,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,aAAG;QACrD,CAAC,EAAE,aAAG;YACF,KAAI,CAAC,SAAS,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;QACxC,CAAC,EAAE;YACC,KAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;QAC/B,CAAC,CAAC,CAAC;IACP,CAAC;IAED,sBAAI,mDAAmB;aAAvB;YACI,EAAE,CAAC,CAAC,IAAI,CAAC,kBAAkB,IAAI,IAAI,CAAC,CAAC,CAAC;gBAClC,MAAM,CAAC,KAAK,CAAC;YACjB,CAAC;YACD,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC;YACpD,MAAM,CAAC,qFAAqB,CAAC,IAAI,CAAC,kBAAkB,EAAE,OAAO,CAAC,CAAC;QACnE,CAAC;;;OAAA;IAED,4CAAe,GAAf;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC;YAC3B,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC;YACpD,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;QACrC,CAAC;IACL,CAAC;IAED,2CAAc,GAAd;QAAA,iBAWC;QAVG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,UAAC,CAAU;YAC9B,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ,IAAI,IAAI,CAAC,CAAC,CAAC;YAEzB,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ,IAAI,KAAK,CAAC,CAAC,CAAC;gBACtB,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;gBACpC,KAAI,CAAC,kBAAkB,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;YAC/C,CAAC;QACL,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,CAAC,sBAAsB,EAAE,CAAC;IAC1C,CAAC;IAEO,wCAAW,GAAnB,UAAoB,MAAc;QAAlC,iBAoCC;QAnCG,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;YAC/B,IAAI,KAAK,GAAG,KAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBACpC,KAAK,EAAE,eAAe;gBACtB,OAAO,EAAE,qCAAqC;gBAC9C,OAAO,EAAE;oBACL;wBACI,IAAI,EAAE,MAAM;wBACZ,OAAO,EAAE;4BACL,KAAI,CAAC,eAAe,EAAE,CAAC;4BACvB,KAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,aAAG;gCACjD,OAAO,EAAE,CAAC;4BACd,CAAC,EAAE,aAAG;gCACF,KAAI,CAAC,SAAS,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;gCACpC,MAAM,EAAE,CAAC;4BACb,CAAC,EAAE;gCACC,KAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;4BAC/B,CAAC,CAAC,CAAC;wBACP,CAAC;qBACJ;oBACD;wBACI,IAAI,EAAE,SAAS;wBACf,OAAO,EAAE;4BACL,OAAO,EAAE,CAAC;wBACd,CAAC;qBACJ;oBACD;wBACI,IAAI,EAAE,QAAQ;wBACd,OAAO,EAAE;4BACL,MAAM,EAAE,CAAC;wBACb,CAAC;qBACJ;iBACJ;aACJ,CAAC,CAAC;YACH,KAAK,CAAC,OAAO,EAAE,CAAC;QACpB,CAAC,CAAC,CAAC;IACP,CAAC;IAnGS;QAAT,oEAAM,EAAE;kCAAU,2DAAU;uDAAU;IAC7B;QAAT,oEAAM,EAAE;kCAAM,2DAAU;mDAAW;IAF3B,kBAAkB;QAL9B,wEAAS,EAAE;QACX,gEAAS,CAAC;YACP,QAAQ,EAAE,sBAAsB;WACG;SACtC,CAAC;gGAQ2C;YACb,4EAAa;YACX,sEAAS;YACH,sEAAe;YACf,+DAAe;YACtB,OAAO;OAZ3B,kBAAkB,CAsG9B;IAAD,CAAC;AAAA;SAtGY,kBAAkB,gB;;;;;;;;;;;;ACjBH;AAEtB,oBAAqB,CAAC;IACxB,MAAM,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;AAC1B,CAAC;AAEK,+BAAgC,QAAQ,EAAE,OAAO;IACnD,2DAA2D;IAC3D,IAAI,kBAAkB,GAAG,8CAAQ,CAAC,QAAQ,EAAE,UAAU,MAAM,EAAE,KAAK,EAAE,GAAG;QACpE,MAAM,CAAC,+CAAS,CAAC,KAAK,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;YACjC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IACpC,CAAC,EAAE,EAAE,CAAC,CAAC;IAEP,IAAI,SAAS,GAAG,kBAAkB,CAAC,MAAM,IAAI,CAAC,CAAC;IAC/C,MAAM,CAAC,CAAC,SAAS,CAAC;AACtB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACfuC;AACI;AACZ;AACG;AAC6B;AACX;AAGJ;AACO;AACc;AACN;AAMhE;IAQI,kBAA4B,OAAsB,EACtB,cAA+B,EACvC,QAAmB,EACnB,aAA4B,EACpB,OAA2B,EAC3B,IAAU;QALtC,iBAoBC;QApB2B,YAAO,GAAP,OAAO,CAAe;QACtB,mBAAc,GAAd,cAAc,CAAiB;QACvC,aAAQ,GAAR,QAAQ,CAAW;QACnB,kBAAa,GAAb,aAAa,CAAe;QACpB,YAAO,GAAP,OAAO,CAAoB;QAC3B,SAAI,GAAJ,IAAI,CAAM;QAElC,IAAI,OAAO,GAAG,IAAI,CAAC;QACnB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;QAEjC,gDAAU,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,WAAC;YACjC,KAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QAC1B,CAAC,CAAC,CAAC;QAEH,gDAAU,CAAC,KAAK,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC,SAAS,CAAC,WAAC;YACrC,KAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;QACpC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,aAAa,CAAC,sBAAsB,EAAE,CAAC;IAChD,CAAC;IAED,mDAAgC,GAAhC;QACI,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,gCAAgC,EAAE,CAAC;IAClE,CAAC;IAED,qCAAkB,GAAlB;QACI,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,kBAAkB,EAAE,CAAC;IACpD,CAAC;IAED,sCAAmB,GAAnB;QACI,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,mBAAmB,EAAE,CAAC;IACrD,CAAC;IAED,uCAAoB,GAApB;QACI,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,oBAAoB,EAAE,CAAC;IACtD,CAAC;IAED,mCAAgB,GAAhB;QACI,yBAAyB;QACzB,yBAAyB;IAC7B,CAAC;IAED,iCAAc,GAAd;QACI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,uEAAU,CAAC,CAAC;IAClC,CAAC;IAED,iCAAc,GAAd;QACI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,4FAAkB,CAAC,CAAC;IAC1C,CAAC;IAED,4BAAS,GAAT;QACI,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;QACtC,IAAI,CAAC,QAAQ,CAAC,eAAe,EAAE,CAAC;IACpC,CAAC;IAED,8BAAW,GAAX;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,oBAAoB,EAAE,CAAC,CAAC,CAAC;YAC9B,MAAM,CAAC,aAAa,CAAC;QACzB,CAAC;QACD,MAAM,CAAC,uBAAuB,CAAC;IACnC,CAAC;IAED,6BAAU,GAAV;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,mBAAmB,EAAE,CAAC,CAAC,CAAC;YAC7B,MAAM,CAAC,+BAA+B,CAAC;QAC3C,CAAC;QACD,MAAM,CAAC,kBAAkB,CAAC;IAC9B,CAAC;IAED,uBAAI,GAAJ;QACI,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC,CAAC,CAAC;YAC7B,IAAI,CAAC,IAAI,CAAC,iDAAiD,CAAC,CAAC;QACjE,CAAC;QACD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,mBAAmB,EAAE,CAAC,CAAC,CAAC;YAC9B,IAAI,CAAC,IAAI,CAAC,iEAAiE,CAAC,CAAC;YAC7E,IAAI,CAAC,IAAI,CAAC,6CAA6C,CAAC,CAAC;QAC7D,CAAC;QACD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,oBAAoB,EAAE,CAAC,CAAC,CAAC;YAC/B,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;YAChC,IAAI,CAAC,IAAI,CAAC,yCAAyC,CAAC,CAAC;QACzD,CAAC;QACD,MAAM,CAAC,IAAI,CAAC;IAChB,CAAC;IA3FuB;QAAvB,oEAAM,CAAC,cAAc,CAAC;kCAAa,gDAAU;gDAAM;IAC1C;QAAT,oEAAM,EAAE;kCAAW,gDAAU;8CAAU;IAC9B;QAAT,oEAAM,EAAE;kCAAU,gDAAU;6CAAU;IAH9B,QAAQ;QAJpB,gEAAS,CAAC;YACP,QAAQ,EAAE,WAAW;WACG;SAC3B,CAAC;gGASoD;YACN,4EAAe;YAC7B,mFAAS;YACJ,8DAAa;YACX,6DAAO;YACV,IAAI;OAb7B,QAAQ,CA6FpB;IAAD,CAAC;AAAA;SA7FY,QAAQ,e;;;;;;;;;;;;;;;;;;;;;;ACjBoB;AACF;AACI;AAG3C;IAEI,6BAAmB,OAAgB;QAAhB,YAAO,GAAP,OAAO,CAAS;IACnC,CAAC;IAED,+CAAiB,GAAjB;QACI,MAAM,CAAC,2DAAU,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC;IAC9D,CAAC;IAED,+CAAiB,GAAjB,UAAkB,MAAM;QACpB,MAAM,CAAC,2DAAU,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC,CAAC;IACtE,CAAC;IAXQ,mBAAmB;QAD/B,iEAAU,EAAE;yCAGmB,+DAAO;OAF1B,mBAAmB,CAY/B;IAAD,0BAAC;CAAA;AAZ+B;;;;;;;;;ACLhC;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAwCG;AAEH;IAOI,iBAAmB,KAAa,EAAE,UAAU,EAAE,mBAA+B;QAA/B,6DAA+B;QAA7E,iBAkBC;QAxBD,UAAK,GAAG,EAAE,CAAC;QACX,WAAM,GAAW,CAAC,CAAC;QACnB,8BAAyB,GAAW,IAAI,CAAC;QAEzC,qCAAgC,GAAW,CAAC,CAAC;QAGzC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,KAAK,GAAG,UAAU,CAAC;QACxB,IAAI,CAAC,sBAAsB,CAAC,mBAAmB,CAAC,CAAC;gCAKxC,GAAG;YACR,MAAM,CAAC,cAAc,SAAO,GAAG,EAAE;gBAC7B,GAAG,EAAE;oBACD,MAAM,CAAC,KAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAC3B,CAAC;gBACD,GAAG,EAAE,UAAC,KAAK;oBACP,KAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;gBAC5B,CAAC;aACJ,CAAC,CAAC;QACP,CAAC;;QAZD;;WAEG;QACH,GAAG,CAAC,CAAY,UAAuB,EAAvB,WAAM,CAAC,IAAI,CAAC,UAAU,CAAC,EAAvB,cAAuB,EAAvB,IAAuB;YAAlC,IAAI,GAAG;oBAAH,GAAG;SASX;IACL,CAAC;IAED,iCAAe,GAAf,UAAgB,YAA0B,EAAE,SAAc;QACtD,IAAI,CAAC,KAAK,GAAG,YAAY,CAAC;QAC1B,IAAI,CAAC,sBAAsB,CAAC,SAAS,CAAC,CAAC;IAC3C,CAAC;IAED,sBAAI,6CAAwB;aAA5B,UAA6B,KAAa;YACtC,IAAI,CAAC,yBAAyB,GAAG,KAAK,CAAC;YACvC,IAAI,CAAC,gCAAgC,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QACvD,CAAC;;;OAAA;IAED,sBAAI,0BAAK;aAAT;YACI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;QACvB,CAAC;;;OAAA;IAED,sBAAW,kCAAa;aAAxB;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;QAC7B,CAAC;;;OAAA;IAED,sBAAI,0BAAK;aAAT;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QAC/B,CAAC;;;OAAA;IAED,sBAAI,yBAAI;aAAR;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;QACtB,CAAC;;;OAAA;IAED,sBAAI,gCAAW;aAAf;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;QACxC,CAAC;;;OAAA;IAED,sBAAI,gCAAW;aAAf;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;QACvC,CAAC;;;OAAA;IAED,sBAAI,oCAAe;aAAnB;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC,CAAC;QAC3C,CAAC;;;OAAA;IAED,sBAAI,0CAAqB;aAAzB;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;QACvC,CAAC;;;OAAA;IAED,sBAAI,gDAA2B;aAA/B;YACI,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;gBACtB,MAAM,CAAC,KAAK,CAAC;YACjB,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC,CAAC;gBAClC,MAAM,CAAC,KAAK,CAAC;YACjB,CAAC;YACD,IAAI,CAAC,GAAG,IAAI,CAAC,yBAAyB,IAAI,IAAI,CAAC;YAC/C,wCAAwC;YACxC,MAAM,CAAC,CAAC,CAAC;QACb,CAAC;;;OAAA;IAED,sBAAI,oCAAe;aAAnB;YACI,MAAM,CAAC,IAAI,CAAC,yBAAyB,CAAC;QAC1C,CAAC;;;OAAA;IAUD,sBAAI,+BAAU;QARd;;;;;;;WAOG;aACH;YACI,IAAI,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC;YAE9B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;gBACtB,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,CAAC;gBACrC,MAAM,CAAC,SAAS,CAAC;YACrB,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC,CAAC;gBAClC,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,CAAC;gBACrC,MAAM,CAAC,gBAAgB,CAAC;YAC5B,CAAC;YAED,IAAI,IAAI,GAAW,EAAE,CAAC;YAEtB,EAAE,CAAC,CAAC,SAAS,IAAI,CAAC,CAAC,CAAC,CAAC;gBACjB,IAAI,IAAI,OAAO,CAAC;YACpB,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,IAAI,CAAC,IAAI,SAAS,IAAI,EAAE,CAAC,CAAC,CAAC;gBAC3C,IAAI,IAAI,OAAO,CAAC;YACpB,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,IAAI,CAAC,CAAC,CAAC,CAAC;gBACxB,IAAI,IAAI,UAAU,CAAC;YACvB,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,IAAI,EAAE,CAAC,CAAC,CAAC;gBACzB,IAAI,IAAI,WAAW,CAAC;YACxB,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,IAAI,EAAE,CAAC,CAAC,CAAC;gBACzB,IAAI,IAAI,WAAW,CAAC;YACxB,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,IAAI,CAAC,CAAC,CAAC,CAAC;gBACxB,IAAI,IAAI,SAAS,CAAC;YACtB,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,IAAI,EAAE,CAAC,CAAC,CAAC;gBACzB,IAAI,IAAI,MAAM,CAAC;YACnB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,IAAI,CAAC,yBAAyB,CAAC,KAAK,CAAC,CAAC;gBACtC,IAAI,IAAI,MAAM,CAAC;YACnB,CAAC;YAED,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;;;OAAA;IAED,sBAAW,oCAAe;aAA1B,UAA2B,OAAe;YACtC,IAAI,CAAC,yBAAyB,GAAG,OAAO,CAAC;YACzC,IAAI,CAAC,gCAAgC,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QACvD,CAAC;;;OAAA;IAEM,2CAAyB,GAAhC,UAAiC,KAAc;QAC3C,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC;YAC3B,OAAO,CAAC,GAAG,CAAC,0CAA0C,EAAE,KAAK,CAAC,CAAC;QACnE,CAAC;QACD,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YACR,EAAE,EAAC,IAAI,CAAC,yBAAyB,IAAI,IAAI,CAAC,CAAC,CAAC;gBACxC,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC;gBACtC,IAAI,CAAC,gCAAgC,GAAG,IAAI,CAAC;YACjD,CAAC;YACD,MAAM,CAAC;QACX,CAAC;QACD,EAAE,CAAC,CAAC,IAAI,CAAC,gCAAgC,CAAC,CAAC,CAAC;YACxC,IAAI,QAAQ,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;YAC1B,IAAI,WAAW,GAAW,QAAQ,GAAG,IAAI,CAAC,gCAAgC,CAAC;YAC3E,EAAE,CAAC,CAAC,WAAW,GAAG,IAAI,CAAC,gCAAgC,CAAC,CAAC,CAAC;gBACtD,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC;gBACtC,IAAI,CAAC,gCAAgC,GAAG,IAAI,CAAC;gBAC7C,OAAO,CAAC,GAAG,CAAC,uCAAuC,CAAC,CAAC;YACzD,CAAC;QACL,CAAC;IACL,CAAC;IAED,sBAAI,4CAAuB;aAA3B;YACI,MAAM,CAAC,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,yBAAyB,CAAC;QAChE,CAAC;;;OAAA;IAED,sBAAI,kCAAa;aAAjB;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,oBAAoB,CAAC,CAAC;QAC5C,CAAC;;;OAAA;IAED,sBAAI,8CAAyB;aAA7B;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,0BAA0B,CAAC,CAAC;QAClD,CAAC;;;OAAA;IAED,sBAAI,oCAAe;aAAnB;YACI,eAAe;YACf,mBAAmB;YACnB,eAAe;YACf,OAAO,CAAC,GAAG,CAAC,wBAAwB,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC;YAChE,IAAI,UAAU,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;YAC7B,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;QACnD,CAAC;;;OAAA;IAED,sBAAI,oCAAe;aAAnB;YACI,uCAAuC;YACvC,IAAI,aAAa,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;YAC5B,MAAM,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;QACtD,CAAC;;;OAAA;IAED,sBAAI,6BAAQ;aAAZ;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;QACpC,CAAC;;;OAAA;IAED,sBAAI,iCAAY;aAAhB;YACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;QACxC,CAAC;;;OAAA;IAED,sBAAI,qCAAgB;aAApB;YACI,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;YACvB,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;gBACT,MAAM,CAAC,CAAC,CAAC;YACb,CAAC;YAED,IAAI,OAAO,GAAW,OAAO,CAAC;YAC9B,IAAI,OAAO,GAAW,CAAC,CAAC;YACxB,IAAI,UAAU,GAAW,CAAC,CAAC;YAE3B,KAAK,CAAC,OAAO,CAAC,cAAI;gBACd,IAAI,SAAS,GAAW,IAAI,CAAC,GAAG,CAAC,CAAC;gBAClC,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,IAAI,SAAS,GAAG,GAAG,CAAC,CAAC,CAAC;oBACnC,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;oBACvC,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;oBACvC,UAAU,EAAE,CAAC;gBACjB,CAAC;YACL,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,CAAC,UAAU,IAAI,CAAC,CAAC,CAAC,CAAC;gBAClB,MAAM,CAAC,GAAG,CAAC;YACf,CAAC;YACD,MAAM,CAAC,CAAC,OAAO,GAAG,OAAO,CAAC,GAAG,MAAM,CAAC;QACxC,CAAC;;;OAAA;IAEO,wCAAsB,GAA9B,UAA+B,mBAA2B;QACtD,4BAA4B;QAC5B,EAAE,CAAC,CAAC,mBAAmB,IAAI,CAAC,CAAC,CAAC,CAAC;YAC3B,IAAI,WAAW,GAAG,IAAI,CAAC,mBAAmB,CAAC;YAC3C,EAAE,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;gBAC5C,8EAA8E;gBAC9E,IAAI,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,mBAAmB,CAAC,CAAC;gBACxD,EAAE,CAAC,CAAC,WAAW,IAAI,mBAAmB,CAAC,CAAC,CAAC;oBACrC,8GAA8G;oBAC9G,EAAE,CAAC,CAAC,WAAW,GAAG,mBAAmB,CAAC,CAAC,CAAC;wBACpC,MAAM,EAAE,CAAC;oBACb,CAAC;oBACD,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC;gBAC/D,CAAC;YACL,CAAC;QACL,CAAC;IACL,CAAC;IAED,sBAAY,wCAAmB;aAA/B;YACI,yDAAyD;YACzD,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;YAChC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;gBACR,kBAAkB;gBAClB,0FAA0F;gBAC1F,IAAI,oBAAkB,GAAG,CAAC,CAAC;gBAC3B,KAAK,CAAC,OAAO,CAAC,UAAC,IAAI,EAAE,KAAK;oBACtB,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;wBACb,oBAAkB,GAAG,KAAK,CAAC;oBAC/B,CAAC;gBACL,CAAC,CAAC,CAAC;gBACH,MAAM,CAAC,oBAAkB,CAAC;YAC9B,CAAC;YACD,MAAM,CAAC,CAAC,CAAC;QACb,CAAC;;;OAAA;IAEL,cAAC;AAAD,CAAC;;;;;;;;;ACrSD;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,kC;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;;;;;;;;;;;;;;;ACjBuC;AACO;AACO;AAER;AACuB;AAcpE;IAAA;IACA,CAAC;IADY,wBAAwB;QAZpC,+DAAQ,CAAC;YACN,YAAY,EAAE;gBACV,4EAAkB;aACrB;YACD,eAAe,EAAE,EAChB;YACD,OAAO,EAAE;gBACL,qEAAY;gBACZ,uFAAgB;gBAChB,sEAAe,CAAC,QAAQ,CAAC,4EAAkB,CAAC;aAC/C;SACJ,CAAC;OACW,wBAAwB,CACpC;IAAD,+BAAC;CAAA;AADoC;;;;;;;;;;;;;;;;;;;;;ACnBE;AACS;AACA;AACF;AACa;AAiB3D;IAAA;IACA,CAAC;IADY,gBAAgB;QAf5B,+DAAQ,CAAC;YACN,YAAY,EAAE;gBACV,uEAAe;gBACf,uEAAe;gBACf,kFAAkB;aACrB;YACD,OAAO,EAAE;gBACL,sEAAe,CAAC,QAAQ,CAAC,uEAAe,CAAC;aAC5C;YACD,OAAO,EAAE;gBACL,uEAAe;gBACf,uEAAe;gBACf,kFAAkB;aACrB;SACJ,CAAC;OACW,gBAAgB,CAC5B;IAAD,uBAAC;CAAA;AAD4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrBY;AACmB;AAC5B;AACc;AAEN;AACK;AAEkB;AACV;AAIrD,IAAY,WAIX;AAJD,WAAY,WAAW;IACnB,oEAAoB;IACpB,kEAAmB;IACnB,kEAAmB;AACvB,CAAC,EAJW,WAAW,KAAX,WAAW,QAItB;AAEM,IAAI,eAAe,GAAG,EAAE,CAAC;AAChC,eAAe,CAAC,WAAW,CAAC,cAAc,CAAC,GAAG,EAAC,SAAS,EAAE,EAAE,EAAE,MAAM,EAAE,cAAc,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,CAAC,EAAC,CAAC;AAChH,eAAe,CAAC,WAAW,CAAC,cAAc,CAAC,GAAG,EAAC,SAAS,EAAE,EAAE,EAAE,MAAM,EAAE,cAAc,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,CAAC,EAAC,CAAC;AAChH,eAAe,CAAC,WAAW,CAAC,eAAe,CAAC,GAAG,EAAC,SAAS,EAAE,EAAE,EAAE,MAAM,EAAE,eAAe,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,EAAE,EAAC,CAAC;AAGnH;IAKI,yBAA0B,IAAU,EACV,cAA8B,EAC9B,SAAoB,EACpB,OAA2B;QAH3B,SAAI,GAAJ,IAAI,CAAM;QACV,mBAAc,GAAd,cAAc,CAAgB;QAC9B,cAAS,GAAT,SAAS,CAAW;QACpB,YAAO,GAAP,OAAO,CAAoB;QAPrD,0BAAqB,GAAU,EAAE,CAAC;QAU9B,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC,SAAS,CAAC,gBAAM;YACrE,4CAA4C;QAChD,CAAC,CAAC,CAAC;IACP,CAAC;IAED,mCAAS,GAAT;QACI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC;IAC1C,CAAC;IAED,oCAAU,GAAV;QACI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC;IAC3C,CAAC;IAED,6CAAmB,GAAnB;QACI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,EAAE,CAAC,YAAY,KAAK,KAAK,CAAC;IAC7D,CAAC;IAED,8CAAoB,GAApB;QACI,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,mBAAmB,EAAE,CAAC,CAAC,CAAC;YAC9B,MAAM,CAAC,KAAK,CAAC;QACjB,CAAC;QAED,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,aAAa,GAAG,CAAC,CAAC;IAC/C,CAAC;IAED,0DAAgC,GAAhC;QACI,IAAI,WAAW,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC5C,IAAI,WAAW,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC9C,IAAI,UAAU,GAAG,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC5C,MAAM,CAAC,CAAC,WAAW,IAAI,CAAC,WAAW,IAAI,CAAC,UAAU,CAAC;IACvD,CAAC;IAED,4CAAkB,GAAlB;QACI,0BAA0B;QAC1B,MAAM,CAAC,IAAI,CAAC;IAChB,CAAC;IAED,6CAAmB,GAAnB;QACI,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,aAAa,CAAC;IAC3C,CAAC;IAED,oCAAU,GAAV;QACI,IAAI,GAAG,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;QACxC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,WAAC;YAC3B,mCAAmC;YACnC,IAAI,UAAU,GAAG,EAAE,CAAC;YACpB,IAAI,cAAc,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC;YAC9B,GAAG,CAAC,CAAmB,UAAc,EAAd,iCAAc,EAAd,4BAAc,EAAd,IAAc;gBAAhC,IAAI,UAAU;gBACf,UAAU,CAAC,IAAI,CAAC,IAAI,oEAAM,CAAC,UAAU,CAAC,CAAC,CAAC;aAC3C;YACD,MAAM,CAAC,UAAU,CAAC;QACtB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,0CAAgB,GAAhB;QAAA,iBAsBC;QArBG,IAAI,QAAQ,GAAG,IAAI,CAAC;QAEpB,MAAM,CAAC,gDAAU,CAAC,KAAK,CAAC,QAAQ,EAAE,QAAQ,CAAC;aACtC,OAAO,CAAC,WAAC;YACN,IAAI,GAAG,GAAG,KAAI,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;YACzC,MAAM,CAAC,KAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAC9B,CAAC,CAAC,CAAC,GAAG,CAAC,WAAC;YACJ,KAAI,CAAC,cAAc,CAAC,uBAAuB,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;YAEtD,EAAE,CAAC,CAAC,KAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,EAAE,CAAC,YAAY,CAAC,CAAC,CAAC;gBAC1C,KAAI,CAAC,SAAS,CAAC,iBAAiB,EAAE,CAAC;YACvC,CAAC;QACL,CAAC,CAAC;aACD,KAAK,CAAC,eAAK;YACR,OAAO,CAAC,KAAK,CAAC,+BAA+B,GAAG,KAAK,CAAC,CAAC;YACvD,KAAI,CAAC,SAAS,CAAC,eAAe,EAAE,CAAC;YAEjC,wCAAwC;YACxC,MAAM,CAAC,gDAAU,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QACnC,CAAC,CAAC;aACD,KAAK,EAAE,CAAC;IACjB,CAAC;IAED,qCAAW,GAAX;QACI,IAAI,MAAM,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;QAC9B,MAAM,CAAC,MAAM,CAAC,SAAS,GAAG,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC;IAChD,CAAC;IAED,iCAAiC;IACzB,uCAAa,GAArB,UAAsB,IAAI;QACtB,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,EAAE,GAAG,IAAI,CAAC;IACjD,CAAC;IAED,+CAAqB,GAArB,UAAsB,QAAe,EAAE,YAAqB,EAAE,YAAmB;QAA3D,0CAAe;QAAE,oDAAqB;QAAE,kDAAmB;QAC7E,4BAA4B;QAC5B,EAAE,CAAC,CAAC,QAAQ,IAAI,IAAI,CAAC,CAAC,CAAC;YACnB,QAAQ,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC,SAAS,CAAC;QAC3C,CAAC;QACD,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;YACX,IAAI,EAAE,GAAG,eAAe,CAAC,QAAQ,CAAC,CAAC;YACnC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBACL,EAAE,CAAC,CAAC,EAAE,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;oBACnB,MAAM,CAAC,EAAE,CAAC,YAAY,CAAC,CAAC;gBAC5B,CAAC;YACL,CAAC;QACL,CAAC;QACD,MAAM,CAAC,YAAY,CAAC;IACxB,CAAC;IAED,8CAAoB,GAApB;QACI,MAAM,CAAC,IAAI,CAAC,qBAAqB,CAAC,IAAI,EAAE,SAAS,EAAE,EAAE,CAAC,CAAC;IAC3D,CAAC;IAED,wCAAc,GAAd;QACI,MAAM,CAAC,IAAI,CAAC,qBAAqB,CAAC,IAAI,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC;IAChE,CAAC;IAED,uCAAa,GAAb;QACI,MAAM,CAAC,IAAI,CAAC,qBAAqB,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC;IACvD,CAAC;IAED,qCAAW,GAAX;QACI,MAAM,CAAC,IAAI,CAAC,qBAAqB,CAAC,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC,CAAC;IACxD,CAAC;IAED,yCAAe,GAAf,UAAgB,OAAgB;QAAhC,iBAeC;QAdG,IAAI,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC;QACvC,MAAM,CAAC,gDAAU,CAAC,MAAM,CAAC,UAAC,UAAU;YAChC,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;YACxC,IAAI,GAAG,GAAG,KAAI,CAAC,aAAa,CAAC,QAAQ,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC;YAEvD,KAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,SAAS,CAAC,UAAC,IAAI;gBAClC,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;oBACV,8DAA8D;oBAC9D,UAAU,CAAC,QAAQ,EAAE,CAAC;gBAC1B,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBAC3B,CAAC;YACL,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACP,CAAC;IAED,gHAAgH;IAChH,mCAAS,GAAT,UAAU,MAAc;QACpB,MAAM,CAAC,oBAAoB,EAAE,CAAC;QAC9B,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;IACzC,CAAC;IAED,oCAAU,GAAV,UAAW,MAAc,EAAE,cAA+B;QAA1D,iBAwCC;QAxC0B,uDAA+B;QACtD,wCAAwC;QACxC,MAAM,CAAC,gDAAU,CAAC,MAAM,CAAC,UAAC,UAAU;YAChC,IAAI,eAAe,GAAG,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC;YAEvC,EAAE,EAAC,CAAC,eAAe,IAAI,cAAc,CAAC,CAAC,CAAC;gBACpC,UAAU,CAAC,KAAK,CAAC,8CAA8C,GAAG,MAAM,CAAC,KAAK,GAAG,sCAAsC,CAAC,CAAC;gBACzH,MAAM,CAAC;YACX,CAAC;YAED,IAAI,MAAM,GAAG,eAAe,GAAG,KAAI,CAAC,aAAa,CAAC,YAAY,CAAC,GAAG,KAAI,CAAC,aAAa,CAAC,UAAU,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC;YAChH,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,EAAE,CAAC;YACzB,IAAI,MAAM,GAAG,eAAe,GAAG,QAAQ,GAAG,QAAQ,CAAC;YACnD,OAAO,CAAC,GAAG,CAAC,MAAM,GAAG,WAAW,EAAE,IAAI,CAAC,CAAC;YAExC,IAAI,OAAO,GAAG,IAAI,8DAAO,CAAC,EAAC,cAAc,EAAE,kBAAkB,EAAC,CAAC,CAAC;YAChE,IAAI,OAAO,GAAG,IAAI,qEAAc,CAAC,EAAC,OAAO,EAAE,OAAO,EAAC,CAAC,CAAC;YAErD,KAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC,SAAS,CAAC,UAAC,IAAI;gBAChD,wCAAwC;gBACxC,wEAAwE;gBACxE,sCAAsC;gBACtC,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;oBACV,MAAM;oBACN,EAAE,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;wBAClB,kEAAkE;wBAClE,IAAI,UAAU,GAAG,IAAI,oEAAM,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;wBACzC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;oBAChC,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,4DAA4D;wBAC5D,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;oBAC5B,CAAC;oBACD,UAAU,CAAC,QAAQ,EAAE,CAAC;gBAC1B,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBAC3B,CAAC;YACL,CAAC,EAAE,UAAC,KAAK;gBACL,KAAI,CAAC,SAAS,CAAC,eAAe,CAAC,cAAc,GAAG,KAAK,CAAC,CAAC;YAC3D,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACP,CAAC;IAED,qCAAW,GAAX,UAAY,OAAgB,EAAE,MAAc;QAA5C,iBAaC;QAZG,IAAI,CAAC,mBAAmB,CAAC,CAAC,EAAE,CAAC,EAAE,OAAO,CAAC,CAAC;QACxC,MAAM,CAAC,gDAAU,CAAC,MAAM,CAAC,UAAC,UAAU;YAChC,IAAI,YAAY,GAAG,KAAI,CAAC,aAAa,CAAC,UAAU,GAAG,OAAO,CAAC,KAAK,GAAG,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC;YACvF,OAAO,CAAC,GAAG,CAAC,8BAA8B,EAAE,OAAO,CAAC,KAAK,EAAE,wBAAwB,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;YACnG,KAAI,CAAC,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC,SAAS,CAAC,UAAC,IAAI;gBAC7C,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;oBACV,UAAU,CAAC,QAAQ,EAAE,CAAC;gBAC1B,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBAC3B,CAAC;YACL,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACP,CAAC;IAED,wCAAc,GAAd,UAAe,OAAgB,EAAE,MAAc;QAA/C,iBAaC;QAZG,IAAI,CAAC,mBAAmB,CAAC,CAAC,EAAE,CAAC,EAAE,OAAO,CAAC,CAAC;QACxC,MAAM,CAAC,gDAAU,CAAC,MAAM,CAAC,UAAC,UAAU;YAChC,IAAI,YAAY,GAAG,KAAI,CAAC,aAAa,CAAC,aAAa,GAAG,OAAO,CAAC,KAAK,GAAG,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC;YAC1F,OAAO,CAAC,GAAG,CAAC,iCAAiC,EAAE,OAAO,CAAC,KAAK,EAAE,wBAAwB,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;YACtG,KAAI,CAAC,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC,SAAS,CAAC,UAAC,IAAI;gBAC7C,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;oBACV,UAAU,CAAC,QAAQ,EAAE,CAAC;gBAC1B,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBAC3B,CAAC;YACL,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACP,CAAC;IAED,oCAAU,GAAV,UAAW,OAAgB,EAAE,MAAc;QAA3C,iBAaC;QAZG,IAAI,CAAC,mBAAmB,CAAC,CAAC,EAAE,CAAC,EAAE,OAAO,CAAC,CAAC;QACxC,MAAM,CAAC,gDAAU,CAAC,MAAM,CAAC,UAAC,UAAU;YAChC,IAAI,YAAY,GAAG,KAAI,CAAC,aAAa,CAAC,SAAS,GAAG,OAAO,CAAC,KAAK,GAAG,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC;YACtF,OAAO,CAAC,GAAG,CAAC,+BAA+B,EAAE,OAAO,CAAC,KAAK,EAAE,wBAAwB,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;YACpG,KAAI,CAAC,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC,SAAS,CAAC,UAAC,IAAI;gBAC3C,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;oBACV,UAAU,CAAC,QAAQ,EAAE,CAAC;gBAC1B,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBAC3B,CAAC;YACL,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACP,CAAC;IAED,sCAAY,GAAZ,UAAa,OAAgB,EAAE,MAAc;QAA7C,iBAaC;QAZG,IAAI,CAAC,mBAAmB,CAAC,CAAC,EAAE,CAAC,EAAE,OAAO,CAAC,CAAC;QACxC,MAAM,CAAC,gDAAU,CAAC,MAAM,CAAC,UAAC,UAAU;YAChC,IAAI,YAAY,GAAG,KAAI,CAAC,aAAa,CAAC,WAAW,GAAG,OAAO,CAAC,KAAK,GAAG,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC;YACxF,OAAO,CAAC,GAAG,CAAC,+BAA+B,EAAE,OAAO,CAAC,KAAK,EAAE,wBAAwB,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;YACpG,KAAI,CAAC,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC,SAAS,CAAC,UAAC,IAAI;gBAC3C,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;oBACV,UAAU,CAAC,QAAQ,EAAE,CAAC;gBAC1B,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBAC3B,CAAC;YACL,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACP,CAAC;IAED,mCAAS,GAAT,UAAU,OAAgB;QAA1B,iBAYC;QAXG,MAAM,CAAC,gDAAU,CAAC,MAAM,CAAC,UAAC,UAAU;YAChC,IAAI,YAAY,GAAG,KAAI,CAAC,aAAa,CAAC,aAAa,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC;YACrE,OAAO,CAAC,GAAG,CAAC,sCAAsC,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC;YACnE,KAAI,CAAC,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC,SAAS,CAAC,UAAC,IAAI;gBAC3C,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;oBACV,UAAU,CAAC,QAAQ,EAAE,CAAC;gBAC1B,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBAC3B,CAAC;YACL,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACP,CAAC;IAED,mCAAS,GAAT;QAAA,iBAcC;QAbG,MAAM,CAAC,gDAAU,CAAC,MAAM,CAAC,UAAC,UAAU;YAChC,IAAI,YAAY,GAAG,KAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;YACjD,KAAI,CAAC,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,UAAC,IAAI;gBACvC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;oBACX,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBAC3B,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC;oBACvB,IAAI,MAAM,GAAG,IAAI,8DAAM,CAAC,IAAI,CAAC,CAAC;oBAC9B,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;oBACxB,UAAU,CAAC,QAAQ,EAAE,CAAC;gBAC1B,CAAC;YACL,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACP,CAAC;IAED,oCAAU,GAAV,UAAW,MAAc;QAAzB,iBAgBC;QAfG,IAAI,OAAO,GAAG,IAAI,8DAAO,CAAC,EAAC,cAAc,EAAE,kBAAkB,EAAC,CAAC,CAAC;QAChE,IAAI,OAAO,GAAG,IAAI,qEAAc,CAAC,EAAC,OAAO,EAAE,OAAO,EAAC,CAAC,CAAC;QACrD,IAAI,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;QACjD,MAAM,CAAC,gDAAU,CAAC,MAAM,CAAC,UAAC,UAAU;YAChC,KAAI,CAAC,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,MAAM,CAAC,IAAI,EAAE,EAAE,OAAO,CAAC,CAAC,SAAS,CAAC,UAAC,IAAI;gBAC/D,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;oBACX,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBAC3B,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;oBACxB,UAAU,CAAC,QAAQ,EAAE,CAAC;gBAC1B,CAAC;YACL,CAAC,EAAE,eAAK;gBACJ,UAAU,CAAC,KAAK,EAAE,CAAC;YACvB,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACP,CAAC;IAED,iDAAiD;IACjD,wDAAwD;IACxD,iDAAiD;IACjD,mDAAmD;IACnD,oDAAoD;IACpD,EAAE;IACF,+EAA+E;IAC/E,oEAAoE;IACpE,wFAAwF;IACxF,kCAAkC;IAClC,8CAA8C;IAC9C,2BAA2B;IAC3B,+CAA+C;IAC/C,6CAA6C;IAC7C,oBAAoB;IACpB,4BAA4B;IAC5B,sCAAsC;IACtC,kBAAkB;IAClB,EAAE;IACF,0BAA0B;IAC1B,uCAAuC;IACvC,cAAc;IACd,UAAU;IACV,IAAI;IAEJ,kDAAwB,GAAxB,UAAyB,OAAgB;QACrC,EAAE,CAAC,CAAC,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAC5C,OAAO,CAAC,GAAG,CAAC,+CAA+C,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC;YAC5E,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,WAAW,EAAE,CAAC;YACxD,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;QACrD,CAAC;IACL,CAAC;IAED,6CAAmB,GAAnB,UAAoB,iBAA2B,EAAE,OAAgB;QAAjE,iBAmBC;QAlBG,IAAI,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC;QACvC,IAAI,aAAa,GAAG,OAAO,CAAC,KAAK,CAAC;QAElC,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,gDAAU,CAAC,KAAK,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,SAAS,CAAC;YAC7E,IAAI,EAAE,GAAY,KAAI,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;YAC5D,+DAA+D;YAC/D,MAAM,CAAC,CAAC,iBAAiB,CAAC,IAAI,CAAC,UAAC,KAAK;gBACjC,MAAM,CAAC,EAAE,CAAC,QAAQ,IAAI,KAAK,CAAC;YAChC,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC,SAAS,CAAC,UAAC,KAAK;QACnB,CAAC,EAAE,UAAC,KAAK;YACL,OAAO,CAAC,GAAG,CAAC,qDAAqD,CAAC,CAAC;YACnE,KAAI,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC;QAC3C,CAAC,EAAE;YACC,OAAO,CAAC,GAAG,CAAC,0BAA0B,EAAE,OAAO,CAAC,KAAK,EAAE,sCAAsC,CAAC,CAAC;YAC/F,KAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,CAAC;YAC1C,KAAI,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC;QAC3C,CAAC,CAAC,CAAC;IACP,CAAC;IApWQ,eAAe;QAD3B,iEAAU,EAAE;yCAMuB,2DAAI;YACM,qFAAc;YACnB,2EAAS;YACX,6DAAO;OARjC,eAAe,CAsW3B;IAAD,sBAAC;CAAA;AAtW2B;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzBuB;AAC2B;AACd;AACpB;AACoB;AACnB;AACK;AAMlD;IAKI,wBAAmB,OAAsB,EACtB,cAA+B,EAC/B,eAAgC,EAChC,SAAoB;QAHpB,YAAO,GAAP,OAAO,CAAe;QACtB,mBAAc,GAAd,cAAc,CAAiB;QAC/B,oBAAe,GAAf,eAAe,CAAiB;QAChC,cAAS,GAAT,SAAS,CAAW;QAPvC,cAAS,GAAY,IAAI,CAAC;IAQ1B,CAAC;IAED,uCAAc,GAAd;QACI,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;IAC9B,CAAC;IAED,uCAAc,GAAd,UAAe,SAAS;QAAxB,iBAkBC;QAjBG,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,CAAC,SAAS,CAAC,qBAAW;YAClD,KAAI,CAAC,OAAO,GAAG,WAAW,CAAC;YAC3B,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;gBACZ,SAAS,CAAC,QAAQ,EAAE,CAAC;YACzB,CAAC;YACD,kEAAkE;YAClE,6BAA6B;YAC7B,wCAAwC;YACxC,sCAAsC;YACtC,8BAA8B;YAC9B,sCAAsC;YACtC,0DAA0D;YAC1D,YAAY;YACZ,UAAU;YACV,IAAI;QACR,CAAC,CAAC,CAAC;IACP,CAAC;IAED,kCAAS,GAAT;QACI,IAAI,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;YACpC,OAAO,EAAE,oBAAoB;YAC7B,QAAQ,EAAE,IAAI;YACd,0DAA0D;YAC1D,QAAQ,EAAE,KAAK;SAClB,CAAC,CAAC;QAEH,KAAK,CAAC,OAAO,EAAE,CAAC;IACpB,CAAC;IAED,uCAAc,GAAd,UAAe,UAAU,EAAE,UAAU;QACjC,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;YACb,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,UAAU,EAAE,qBAAqB,CAAC,CAAC;YAC9D,UAAU,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;QACtC,CAAC;IACL,CAAC;IAED,mCAAU,GAAV,UAAW,MAAM;QAAjB,iBA6BC;QA5BG,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;YACT,OAAO,CAAC,GAAG,CAAC,uBAAuB,EAAE,MAAM,CAAC,IAAI,EAAE,SAAS,EAAE,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACnF,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,IAAI,2EAAa,CAAC,IAAI;gBACjC,MAAM,CAAC,IAAI,IAAI,2EAAa,CAAC,IAAI;gBACjC,MAAM,CAAC,IAAI,IAAI,2EAAa,CAAC,IAAI,CAAC,CAAC,CAAC;gBACpC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,kEAAU,EAAE;oBAC1B,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,UAAC,UAAU;wBACjC,KAAI,CAAC,cAAc,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;oBAC5C,CAAC;iBACJ,CAAC,CAAC;YACP,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,IAAI,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;oBACpC,OAAO,EAAE,6CAA6C;oBACtD,QAAQ,EAAE,IAAI;oBACd,0DAA0D;oBAC1D,QAAQ,EAAE,KAAK;iBAClB,CAAC,CAAC;gBAEH,KAAK,CAAC,OAAO,EAAE,CAAC;YACpB,CAAC;QACL,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,IAAI,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBACpC,OAAO,EAAE,6BAA6B;gBACtC,QAAQ,EAAE,IAAI;gBACd,QAAQ,EAAE,KAAK;aAClB,CAAC,CAAC;YACH,KAAK,CAAC,OAAO,EAAE,CAAC;QACpB,CAAC;IACL,CAAC;IAED,sCAAa,GAAb,UAAc,MAAM;QAChB,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,EAAE,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC;YAClB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;QAC/B,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACzB,CAAC;QACD,EAAE,CAAC,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;YAC3B,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,gBAAgB,CAAC,GAAG,GAAG,CAAC,CAAC;QACrD,CAAC;QACD,EAAE,CAAC,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC;YAC9B,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,mBAAmB,CAAC,GAAG,GAAG,CAAC,CAAC;QACxD,CAAC;QACD,MAAM,CAAC,IAAI,CAAC;IAChB,CAAC;IA/FgB;QAAhB,gEAAS,CAAC,2DAAI,CAAC;kCAAO,2DAAI;gDAAC;IAHnB,cAAc;QAJ1B,gEAAS,CAAC;YACP,QAAQ,EAAE,kBAAkB;WACG;SAClC,CAAC;gGAM2C;YACN,sEAAe;YACd,kEAAe;YACrB,SAAS;OAR9B,cAAc,CAqG1B;IAAD,CAAC;AAAA;0EArGY,YAAc;AAuG3B,WAAW,CAAC,cAAc,EAAE,CAAC,SAAS,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnHE;AACgC;AACR;AACA;AACG;AACM;AACZ;AACG;AACpC;AAM5B;IASI,oBAAmB,OAAsB,EACtB,eAAgC,EAChC,cAA+B,EAC/B,SAAoB;QAHpB,YAAO,GAAP,OAAO,CAAe;QACtB,oBAAe,GAAf,eAAe,CAAiB;QAChC,mBAAc,GAAd,cAAc,CAAiB;QAC/B,cAAS,GAAT,SAAS,CAAW;QAXvC,WAAM,GAAW,IAAI,CAAC;QACtB,qBAAgB,GAAW,IAAI,CAAC;QAChC,kBAAa,GAAY,KAAK,CAAC;QAC/B,WAAM,GAAY,KAAK,CAAC;QAUpB,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC3C,IAAI,CAAC,MAAM,GAAG,iDAAW,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;QACpD,IAAI,CAAC,gBAAgB,GAAG,iDAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACrD,CAAC;IAED,8CAAyB,GAAzB;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,CAAC,CAAC;YAC5B,IAAI,CAAC,YAAY,GAAG;gBAChB,EAAC,KAAK,EAAE,UAAU,EAAE,SAAS,EAAE,sFAAgB,EAAC;gBAChD,EAAC,KAAK,EAAE,aAAa,EAAE,SAAS,EAAE,+FAAmB,EAAC;gBACtD,EAAC,KAAK,EAAE,OAAO,EAAE,SAAS,EAAE,mFAAe,EAAC;aAI/C,CAAC;YAEF,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,2EAAa,CAAC,IAAI;gBACtC,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,2EAAa,CAAC,IAAI,CAAC,CAAC,CAAC;gBACzC,IAAI,CAAC,YAAY,CAAC,IAAI,CAClB,EAAC,KAAK,EAAE,SAAS,EAAE,SAAS,EAAE,yFAAiB,EAAC,CACnD,CAAC;YACN,CAAC;QACL,CAAC;QACD,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC;IAC7B,CAAC;IAED,sBAAI,kCAAU;aAAd;YACI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;QAC5B,CAAC;aAED,UAAe,OAAO;YAClB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YACzB,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,OAAO,CAAC;QAC/B,CAAC;;;OALA;IAOD,+BAAU,GAAV;QACI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;IACvB,CAAC;IAED,+BAAU,GAAV;QACI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;IAChC,CAAC;IAED,mCAAc,GAAd;QACI,uEAAuE;QACvE,mCAAmC;QACnC,sCAAsC;QACtC,oCAAoC;QACpC,kCAAkC;QAClC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;IAC/B,CAAC;IAED,oCAAe,GAAf;QAAA,iBA6DC;QA5DG,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;YAC/B,2DAA2D;YAC3D,IAAI,iBAAiB,GAAG,KAAI,CAAC,MAAM,CAAC;YACpC,IAAI,kBAAkB,GAAG,8CAAQ,CAAC,KAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,UAAU,MAAM,EAAE,KAAK,EAAE,GAAG;gBACtF,MAAM,CAAC,+CAAS,CAAC,KAAK,EAAE,iBAAiB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;oBAChD,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YACpC,CAAC,EAAE,EAAE,CAAC,CAAC;YAEP,2EAA2E;YAC3E,IAAI,SAAS,GAAG,kBAAkB,CAAC,MAAM,IAAI,CAAC,CAAC;YAC/C,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;gBACb,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;gBAChC,GAAG,CAAC,CAAiB,UAAkB,EAAlB,yCAAkB,EAAlB,gCAAkB,EAAlB,IAAkB;oBAAlC,IAAI,QAAQ;oBACb,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,EAAE,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAM,CAAC,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,EAChH,UAAU,EAAE,iBAAiB,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,GAAG,EAAE,OAAM,CAAC,iBAAiB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;iBACzG;gBACD,KAAI,CAAC,aAAa,GAAG,KAAK,CAAC;gBAC3B,IAAI,OAAK,GAAG,KAAI,CAAC,eAAe,CAAC,MAAM,CAAC;oBACpC,KAAK,EAAE,iBAAiB;oBACxB,OAAO,EAAE,mCAAmC;oBAC5C,OAAO,EAAE;wBACL;4BACI,IAAI,EAAE,MAAM;4BACZ,OAAO,EAAE;gCACL,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gCACnB,KAAI,CAAC,cAAc,CAAC,UAAU,CAAC,KAAI,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,UAAC,MAAM;oCACzD,sCAAsC;oCACtC,yDAAyD;oCACzD,+FAA+F;oCAC/F,0DAA0D;oCAC1D,KAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;oCACtB,KAAI,CAAC,MAAM,GAAG,KAAK,CAAC;oCACpB,OAAO,EAAE,CAAC;gCACd,CAAC,CAAC,CAAC;gCAEH,+DAA+D;gCAC/D,oFAAoF;4BACxF,CAAC;yBACJ;wBACD;4BACI,IAAI,EAAE,SAAS;4BACf,OAAO,EAAE;gCACL,KAAI,CAAC,MAAM,GAAG,KAAK,CAAC;gCACpB,OAAO,EAAE,CAAC;4BACd,CAAC;yBACJ;wBACD;4BACI,IAAI,EAAE,QAAQ;4BACd,OAAO,EAAE;gCACL,KAAI,CAAC,MAAM,GAAG,KAAK,CAAC;gCACpB,MAAM,EAAE,CAAC;4BACb,CAAC;yBACJ;qBACJ;iBACJ,CAAC,CAAC;gBACH,OAAK,CAAC,OAAO,EAAE,CAAC;YACpB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,OAAO,EAAE,CAAC;YACd,CAAC;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAED,kCAAa,GAAb,UAAc,SAAS;QAAvB,iBAUC;QATG,2CAA2C;QAC3C,iEAAiE;QACjE,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,CAAC,SAAS,CAAC,UAAC,UAAU;YAClD,IAAI,YAAY,GAAG,UAAU,CAAC,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YACjD,EAAE,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;gBACf,KAAI,CAAC,MAAM,GAAG,YAAY,CAAC;YAC/B,CAAC;YACD,SAAS,CAAC,QAAQ,EAAE,CAAC;QACzB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,8BAAS,GAAT;QACI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,2EAAa,CAAC,IAAI;YACzC,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,2EAAa,CAAC,IAAI,CAAC;IAC/C,CAAC;IAED,gCAAW,GAAX;QACI,MAAM,CAAC;YACH,EAAC,OAAO,EAAE,2EAAa,CAAC,IAAI,EAAE,MAAM,EAAE,MAAM,EAAC;YAC7C,EAAC,OAAO,EAAE,2EAAa,CAAC,IAAI,EAAE,MAAM,EAAE,MAAM,EAAC;YAC7C,EAAC,OAAO,EAAE,2EAAa,CAAC,IAAI,EAAE,MAAM,EAAE,MAAM,EAAC;YAC7C,EAAC,OAAO,EAAE,2EAAa,CAAC,IAAI,EAAE,MAAM,EAAE,MAAM,EAAC;YAC7C,EAAC,OAAO,EAAE,2EAAa,CAAC,IAAI,EAAE,MAAM,EAAE,MAAM,EAAC;YAC7C,EAAC,OAAO,EAAE,2EAAa,CAAC,EAAE,EAAE,MAAM,EAAE,IAAI,EAAC;YACzC,EAAC,OAAO,EAAE,2EAAa,CAAC,IAAI,EAAE,MAAM,EAAE,MAAM,EAAC;SAChD,CAAC;IACN,CAAC;IAED,gCAAW,GAAX;QACI,IAAI,OAAO,GAAG,EAAE,CAAC;QACjB,OAAO,CAAC,IAAI,CAAC,EAAC,OAAO,EAAE,CAAC,EAAE,MAAM,EAAE,MAAM,EAAC,CAAC,CAAC;QAC3C,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,mBAAmB,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC;YACjE,OAAO,CAAC,IAAI,CAAC,EAAC,OAAO,EAAE,CAAC,GAAG,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,QAAQ,EAAE,EAAC,CAAC,CAAC;QAC/D,CAAC;QACD,MAAM,CAAC,OAAO,CAAC;IACnB,CAAC;IAED,mCAAc,GAAd;QACI,IAAI,OAAO,GAAG,CAAC,EAAC,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAC,EAAE,EAAC,KAAK,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,EAAC,CAAC,CAAC;QACzE,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,IAAI,CAAC,cAAc,CAAC,oBAAoB,EAAE,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC;YACzE,IAAI,IAAI,GAAG,CAAC,GAAG,EAAE,CAAC;YAClB,OAAO,CAAC,IAAI,CAAC,EAAC,OAAO,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,GAAG,GAAG,EAAC,CAAC,CAAC;QACnE,CAAC;QACD,MAAM,CAAC,OAAO,CAAC;IACnB,CAAC;IAED,6BAAQ,GAAR,UAAS,IAAI;QACT,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IACzC,CAAC;IAlLQ,UAAU;QAJtB,gEAAS,CAAC;YACP,QAAQ,EAAE,aAAa;WACG;SAC7B,CAAC;mFAU2C;YACL,mFAAe;YAChB,kEAAe;YACpB,OAAS;OAZ9B,UAAU,CAmLtB;IAAD,CAAC;AAAA;SAnLY,UAAU,e;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACdiB;AACsB;AACP;AAMvD;IAAuC,qCAAc;IAEjD,2BAAY,OAAsB,EAAE,SAAoB;eACpD,kBAAM,OAAO,EAAE,SAAS,CAAC;IAC7B,CAAC;IAED,kDAAsB,GAAtB;QACI,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,mBAAmB,EAAE,CAAC;QAC/C,GAAG,CAAC,CAAC,IAAI,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC,EAAE,GAAG,IAAI,MAAM,CAAC,KAAK,CAAC,EAAE,GAAG,EAAE,EAAE,CAAC;YACxD,IAAI,QAAQ,GAAG,GAAG,GAAG,KAAK,CAAC;YAC3B,IAAI,CAAC,IAAI,CAAC,EAAC,OAAO,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,CAAC,QAAQ,EAAE,GAAG,QAAQ,EAAC,CAAC,CAAC;QAC3E,CAAC;QACD,MAAM,CAAC,IAAI,CAAC;IAChB,CAAC;IAED,sDAA0B,GAA1B;QACI,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,GAAG,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,IAAI,EAAE,EAAE,GAAG,EAAE,EAAE,CAAC;YACjC,IAAI,CAAC,IAAI,CAAC,EAAC,OAAO,EAAE,GAAG,EAAE,MAAM,EAAE,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,QAAQ,EAAE,GAAG,QAAQ,EAAC,CAAC,CAAC;QACzE,CAAC;QACD,MAAM,CAAC,IAAI,CAAC;IAChB,CAAC;IAtBQ,iBAAiB;QAJ7B,gEAAS,CAAC;YACP,QAAQ,EAAE,qBAAqB;WACG;SACrC,CAAC;0BAG0D;OAF/C,iBAAiB,CAuB7B;sFAAD,GAAC;AAAA;SAvBY,iBAAiB,gB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRU;AACsB;AACP;AACY;AACX;AAC+C;AACvC;AAOhE;IAAyC,uCAAc;IAInD,6BAAY,OAAsB,EACf,cAA+B,EAC9B,WAAwB,EAChC,SAAoB;QAHhC,YAII,kBAAM,OAAO,EAAE,SAAS,CAAC,SAC5B;QAJkB,oBAAc,GAAd,cAAc,CAAiB;QAC9B,iBAAW,GAAX,WAAW,CAAa;QAL5C,eAAS,GAAc,IAAI,CAAC;QAC5B,uBAAiB,GAAc,IAAI,CAAC;;IAOpC,CAAC;IAED,8CAAgB,GAAhB;IACA,CAAC;IAED,sCAAQ,GAAR;QAAA,iBAoCC;QAnCG,IAAI,sBAAsB,GAAG,IAAI,CAAC,MAAM,CAAC,sBAAsB,EAAE,CAAC;QAElE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YACpC,gBAAgB,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,iBAAiB;gBAC5C,2EAAgB,CAAC,MAAM,CAAC;oBACpB,GAAG,EAAE,IAAI;oBACT,GAAG,EAAE,IAAI,CAAC,cAAc,CAAC,oBAAoB,EAAE;iBAClD,CAAC,CAAC;YACP,gBAAgB,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,iBAAiB;gBAC5C,2EAAgB,CAAC,MAAM,CAAC,sBAAsB,CAAC,CAAC;YACpD,mBAAmB,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,qBAAqB;gBACnD,2EAAgB,CAAC,MAAM,CAAC;oBACpB,GAAG,EAAE,CAAC;oBACN,GAAG,EAAE,GAAG;iBACX,CAAC,CAAC;SACV,CAAC,CAAC;QAEH,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YAC5C,cAAc,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,uBAAuB;gBAChD,2EAAgB,CAAC,MAAM,CAAC;oBACpB,GAAG,EAAE,IAAI;oBACT,GAAG,EAAE,EAAE;iBACV,CAAC,CAAC;YACP,iBAAiB,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,0BAA0B;gBACtD,2EAAgB,CAAC,MAAM,CAAC;oBACpB,GAAG,EAAE,IAAI;oBACT,GAAG,EAAE,IAAI,CAAC,cAAc,CAAC,oBAAoB,EAAE;iBAClD,CAAC,CAAC;SACV,CAAC,CAAC;QAEH,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,SAAS,CAAC,WAAC;YACnC,EAAE,CAAC,CAAC,KAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;gBACrD,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,KAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC,MAAM,CAAC,CAAC;YACnF,CAAC;QACL,CAAC,CAAC;IACN,CAAC;IAED,4CAAc,GAAd;QACI,IAAI,OAAO,GAAG,EAAE,CAAC;QACjB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;YAC7B,OAAO,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;QAC1B,CAAC;QACD,MAAM,CAAC,OAAO,CAAC;IACnB,CAAC;IAED,0CAAY,GAAZ;QACI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,2EAAa,CAAC,IAAI;YACzC,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,2EAAa,CAAC,IAAI,CAAC;IAC/C,CAAC;IAED,0CAAY,GAAZ;QACI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,iBAAiB,IAAI,8EAAgB,CAAC,GAAG;YACxD,IAAI,CAAC,MAAM,CAAC,iBAAiB,IAAI,8EAAgB,CAAC,SAAS,CAAC;IACpE,CAAC;IAED,4CAAc,GAAd;QACI,qEAAqE;QACrE,MAAM,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,IAAI,CAAC,MAAM,CAAC,mBAAmB,IAAI,yFAA2B,CAAC,iBAAiB,CAAC;IACnH,CAAC;IAED,yDAA2B,GAA3B;QACI,MAAM,CAAC;YACH,EAAC,OAAO,EAAE,8EAAgB,CAAC,GAAG,EAAE,MAAM,EAAE,KAAK,EAAC;YAC9C,EAAC,OAAO,EAAE,8EAAgB,CAAC,OAAO,EAAE,MAAM,EAAE,UAAU,EAAC;YACvD,EAAC,OAAO,EAAE,8EAAgB,CAAC,SAAS,EAAE,MAAM,EAAE,YAAY,EAAC;SAC9D,CAAC;IACN,CAAC;IAED,uDAAyB,GAAzB;QACI,MAAM,CAAC;YACH,EAAC,OAAO,EAAE,yFAA2B,CAAC,iBAAiB,EAAE,MAAM,EAAE,oBAAoB,EAAC;YACtF,EAAC,OAAO,EAAE,yFAA2B,CAAC,eAAe,EAAE,MAAM,EAAE,kBAAkB,EAAC;SACrF,CAAC;IACN,CAAC;IAxFQ,mBAAmB;QAL/B,gEAAS,CAAC;YACP,QAAQ,EAAE,uBAAuB;WACG;SACvC,CAAC;gGAMoC;YACC,oEAAe;YACjB,kEAAW;YACrB,SAAS;OAPvB,mBAAmB,CA0F/B;sFAAD,GAAC;AAAA;SA1FY,mBAAmB,gB;;;;;;;;;;;ACboC;AAClB;AAElD;IAAA;IAuBA,CAAC;IAtBU,uBAAM,GAAb,UAAc,IAAS;QAAT,gCAAS;QACnB,MAAM,CAAC,UAAC,OAAoB;YACxB,EAAE,CAAC,CAAC,kFAAS,CAAC,kEAAU,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC1C,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAED,IAAI,GAAG,GAAW,OAAO,CAAC,KAAK,CAAC;YAChC,qFAAqF;YAErF,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,CAAC;gBAC9C,MAAM,CAAC,EAAC,UAAU,EAAE,IAAI,EAAE,SAAS,EAAE,UAAU,EAAC,CAAC;YACrD,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBACpD,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,EAAC,SAAS,EAAE,kBAAkB,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,EAAC,GAAG,IAAI,CAAC;YACjI,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC7B,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,EAAC,SAAS,EAAE,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,EAAC,GAAG,IAAI,CAAC;YAC9E,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC7B,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,EAAC,SAAS,EAAE,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,EAAC,GAAG,IAAI,CAAC;YAC9E,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;QACL,CAAC,CAAC;IACN,CAAC;IACL,uBAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1BuC;AACsB;AACP;AACP;AACL;AACa;AAMxD;IAAqC,mCAAc;IAG/C,yBAAY,OAAsB,EACd,WAAwB,EAChC,SAAoB;QAFhC,YAGI,kBAAM,OAAO,EAAE,SAAS,CAAC,SAC5B;QAHmB,iBAAW,GAAX,WAAW,CAAa;;IAG5C,CAAC;IAED,kCAAQ,GAAR;QACI,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YACrC,SAAS,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW;gBAC/B,2EAAgB,CAAC,MAAM,CAAC;oBACpB,GAAG,EAAE,IAAI;oBACT,GAAG,EAAE,IAAI;iBACZ,CAAC,CAAC;SAEV,CAAC,CAAC;IACP,CAAC;IAED,0CAAgB,GAAhB;QACI,MAAM,CAAC;YACH,EAAC,OAAO,EAAE,mEAAK,CAAC,eAAe,EAAE,MAAM,EAAE,qBAAqB,EAAC;YAC/D,EAAC,OAAO,EAAE,mEAAK,CAAC,eAAe,EAAE,MAAM,EAAE,qBAAqB,EAAC;YAC/D,EAAC,OAAO,EAAE,mEAAK,CAAC,qBAAqB,EAAE,MAAM,EAAE,6BAA6B,EAAC;YAC7E,EAAC,OAAO,EAAE,mEAAK,CAAC,wBAAwB,EAAE,MAAM,EAAE,gCAAgC,EAAC;YACnF,EAAC,OAAO,EAAE,mEAAK,CAAC,oBAAoB,EAAE,MAAM,EAAE,4BAA4B,EAAC;YAC3E,EAAC,OAAO,EAAE,mEAAK,CAAC,oBAAoB,EAAE,MAAM,EAAE,4BAA4B,EAAC;SAC9E,CAAC;IACN,CAAC;IAED,2CAAiB,GAAjB;QACI,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,GAAG,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,EAAE,EAAE,CAAC;YAChC,IAAI,CAAC,IAAI,CAAC,EAAC,OAAO,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,CAAC,QAAQ,EAAE,GAAG,EAAE,EAAC,CAAC,CAAC;QAC3D,CAAC;QACD,MAAM,CAAC,IAAI,CAAC;IAChB,CAAC;IArCQ,eAAe;QAJ3B,gEAAS,CAAC;YACP,QAAQ,EAAE,mBAAmB;WACG;SACnC,CAAC;gFAIoC;YACD,kEAAW;YACrB,SAAS;OALvB,eAAe,CAuC3B;sFAAD,GAAC;AAAA;SAvCY,eAAe,gB;;;;;;;;ACX5B;AAAA;IAAA;IAIA,CAAC;IAHU,kCAAc,GAArB,UAAsB,MAAM;QACxB,MAAM,CAAC,YAAY,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC;IAC7C,CAAC;IACL,gBAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJuC;AACuC;AAEf;AACA;AACnB;AAEjB;AACO;AACe;AACL;AAGiC;AAEtB;AAMxD;IAiBI,2BAAmB,OAAsB,EACtB,cAA+B,EAC/B,OAA6B,EAC7B,SAAoB,EACpB,eAAgC,EAChC,OAA2B,EAC3B,SAAoB;QANvC,iBAyBC;QAzBkB,YAAO,GAAP,OAAO,CAAe;QACtB,mBAAc,GAAd,cAAc,CAAiB;QAC/B,YAAO,GAAP,OAAO,CAAsB;QAC7B,cAAS,GAAT,SAAS,CAAW;QACpB,oBAAe,GAAf,eAAe,CAAiB;QAChC,YAAO,GAAP,OAAO,CAAoB;QAC3B,cAAS,GAAT,SAAS,CAAW;QAjBvC,UAAK,GAAW,QAAQ,CAAC;QACzB,qBAAgB,GAAY,IAAI,CAAC;QACjC,aAAQ,GAAY,IAAI,CAAC;QACzB,YAAO,GAAe,EAAE,CAAC;QAgBrB,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACzC,IAAI,CAAC,gBAAgB,GAAG,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;QAC3D,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC3C,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACrC,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC3C,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACnB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAE3B,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,MAAM,CAAU,QAAQ,CAAC,CAAC,SAAS,CAAC,WAAC;YAC7D,KAAI,CAAC,MAAM,GAAG,CAAC,CAAC;YAChB,KAAI,CAAC,cAAc,GAAG,KAAI,CAAC,MAAM,CAAC,eAAe,CAAC;YAElD,EAAE,CAAC,CAAC,CAAC,KAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;gBACzB,kCAAkC;gBAClC,KAAI,CAAC,cAAc,CAAC,YAAY,GAAG,SAAS,CAAC;YACjD,CAAC;QACL,CAAC,CAAC,CAAC;IACP,CAAC;0BA1CQ,iBAAiB;IA4C1B,uCAAW,GAAX;QACI,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;IACpC,CAAC;IAED,0CAAc,GAAd;QAAA,iBAIC;QAHG,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,CAAC,SAAS,CAAC,UAAC,UAAU;YAClD,KAAI,CAAC,OAAO,GAAG,UAAU,CAAC;QAC9B,CAAC,CAAC,CAAC;IACP,CAAC;IAED,6CAAiB,GAAjB,UAAkB,MAAc;QAAhC,iBAIC;QAHG,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC;YACpB,KAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QAC1B,CAAC,CAAC;IACN,CAAC;IAED,2CAAe,GAAf;QAAA,iBAkDC;QAjDG,IAAI,gBAAgB,GAAW,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,UAAC,CAAS;YACvD,MAAM,CAAC,CAAC,CAAC,IAAI,IAAI,mBAAiB,CAAC,0BAA0B,CAAC;QAClE,CAAC,CAAC,CAAC;QAEH,IAAI,eAAe,GAAY,gBAAgB,IAAI,IAAI,CAAC;QAExD,EAAE,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC;YACpB,mCAAmC;YACnC,IAAI,OAAO,GAAG,IAAI,CAAC,wBAAwB,CAAC,oEAAM,CAAC,eAAe,CAAC,2EAAa,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;YAEhG,iDAAiD;YACjD,sCAAsC;YACtC,gBAAgB,GAAG,OAAO,CAAC,KAAK,EAAE,CAAC;YACnC,EAAE,CAAC,CAAC,gBAAgB,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC/B,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,yCAAyC,CAAC,CAAC;gBAC1E,MAAM,CAAC;YACX,CAAC;YAED,gBAAgB,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,2BAA2B,CAAC;YAClF,gBAAgB,CAAC,IAAI,GAAG,mBAAiB,CAAC,0BAA0B,CAAC;YACrE,OAAO,CAAC,GAAG,CAAC,0CAA0C,EAAE,gBAAgB,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;QACrG,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,gBAAgB,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,2BAA2B,CAAC;QACtF,CAAC;QAED,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;YAC3C,SAAS,EAAE,sBAAsB;YACjC,UAAU,EAAE,QAAQ;SACvB,CAAC,CAAC;QACH,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;QAE3B,IAAI,UAAU,CAAC;QACf,EAAE,EAAC,eAAe,CAAC,CAAC,CAAC;YACjB,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;QACjE,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAC;QAClE,CAAC;QAED,UAAU,CAAC,SAAS,CAAC,UAAC,MAAc;YAChC,KAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;YAE3B,KAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC;gBACpB,KAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YAC1B,CAAC,CAAC;QACN,CAAC,EAAE,UAAC,KAAK;YACL,KAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;YAC3B,KAAI,CAAC,SAAS,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;QAC1C,CAAC,EAAE;QACH,CAAC,CAAC,CAAC;IACP,CAAC;IAED,sBAAI,2CAAY;aAAhB;YACI,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC;QAC5C,CAAC;aAED,UAAiB,KAAK;YAClB,IAAI,CAAC,OAAO,CAAC,sBAAsB,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;QAC/D,CAAC;;;OAJA;IAMD,sBAAI,8CAAe;aAAnB;YACI,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC;QAC/C,CAAC;aAED,UAAoB,KAAK;YACrB,IAAI,CAAC,OAAO,CAAC,sBAAsB,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC;QAClE,CAAC;;;OAJA;IAMD,sBAAI,uCAAQ;aAAZ;YACI,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC;QACxC,CAAC;aAED,UAAa,KAAK;YACd,IAAI,CAAC,OAAO,CAAC,sBAAsB,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;QAC3D,CAAC;;;OAJA;IAMD,sBAAI,yCAAU;aAAd;YACI,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,mBAAmB,CAAC;QACnD,CAAC;aAUD,UAAe,KAAK;YAChB,IAAI,CAAC,OAAO,CAAC,sBAAsB,CAAC,qBAAqB,EAAE,KAAK,CAAC,CAAC;QACtE,CAAC;;;OAZA;IAED,sBAAI,iDAAkB;aAAtB;YACI,MAAM,CAAC,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QAChC,CAAC;aAED,UAAuB,KAAK;YACxB,IAAI,CAAC,UAAU,GAAG,KAAK,GAAG,IAAI,CAAC;QACnC,CAAC;;;OAJA;IAUD,sBAAI,uCAAQ;aAAZ;YACI,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC;QACxC,CAAC;aAED,UAAa,KAAK;YACd,IAAI,CAAC,OAAO,CAAC,sBAAsB,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;QAC3D,CAAC;;;OAJA;IAMD,qCAAS,GAAT;QACI,MAAM,CAAC,IAAI,CAAC,UAAU,IAAI,GAAG,CAAC;IAClC,CAAC;IAED,sCAAU,GAAV;QACI,MAAM,CAAC,YAAY,GAAG,2DAAO,CAAC,SAAS,EAAE,IAAI,CAAC,cAAc,CAAC,2BAA2B,CAAC,CAAC;IAC9F,CAAC;IAED,oDAAwB,GAAxB,UAAyB,SAAiB;QACtC,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,UAAC,MAAM;YACrC,EAAE,CAAC,CAAC,SAAS,IAAI,oEAAM,CAAC,eAAe,CAAC,2EAAa,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAC9D,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YACD,MAAM,CAAC,oEAAM,CAAC,eAAe,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,SAAS,CAAC;QAC5D,CAAC,CAAC,CAAC;QACH,OAAO,CAAC,IAAI,CAAC,UAAC,CAAS,EAAE,CAAS;YAC9B,EAAE,CAAC,CAAC,CAAC,CAAC,cAAc,GAAG,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;gBACtC,MAAM,CAAC,CAAC,CAAC,CAAC;YACd,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,cAAc,GAAG,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;gBAC7C,MAAM,CAAC,CAAC,CAAC;YACb,CAAC;YACD,MAAM,CAAC,CAAC,CAAC;QACb,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,OAAO,CAAC;IACnB,CAAC;IAED,2CAAe,GAAf;QACI,IAAI,OAAO,GAAG,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QAClE,MAAM,CAAC,6CAAO,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;IAC/B,CAAC;IAED,qCAAS,GAAT;QACI,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,oBAAoB,EAAE,CAAC;IACtD,CAAC;IAlLa,4CAA0B,GAAW,sBAAsB,CAAC;IAfjE,iBAAiB;QAJ7B,gEAAS,CAAC;YACP,QAAQ,EAAE,qBAAqB;WACG;SACrC,CAAC;gGAkB2C;YACN,iGAAe;YACtB,6EAAoB;YAClB,sEAAS;YACH,8DAAe;YACvB,gEAAO;YACL,SAAS;OAvB9B,iBAAiB,CAoM7B;IAAD,wBAAC;;AAAA;0EApMY,eAAiB;AAsM9B,WAAW,CAAC,iBAAiB,EAAE,CAAC,SAAS,C;;;;;;;;;;;;;;;;;;;;;;AC3NM;AACF;AACjB;AAM5B;IAOI;QANO,mBAAc,GAAW,CAAC,CAAC;IAOlC,CAAC;IAED,4CAAY,GAAZ;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,IAAI,CAAC,CAAC,CAAC,CAAC;YAClC,MAAM,CAAC,CAAC,CAAC;QACb,CAAC;QACD,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,IAAI,CAAC,CAAC,CAAC,CAAC;YAClC,MAAM,CAAC,CAAC,CAAC;QACb,CAAC;QAED,4CAA4C;QAC5C,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACtC,MAAM,CAAC,CAAC,CAAC;QACb,CAAC;QACD,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACtC,MAAM,CAAC,CAAC,CAAC;QACb,CAAC;QAED,MAAM,CAAC,CAAC,CAAC;IACb,CAAC;IAED,4CAAY,GAAZ;QACI,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YAChB,MAAM,CAAC,EAAE,CAAC;QACd,CAAC;QACD,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;QAC/B,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YACT,MAAM,CAAC,EAAE,CAAC;QACd,CAAC;QAED,qEAAqE;QACrE,OAAO,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,EAAE,CAAC;YAC7C,KAAK,CAAC,IAAI,CAAC,EAAC,CAAC,EAAE,CAAC,IAAI,EAAC,CAAC,CAAC;QAC3B,CAAC;QAED,MAAM,CAAC,6CAAO,CAAC,KAAK,EAAE,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;IAC/C,CAAC;IAED,6CAAa,GAAb,UAAc,IAAI;QACd,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;IAC3B,CAAC;IAED,4CAAY,GAAZ,UAAa,IAAI;QACb,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;IAClC,CAAC;IAED,yDAAyD;IACzD,2CAAW,GAAX,UAAY,OAAO;QAAnB,iBAOC;QANG,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;QAC/B,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YACR,KAAK,CAAC,OAAO,CAAC,cAAI;gBACd,KAAI,CAAC,cAAc,GAAG,IAAI,CAAC,GAAG,CAAC,KAAI,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC;YACrE,CAAC,CAAC,CAAC;QACP,CAAC;IACL,CAAC;IAED;;OAEG;IACH,4CAAY,GAAZ,UAAa,WAAW;QACpB,oBAAoB;QACpB,oEAAoE;QACpE,qEAAqE;QACrE,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;QACjE,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,cAAc,GAAG,GAAG,CAAC;QAE9C,8BAA8B;QAC9B,+FAA+F;QAC/F,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3B,CAAC;IAED;;OAEG;IACH,iDAAiB,GAAjB,UAAkB,YAAY,EAAE,YAAY;QACxC,IAAI,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC;QAC9D,MAAM,CAAC,WAAW,IAAI,YAAY,CAAC;IACvC,CAAC;IAjFQ;QAAR,4DAAK,EAAE;kCAAU,gEAAO;0DAAC;IACjB;QAAR,4DAAK,EAAE;;wDAAe;IALd,qBAAqB;QAJjC,gEAAS,CAAC;YACP,QAAQ,EAAE,eAAe;WACQ;SACpC,CAAC;;OACW,qBAAqB,CAsFjC;IAAD,CAAC;AAAA;SAtFY,qBAAqB,W;;;;;;;;;;;;;ACRuC;AAC5B;AAEN;AACuC;AAE9E,kCAAkC;AAClC,IAAI,OAAO,GAAG,6GAAkB,EAAE,CAAC;AACnC,OAAO,CAAC,GAAG,CAAC,aAAa,GAAG,OAAO,CAAC,YAAY,GAAG,OAAO,CAAC,CAAC;AAC5D,EAAE,CAAC,CAAC,OAAO,CAAC,YAAY,IAAI,MAAM,CAAC,CAAC,CAAC;IACjC,qEAAc,EAAE,CAAC;AACrB,CAAC;AAED,yGAAsB,EAAE,CAAC,eAAe,CAAC,8DAAS,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACbI;AACf;AACY;AACH;AACqB;AACjC;AACM;AACiC;AAChB;AACN;AACQ;AACoB;AACnB;AACd;AACoB;AACG;AACM;AACZ;AAChB;AACsB;AACgB;AACT;AACN;AACvB;AACM;AACJ;AACoB;AAC7B;AACmC;AACH;AACD;AACZ;AACV;AACkB;AACI;AAC/B;AACkC;AACjB;AAC4B;AACxB;AAuEjE;IACI,mBAAY,OAA2B,EAC3B,UAA8B,EAC9B,QAA2B;QACnC,gGAAsB,CAAC,OAAO,EAAE,UAAU,EAAE,QAAQ,CAAC,CAAC;IAC1D,CAAC;IALQ,SAAS;QArErB,+DAAQ,CAAC;YACN,YAAY,EAAE;gBACV,6DAAK;gBACL,4EAAW;gBACX,6EAAU;gBACV,kEAAQ;gBACR,8DAAQ,EAAE,iEAAW,EAAE,kEAAY,EAAE,8DAAQ;gBAC7C,0EAAc;gBACd,sFAAgB;gBAChB,uGAAqB;gBACrB,iGAAkB;gBAClB,gHAAwB;gBACxB,uFAAc;gBACd,yEAAU;gBACV,6FAAgB;gBAChB,gGAAiB;gBACjB,sGAAmB;gBACnB,gGAAiB;gBACjB,mEAAQ;gBACR,0FAAe;gBACf,gGAAiB;gBACjB,0GAAsB;aACzB;YACD,OAAO,EAAE;gBACL,gFAAa;gBACb,iEAAU;gBACV,oEAAa;gBACb,qEAAe;gBACf,wFAAgB;gBAChB,wGAAwB;gBACxB,kEAAW,CAAC,OAAO,CAAC,6DAAK,EAAE,EAAE,EACrC;oBACE,KAAK,EAAE;wBACL,EAAE,YAAY,EAAE,0EAA0E,EAAE,IAAI,EAAE,oBAAoB,EAAE,OAAO,EAAE,iBAAiB,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;qBAC1L;iBACF,CAAC;gBACM,0EAAkB,CAAC,OAAO,EAAE;gBAC5B,sGAAkB;aACrB;YACD,SAAS,EAAE,CAAC,+DAAQ,CAAC;YACrB,eAAe,EAAE;gBACb,6DAAK;gBACL,kEAAQ;gBACR,6EAAU;gBACV,uFAAc;gBACd,yEAAU;gBACV,6FAAgB;gBAChB,gGAAiB;gBACjB,sGAAmB;gBACnB,0FAAe;gBACf,gGAAiB;gBACjB,uGAAqB;gBACrB,iGAAkB;gBAClB,gHAAwB;aAC3B;YACD,SAAS,EAAE;gBACP,sFAAc;gBACd,4EAAS;gBACT,kGAAmB;gBACnB,kGAAoB;gBACpB,oFAAa;gBACb,8FAAkB;gBAClB,4EAAS;gBACT,kFAAY;gBACZ,EAAC,OAAO,EAAE,mFAAe,EAAE,QAAQ,EAAE,mFAAe,EAAC;gBACrD,EAAC,OAAO,EAAE,2DAAY,EAAE,QAAQ,EAAE,wEAAiB,EAAC;gBACpD,kGAAmB;aACtB;SACJ,CAAC;6DAEuB,8DAAO,oBAAP,8DAAO,sDACJ,8FAAkB,oBAAlB,8FAAkB,sDACpB,wEAAiB,oBAAjB,wEAAiB;OAH9B,SAAS,CAMrB;IAAD,gBAAC;;CAAA;AANqB;;;;;;;;;;;;;;;;;;;;;;AC9GmB;AAEI;AAG7C;IAOI,mBAAoB,OAA2B;QAA3B,YAAO,GAAP,OAAO,CAAoB;IAC/C,CAAC;kBARQ,SAAS;IAUlB,mCAAe,GAAf,UAAgB,KAAa;QACzB,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YACT,OAAO,CAAC,GAAG,CAAC,qCAAqC,CAAC,CAAC;YACnD,MAAM,CAAC;QACX,CAAC;QACD,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;YAClB,IAAI,EAAE,WAAS,CAAC,qBAAqB;YACrC,OAAO,EAAE,KAAK;SACjB,CAAC,CAAC;IACP,CAAC;IAED,yCAAqB,GAArB,UAAsB,KAAY;QAC9B,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YACT,OAAO,CAAC,GAAG,CAAC,2CAA2C,CAAC,CAAC;YACzD,MAAM,CAAC;QACX,CAAC;QACD,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;YAClB,IAAI,EAAE,WAAS,CAAC,wBAAwB;YACxC,OAAO,EAAE,KAAK;SACjB,CAAC,CAAC;IACP,CAAC;IAED,wCAAoB,GAApB,UAAqB,QAAkB;QACnC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;YACZ,OAAO,CAAC,GAAG,CAAC,0CAA0C,CAAC,CAAC;YACxD,MAAM,CAAC;QACX,CAAC;QACD,IAAI,OAAO,GAAG,QAAQ,CAAC,UAAU,GAAG,QAAQ,CAAC,UAAU,GAAG,QAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC;QACrF,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;YAClB,IAAI,EAAE,WAAS,CAAC,qBAAqB;YACrC,OAAO,EAAE,OAAO;SACnB,CAAC,CAAC;IACP,CAAC;IAED,mCAAe,GAAf;QACI,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;YAClB,IAAI,EAAE,WAAS,CAAC,mBAAmB;SACtC,CAAC,CAAC;IACP,CAAC;IAED,qCAAiB,GAAjB;QACI,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;YAClB,IAAI,EAAE,WAAS,CAAC,kBAAkB;SACrC,CAAC,CAAC;IACP,CAAC;IArDM,+BAAqB,GAAW,uBAAuB,CAAC;IACxD,kCAAwB,GAAW,0BAA0B,CAAC;IAE9D,6BAAmB,GAAW,qBAAqB,CAAC;IACpD,4BAAkB,GAAW,oBAAoB,CAAC;IALhD,SAAS;QADrB,iEAAU,EAAE;yCAQoB,6DAAO;OAP3B,SAAS,CAuDrB;IAAD,gBAAC;;CAAA;AAvDqB;;;;;;;;;;;;;;;;;ACLwB;AAE9C,IAAY,aASX;AATD,WAAY,aAAa;IACrB,iDAAQ;IACR,iDAAI;IACJ,iDAAI;IACJ,iDAAI;IACJ,iDAAI;IACJ,6CAAE;IACF,iDAAI;IACJ,yDAAQ;AACZ,CAAC,EATW,aAAa,KAAb,aAAa,QASxB;AAED,IAAY,eAOX;AAPD,WAAY,eAAe;IACvB,qDAAQ;IACR,yDAAU;IACV,qDAAQ;IACR,qDAAQ;IACR,oCAAoC;IACpC,mEAAe;AACnB,CAAC,EAPW,eAAe,KAAf,eAAe,QAO1B;AAED,sBAAsB;AACtB,IAAY,mBAQX;AARD,WAAY,mBAAmB;IAC3B,2CAA2C;IAC3C,+GAA6B;IAE7B,wDAAwD;IACxD,+GAA6B;IAC7B,2GAA2B;IAC3B,6GAA4B;AAChC,CAAC,EARW,mBAAmB,KAAnB,mBAAmB,QAQ9B;AAED,0DAA0D;AAC1D,IAAY,gBAIX;AAJD,WAAY,gBAAgB;IACxB,qDAAO;IACP,6DAAW;IACX,iEAAa;AACjB,CAAC,EAJW,gBAAgB,KAAhB,gBAAgB,QAI3B;AAED,IAAY,2BAGX;AAHD,WAAY,2BAA2B;IACnC,uGAAqB;IACrB,mGAAmB;AACvB,CAAC,EAHW,2BAA2B,KAA3B,2BAA2B,QAGtC;AAED,IAAY,KAOX;AAPD,WAAY,KAAK;IACb,uDAAe;IACf,uDAAe;IACf,mEAAqB;IACrB,yEAAwB;IACxB,iEAAoB;IACpB,iEAAoB;AACxB,CAAC,EAPW,KAAK,KAAL,KAAK,QAOhB;AAED,IAAI,uBAAuB,GAA4D,IAAI,GAAG,EAAE,CAAC;AACjG,uBAAuB,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,EAAC,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAC,CAAC;AACvE,uBAAuB,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,EAAC,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAC,CAAC;AACvE,uBAAuB,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,EAAC,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,EAAE,EAAC,CAAC;AAEtE;IACI,gBAAmB,IAAQ;QAAR,SAAI,GAAJ,IAAI,CAAI;IAC3B,CAAC;IAED,qBAAI,GAAJ;QACI,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACrC,CAAC;IAED,sBAAK,GAAL;QACI,IAAI,UAAU,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC;QAC7B,IAAI,QAAQ,GAAW,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC;QAC1D,QAAQ,CAAC,oBAAoB,EAAE,CAAC;QAChC,MAAM,CAAC,QAAQ,CAAC;IACpB,CAAC;IAED,uCAAsB,GAAtB;QACI,IAAI,QAAQ,GAAG,EAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAC,CAAC;QACnC,EAAE,CAAC,CAAC,uBAAuB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACrC,QAAQ,GAAG,uBAAuB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAClD,CAAC;QACD,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,QAAQ,EAAE,sBAAsB,CAAC,CAAC;QACxD,MAAM,CAAC,QAAQ,CAAC;IACpB,CAAC;IAED,oCAAmB,GAAnB;QACI,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YAChB,KAAK,aAAa,CAAC,IAAI;gBACnB,MAAM,CAAC,EAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAC,CAAC;YAChC,KAAK,aAAa,CAAC,IAAI;gBACnB,MAAM,CAAC,EAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAC;QACnC,CAAC;QACD,MAAM,CAAC,EAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAC,CAAC;IAC9B,CAAC;IAED,qCAAoB,GAApB;QACI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;IAC5B,CAAC;IAED,sBAAI,wBAAI;aAAR;YACI,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBACpB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC7B,CAAC;YACD,MAAM,CAAI,IAAI,CAAC,QAAQ,SAAI,IAAI,CAAC,cAAc,MAAG,CAAC;QACtD,CAAC;aAED,UAAS,KAAa;YAClB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC;QAC9B,CAAC;;;OAJA;IAMD,sBAAI,yBAAK;aAAT;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC9B,CAAC;;;OAAA;IAED,sBAAI,4BAAQ;aAAZ;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QACjC,CAAC;;;OAAA;IAED,sBAAI,wBAAI;aAAR;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC7B,CAAC;aAED,UAAS,KAAoB;YACzB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC;QAC9B,CAAC;;;OAJA;IAMD,sBAAI,yBAAK;aAAT;YACI,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gBAChB,KAAK,aAAa,CAAC,IAAI;oBACnB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBAChC,KAAK,aAAa,CAAC,IAAI;oBACnB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBAChC,KAAK,aAAa,CAAC,IAAI;oBACnB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YACpC,CAAC;YACD,MAAM,CAAC,CAAC,CAAC;QACb,CAAC;aAED,UAAU,KAAa;YACnB,KAAK,GAAG,CAAC,KAAK,CAAC;YACf,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gBAChB,KAAK,aAAa,CAAC,IAAI;oBACnB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC;oBAC7B,KAAK,CAAC;gBACV,KAAK,aAAa,CAAC,IAAI;oBACnB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC;oBAC7B,KAAK,CAAC;gBACV,KAAK,aAAa,CAAC,IAAI;oBACnB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC;oBAC7B,KAAK,CAAC;YACd,CAAC;QACL,CAAC;;;OAfA;IAiBD,sBAAI,4BAAQ;aAAZ;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QACjC,CAAC;aAED,UAAa,KAAa;YACtB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,KAAK,CAAC;QACnC,CAAC;;;OAJA;IAMD,sBAAI,gCAAY;aAAhB;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QACrC,CAAC;aAED,UAAiB,KAAa;YAC1B,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,KAAK,CAAC;QACvC,CAAC;;;OAJA;IAMD,sBAAI,8BAAU;aAAd;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACnC,CAAC;aAED,UAAe,KAAc;YACzB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,KAAK,CAAC;QACpC,CAAC;;;OAJA;IAMD,sBAAI,+BAAW;aAAf;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACpC,CAAC;aAED,UAAgB,KAAa;YACzB,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,KAAK,CAAC;QACtC,CAAC;;;OAJA;IAMD,sBAAI,oCAAgB;aAApB;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;QACzC,CAAC;aAED,UAAqB,KAAa;YAC9B,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,KAAK,CAAC;QAC3C,CAAC;;;OAJA;IAMD,sBAAI,gCAAY;aAAhB;YACI,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC9B,MAAM,CAAC,eAAe,CAAC,WAAW,CAAC;YACvC,CAAC;YACD,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;QAC1C,CAAC;aAED,UAAiB,KAAsB;YACnC,EAAE,CAAC,CAAC,KAAK,IAAI,eAAe,CAAC,WAAW,CAAC,CAAC,CAAC;gBACvC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;gBAC3B,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,eAAe,CAAC,IAAI,CAAC;YAClD,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;gBAC3B,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC;YACpC,CAAC;QACL,CAAC;;;OAVA;IAYD,sBAAI,oCAAgB;aAApB;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;QAC5C,CAAC;aAED,UAAqB,KAA0B;YAC3C,IAAI,CAAC,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,KAAK,CAAC;QAC9C,CAAC;;;OAJA;IAMD,sBAAI,uCAAmB;aAAvB;YACI,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gBAChB,KAAK,aAAa,CAAC,IAAI;oBACnB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAC;gBACjD,KAAK,aAAa,CAAC,IAAI;oBACnB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,0BAA0B,CAAC;YACpD,CAAC;YACD,MAAM,CAAC,CAAC,CAAC;QACb,CAAC;aAED,UAAwB,KAAa;YACjC,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gBAChB,KAAK,aAAa,CAAC,IAAI;oBACnB,IAAI,CAAC,IAAI,CAAC,0BAA0B,CAAC,GAAG,CAAC,KAAK,CAAC;oBAC/C,KAAK,CAAC;gBACV,KAAK,aAAa,CAAC,IAAI;oBACnB,IAAI,CAAC,IAAI,CAAC,0BAA0B,CAAC,GAAG,CAAC,KAAK,CAAC;oBAC/C,KAAK,CAAC;YACd,CAAC;QACL,CAAC;;;OAXA;IAaD,sBAAI,kCAAc;aAAlB;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QACvC,CAAC;aAED,UAAmB,KAAa;YAC5B,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC;QACzC,CAAC;;;OAJA;IAOD,sBAAI,+BAAW;QADf,iCAAiC;aACjC;YACI,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC;gBAClC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YAClC,CAAC;YACD,MAAM,CAAC,CAAC,CAAC;QACb,CAAC;aAED,UAAgB,KAAa;YACzB,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC;gBAClC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC;YACpC,CAAC;QACL,CAAC;;;OANA;IAQD,sBAAI,qCAAiB;aAArB;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;QAC1C,CAAC;aAED,UAAsB,KAAa;YAC/B,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,KAAK,CAAC;QAC5C,CAAC;;;OAJA;IAMD,sBAAI,qCAAiB;aAArB;YACI,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gBAChB,KAAK,aAAa,CAAC,IAAI;oBACnB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;gBAE7C,KAAK,aAAa,CAAC,IAAI;oBACnB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,6BAA6B,CAAC,CAAC;gBAEpD,KAAK,aAAa,CAAC,IAAI;oBACnB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,6BAA6B,CAAC,CAAC;YACxD,CAAC;YACD,MAAM,CAAC,CAAC,CAAC;QACb,CAAC;aAED,UAAsB,KAAa;YAC/B,KAAK,GAAG,CAAC,KAAK,CAAC;YACf,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gBAChB,KAAK,aAAa,CAAC,IAAI;oBACnB,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,GAAG,KAAK,CAAC;oBAC1C,KAAK,CAAC;gBAEV,KAAK,aAAa,CAAC,IAAI;oBACnB,IAAI,CAAC,IAAI,CAAC,6BAA6B,CAAC,GAAG,KAAK,CAAC;oBACjD,KAAK,CAAC;gBAEV,KAAK,aAAa,CAAC,IAAI;oBACnB,IAAI,CAAC,IAAI,CAAC,6BAA6B,CAAC,GAAG,KAAK,CAAC;YACzD,CAAC;QACL,CAAC;;;OAhBA;IAkBD,sBAAI,sCAAkB;aAAtB;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACnC,CAAC;aAED,UAAuB,KAAa;YAChC,KAAK,GAAG,8EAAK,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,KAAK,CAAC,CAAC;YAC9B,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,KAAK,CAAC;QACpC,CAAC;;;OALA;IAOD,sBAAI,yCAAqB;aAAzB;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QACtC,CAAC;aAED,UAA0B,KAAa;YACnC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,KAAK,CAAC;QACxC,CAAC;;;OAJA;IAMD,sBAAI,4CAAwB;aAA5B;YACI,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gBAChB,KAAK,aAAa,CAAC,IAAI;oBACnB,MAAM,CAAC,IAAI,CAAC,mBAAmB,GAAG,GAAG,CAAC;gBAC1C,KAAK,aAAa,CAAC,IAAI;oBACnB,MAAM,CAAC,IAAI,CAAC,mBAAmB,GAAG,GAAG,CAAC;YAC9C,CAAC;YACD,MAAM,CAAC,KAAK,CAAC;QACjB,CAAC;;;OAAA;IAED,sBAAI,mCAAe;aAAnB;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QACxC,CAAC;aAED,UAAoB,KAAa;YAC7B,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,KAAK,CAAC;QAC1C,CAAC;;;OAJA;IAMD,sBAAI,uCAAmB;aAAvB;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QACrC,CAAC;aAED,UAAwB,KAAa;YACjC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,KAAK,CAAC;QACvC,CAAC;;;OAJA;IAMD,sBAAI,0CAAsB;aAA1B;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QACxC,CAAC;aAED,UAA2B,KAAa;YACpC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,KAAK,CAAC;QAC1C,CAAC;;;OAJA;IAMD,sBAAI,4CAAwB;aAA5B;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;QAC3C,CAAC;aAED,UAA6B,KAAc;YACvC,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,GAAG,KAAK,CAAC;QAC5C,CAAC;;;OAJA;IAMD,sBAAI,wCAAoB;aAAxB;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;QAC3C,CAAC;aAED,UAAyB,KAAc;YACnC,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,GAAG,KAAK,CAAC;QAC5C,CAAC;;;OAJA;IAOD,sBAAI,6CAAyB;QAD7B,gBAAgB;aAChB;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QACtC,CAAC;aAED,UAA8B,KAAa;YACvC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,KAAK,CAAC;QACxC,CAAC;;;OAJA;IAMD,sBAAI,0CAAsB;aAA1B;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QACrC,CAAC;aAED,UAA2B,KAAa;YACpC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,KAAK,CAAC;QACvC,CAAC;;;OAJA;IAMD,sBAAI,+CAA2B;aAA/B;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;QAC1C,CAAC;aAED,UAAgC,KAAc;YAC1C,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC;QAC/C,CAAC;;;OAJA;IAMD,sBAAI,4CAAwB;aAA5B;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QACtC,CAAC;aAED,UAA6B,KAAc;YACvC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,KAAK,CAAC;QACvC,CAAC;;;OAJA;IAOD,sBAAI,gDAA4B;QADhC,mBAAmB;aACnB;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QACtC,CAAC;aAED,UAAiC,KAAa;YAC1C,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,KAAK,CAAC;QACxC,CAAC;;;OAJA;IAMD,sBAAI,6CAAyB;aAA7B;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QACrC,CAAC;aAED,UAA8B,KAAa;YACvC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,KAAK,CAAC;QACvC,CAAC;;;OAJA;IAMD,sBAAI,kDAA8B;aAAlC;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;QAC1C,CAAC;aAED,UAAmC,KAAc;YAC7C,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC;QAC/C,CAAC;;;OAJA;IAMD,sBAAI,+CAA2B;aAA/B;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QACtC,CAAC;aAED,UAAgC,KAAc;YAC1C,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,KAAK,CAAC;QACvC,CAAC;;;OAJA;IAOD,sBAAI,qDAAiC;QADrC,QAAQ;aACR;YACI,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,IAAI,IAAI,CAAC;QACnD,CAAC;aAED,UAAsC,KAAc;YAChD,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;gBACR,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC;YAC5D,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC;YAC7D,CAAC;QACL,CAAC;;;OARA;IAUD,sBAAI,6CAAyB;aAA7B;YACI,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,IAAI,IAAI,CAAC;QACnD,CAAC;aAED,UAA8B,KAAc;YACxC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;gBACR,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC;YAC5D,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC;YAC7D,CAAC;QACL,CAAC;;;OARA;IAUD,sBAAI,qCAAiB;aAArB;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;QAC7C,CAAC;aAED,UAAsB,KAAuB;YACzC,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,GAAG,KAAK,CAAC;QAC9C,CAAC;;;OAJA;IAMD,sBAAI,uCAAmB;aAAvB;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACpC,CAAC;aAED,UAAwB,KAAkC;YACtD,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,KAAK,CAAC;QACtC,CAAC;;;OAJA;IAMD,sBAAI,2CAAuB;aAA3B;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACpC,CAAC;aAED,UAA4B,KAAa;YACrC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,KAAK,CAAC;QACtC,CAAC;;;OAJA;IAMD,sBAAI,8CAA0B;aAA9B;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QACvC,CAAC;aAED,UAA+B,KAAa;YACxC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC;QACzC,CAAC;;;OAJA;IAOD,sBAAI,wCAAoB;QADxB,UAAU;aACV;YACI,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gBAChB,KAAK,aAAa,CAAC,IAAI;oBACnB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,2BAA2B,CAAC,CAAC;gBAClD,KAAK,aAAa,CAAC,IAAI;oBACnB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,2BAA2B,CAAC,CAAC;YACtD,CAAC;YACD,MAAM,CAAC,CAAC,CAAC;QACb,CAAC;aAED,UAAyB,KAAa;YAClC,KAAK,GAAG,CAAC,KAAK,CAAC;YACf,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gBAChB,KAAK,aAAa,CAAC,IAAI;oBACnB,IAAI,CAAC,IAAI,CAAC,2BAA2B,CAAC,GAAG,KAAK,CAAC;oBAC/C,KAAK,CAAC;gBACV,KAAK,aAAa,CAAC,IAAI;oBACnB,IAAI,CAAC,IAAI,CAAC,2BAA2B,CAAC,GAAG,KAAK,CAAC;oBAC/C,KAAK,CAAC;YACd,CAAC;QACL,CAAC;;;OAZA;IAcD,sBAAI,2CAAuB;aAA3B;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;QAC3C,CAAC;aAED,UAA4B,KAAa;YACrC,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,KAAK,CAAC;QAC7C,CAAC;;;OAJA;IAMD,sBAAI,uCAAmB;aAAvB;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACnC,CAAC;aAED,UAAwB,KAAc;YAClC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,KAAK,CAAC;QACpC,CAAC;;;OAJA;IAOD,sBAAI,8BAAU;QADd,QAAQ;aACR;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACnC,CAAC;aAED,UAAe,KAAY;YACvB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,KAAK,CAAC;QACpC,CAAC;;;OAJA;IAMD,sBAAI,+BAAW;aAAf;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACpC,CAAC;aAED,UAAgB,KAAa;YACzB,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,KAAK,CAAC;QACtC,CAAC;;;OAJA;IAMD,sBAAI,+BAAW;aAAf;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACpC,CAAC;aAED,UAAgB,KAAa;YACzB,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,KAAK,CAAC;QACtC,CAAC;;;OAJA;IAOD,sBAAI,kCAAc;QADlB,OAAO;aACP;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAChC,CAAC;aAED,UAAmB,KAAa;YAC5B,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC;QAClC,CAAC;;;OAJA;IAMD,sBAAI,4CAAwB;aAA5B;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QACvC,CAAC;aAED,UAA6B,KAAc;YACvC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,GAAG,KAAK,CAAC;QACxC,CAAC;;;OAJA;IAMD,sBAAI,mCAAe;aAAnB;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;QAC1C,CAAC;aAED,UAAoB,KAAc;YAC9B,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,GAAG,KAAK,CAAC;QAC3C,CAAC;;;OAJA;IAMD,sBAAI,mCAAe;aAAnB;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;QAC3C,CAAC;aAED,UAAoB,KAAa;YAC7B,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,KAAK,CAAC;QAC7C,CAAC;;;OAJA;IAMD,sBAAI,mCAAe;aAAnB;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QACxC,CAAC;aAED,UAAoB,KAAa;YAC7B,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,KAAK,CAAC;QAC1C,CAAC;;;OAJA;IAMa,sBAAe,GAA7B,UAA8B,SAAwB;QAClD,MAAM,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;YAChB,KAAK,aAAa,CAAC,QAAQ;gBACvB,MAAM,CAAC,KAAK,CAAC;YACjB,KAAK,aAAa,CAAC,IAAI;gBACnB,MAAM,CAAC,IAAI,CAAC;YAChB,KAAK,aAAa,CAAC,IAAI;gBACnB,MAAM,CAAC,IAAI,CAAC;YAChB,KAAK,aAAa,CAAC,IAAI;gBACnB,MAAM,CAAC,IAAI,CAAC;YAChB,KAAK,aAAa,CAAC,IAAI;gBACnB,MAAM,CAAC,IAAI,CAAC;YAChB,KAAK,aAAa,CAAC,IAAI;gBACnB,MAAM,CAAC,IAAI,CAAC;YAChB,KAAK,aAAa,CAAC,EAAE;gBACjB,MAAM,CAAC,IAAI,CAAC;YAChB,KAAK,aAAa,CAAC,IAAI;gBACnB,MAAM,CAAC,IAAI,CAAC;QACpB,CAAC;QACD,MAAM,CAAC,IAAI,CAAC;IAChB,CAAC;IAED,gCAAe,GAAf,UAAgB,gBAAuB;QAAvB,0DAAuB;QACnC,IAAI,IAAI,GAAG,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC7C,IAAI,IAAI,GAAG,gBAAgB,GAAG,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,iBAAiB,CAAC;QAC3E,MAAM,CAAI,IAAI,SAAI,IAAI,MAAG,CAAC;IAC9B,CAAC;IAED,2BAAU,GAAV,UAAW,YAAY;QACnB,IAAI,CAAC,IAAI,GAAG,YAAY,CAAC,IAAI,CAAC;IAClC,CAAC;IAED,sBAAI,4BAAQ;aAAZ;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ;QAC/C,CAAC;;;OAAA;IACL,aAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;ACnnBwC;AAEI;AACsB;AACpC;AAI/B;IAOI,8BAAoB,OAA2B,EAC3B,SAAoB,EACpB,cAA+B;QAF/B,YAAO,GAAP,OAAO,CAAoB;QAC3B,cAAS,GAAT,SAAS,CAAW;QACpB,mBAAc,GAAd,cAAc,CAAiB;IACnD,CAAC;6BAVQ,oBAAoB;IAY7B,8CAAe,GAAf;QACI,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;YAClB,IAAI,EAAE,sBAAoB,CAAC,iBAAiB;YAC5C,OAAO,EAAE,EAAE;SACd,CAAC,CAAC;IACP,CAAC;IAED,+CAAgB,GAAhB,UAAiB,GAAW,EAAE,KAAU;QACpC,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC;IACrC,CAAC;IAED,qDAAsB,GAAtB,UAAuB,GAAW,EAAE,KAAU;QAC1C,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;YAClB,IAAI,EAAE,sBAAoB,CAAC,6BAA6B;YACxD,OAAO,EAAE,MAAM;YACf,iBAAiB,EAAE,IAAI,CAAC,cAAc,CAAC,oBAAoB,EAAE;SAChE,CAAC,CAAC;IACP,CAAC;IAED,kDAAmB,GAAnB,UAAoB,MAAM;QACtB,uCAAuC;QACvC,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;YACT,IAAI,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC;YAC5C,IAAI,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;YACjC,EAAE,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBAC7B,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;oBAClB,IAAI,EAAE,sBAAoB,CAAC,sBAAsB;oBACjD,OAAO,EAAE,MAAM;iBAClB,CAAC,CAAC;YACP,CAAC;QACL,CAAC;IACL,CAAC;IA9CM,sCAAiB,GAAW,mBAAmB,CAAC;IAChD,2CAAsB,GAAW,wBAAwB,CAAC;IAC1D,kDAA6B,GAAW,+BAA+B,CAAC;IACxE,0CAAqB,GAAW,uBAAuB,CAAC;IACxD,oCAAe,GAAW,iBAAiB,CAAC;IAL1C,oBAAoB;QADhC,iEAAU,EAAE;yCAQoB,6DAAO;YACL,sDAAS;YACJ,mFAAe;OAT1C,oBAAoB,CAgDhC;IAAD,2BAAC;;CAAA;AAhDgC;;;;;;;;;;;;;;;;;;;;;;;;ACRQ;AAEI;AAGsB;AACpC;AAI/B;IAOI,uBAAoB,OAA2B,EAC3B,SAAoB,EACpB,cAA+B;QAF/B,YAAO,GAAP,OAAO,CAAoB;QAC3B,cAAS,GAAT,SAAS,CAAW;QACpB,mBAAc,GAAd,cAAc,CAAiB;IACnD,CAAC;sBAVQ,aAAa;IAYtB,8CAAsB,GAAtB;QAAA,iBAUC;QATG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;YAClB,IAAI,EAAE,eAAa,CAAC,YAAY;SACnC,CAAC,CAAC;QAEH,IAAI,CAAC,cAAc,CAAC,SAAS,EAAE,CAAC,SAAS,CAAC,gBAAM;YAC5C,KAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC;QACvD,CAAC,EAAE,UAAC,KAAK;YACL,KAAI,CAAC,SAAS,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;QAC1C,CAAC,CAAC,CAAC;IACP,CAAC;IAED,wCAAgB,GAAhB,UAAiB,MAAM;QACnB,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;YAClB,IAAI,EAAE,eAAa,CAAC,qBAAqB;YACzC,OAAO,EAAE,MAAM;SAClB,CAAC,CAAC;IACP,CAAC;IAED,yCAAiB,GAAjB,UAAkB,GAAW,EAAE,KAAU;QACrC,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;IAClC,CAAC;IAED,0CAAkB,GAAlB,UAAmB,YAAoB;QAAvC,iBAIC;QAHG,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC,GAAG,CAAC,UAAC,CAAS;YAC9D,KAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;QAClD,CAAC,CAAC,CAAC;IACP,CAAC;IAED,kCAAU,GAAV;QACI,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;YAClB,IAAI,EAAE,eAAa,CAAC,WAAW;SAClC,CAAC,CAAC;IACP,CAAC;IAED,sCAAc,GAAd,UAAe,YAAoB;QAC/B,MAAM,CAAC;YACH,IAAI,EAAE,eAAa,CAAC,SAAS;YAC7B,OAAO,EAAE,YAAY;SACxB,CAAC;IACN,CAAC;IArDM,0BAAY,GAAW,cAAc,CAAC;IACtC,yBAAW,GAAW,aAAa,CAAC;IACpC,uBAAS,GAAW,WAAW,CAAC;IAChC,2BAAa,GAAW,eAAe,CAAC;IACxC,mCAAqB,GAAW,uBAAuB,CAAC;IALtD,aAAa;QADzB,iEAAU,EAAE;yCAQoB,6DAAO;YACL,sDAAS;YACJ,mFAAe;OAT1C,aAAa,CAwDzB;IAAD,oBAAC;;CAAA;AAxDyB;;;;;;;;;;;;;;;;;;;;ACV2C;AASrE;IAqBI;QAPU,oBAAe,GAAsB,IAAI,2DAAY,EAAE,CAAC;QACxD,iBAAY,GAAsB,IAAI,2DAAY,EAAE,CAAC;IAO/D,CAAC;IAlBD,sBAAI,mCAAM;aAAV;YACI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;QACxB,CAAC;aACD,UAAW,KAAc;YACrB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YACpC,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;QAC5C,CAAC;;;OAJA;IAWD,sBAAI,oCAAO;aAAX;YACI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;QAC9B,CAAC;;;OAAA;IAKD,gCAAM,GAAN,UAAO,OAAO,EAAE,KAAK;QACjB,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC;QACnC,mBAAmB;QACnB,iCAAiC;QACjC,qCAAqC;IACzC,CAAC;IAzBD;QADC,4DAAK,EAAE;;;iDAGP;IAMQ;QAAR,4DAAK,EAAE;;+CAAc;IAEZ;QAAT,6DAAM,EAAE;kCAAkB,2DAAY;4DAA2B;IACxD;QAAT,6DAAM,EAAE;kCAAe,2DAAY;yDAA2B;IAftD,eAAe;QAJ3B,gEAAS,CAAC;YACP,QAAQ,EAAE,gBAAgB;WACA;SAC7B,CAAC;;OACW,eAAe,CA+B3B;IAAD,CAAC;AAAA;SA/BY,eAAe,U;;;;;;;;;;;;;;;;;;;;;ACTyC;AAEf;AACF;AAQpD;IAYI,yBAAmB,OAAsB,EAAS,QAAkB;QAAjD,YAAO,GAAP,OAAO,CAAe;QAAS,aAAQ,GAAR,QAAQ,CAAU;QAJ1D,oBAAe,GAAsB,IAAI,2DAAY,EAAE,CAAC;QACxD,wBAAmB,GAAsB,IAAI,2DAAY,EAAE,CAAC;QAC5D,aAAQ,GAAsB,IAAI,2DAAY,EAAE,CAAC;IAG3D,CAAC;IAED,kCAAQ,GAAR;QACI,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;IAClC,CAAC;IAED,6BAAG,GAAH,UAAI,KAAK;QACL,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IAC3B,CAAC;IAED,gCAAM,GAAN,UAAO,OAAO,EAAE,KAAK;QACjB,EAAE,CAAC,CAAC,OAAO,IAAI,aAAa,CAAC,CAAC,CAAC;YAC3B,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;QACjC,CAAC;QAED,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,MAAM,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC1C,CAAC;IAED,qCAAW,GAAX;QACI,EAAE,CAAC,CAAC,oFAAW,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,oFAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YACxD,MAAM,CAAC,EAAE,CAAC;QACd,CAAC;QAED,IAAI,OAAO,GAAG,EAAE,CAAC;QACjB,IAAI,QAAQ,GAAG,EAAE,CAAC;QAClB,IAAI,sBAAsB,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;QACrD,EAAE,CAAC,CAAC,sBAAsB,GAAG,CAAC,CAAC,CAAC,CAAC;YAC7B,QAAQ,GAAG,sBAAsB,CAAC;QACtC,CAAC;QACD,gBAAgB;QAChB,mBAAmB;QACnB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,IAAI,QAAQ,EAAE,CAAC,EAAE,EAAE,CAAC;YAClC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;gBACV,OAAO,CAAC,IAAI,CAAC,EAAC,OAAO,EAAE,CAAC,EAAE,MAAM,EAAE,KAAK,EAAC,CAAC,CAAC;YAC9C,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBAChB,OAAO,CAAC,IAAI,CAAC,EAAC,OAAO,EAAE,CAAC,EAAE,MAAM,EAAE,MAAM,EAAC,CAAC,CAAC;YAC/C,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,OAAO,CAAC,IAAI,CAAC,EAAC,OAAO,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,QAAQ,EAAE,GAAG,EAAE,EAAC,CAAC,CAAC;YAC1D,CAAC;QACL,CAAC;QACD,MAAM,CAAC,OAAO,CAAC;IACnB,CAAC;IApDQ;QAAR,4DAAK,EAAE;;+CAAe;IACd;QAAR,4DAAK,EAAE;;mDAAkB;IACjB;QAAR,4DAAK,EAAE;;oDAAyB;IAEvB;QAAT,6DAAM,EAAE;kCAAkB,2DAAY;4DAA2B;IACxD;QAAT,6DAAM,EAAE;kCAAsB,2DAAY;gEAA2B;IAC5D;QAAT,6DAAM,EAAE;kCAAW,2DAAY;qDAA2B;IAVlD,eAAe;QAJ3B,gEAAS,CAAC;YACP,QAAQ,EAAE,QAAQ;WACQ;SAC7B,CAAC;wBAasE;OAZ3D,eAAe,CA0D3B;IAAD,CAAC;AAAA;SA1DY,eAAe,U;;;;;;;;;;;;;;;;;;;;ACXyC;AAC1B;AAO3C;IA+BI;QA9BS,UAAK,GAAW,4BAA4B,CAAC;QAC7C,WAAM,GAAY,IAAI,CAAC;QACvB,aAAQ,GAAY,KAAK,CAAC;QAC1B,QAAG,GAAY,IAAI,CAAC;QACpB,UAAK,GAAW,CAAC,CAAC,CAAC,4BAA4B;QAC/C,QAAG,GAAW,CAAC,CAAC;QAChB,QAAG,GAAW,EAAE,CAAC;QAEhB,gBAAW,GAAsB,IAAI,2DAAY,EAAE,CAAC;IAuB9D,CAAC;IArBD,sBAAI,gDAAgB;aAApB;YACI,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC3C,CAAC;aAED,UAAqB,KAAa;YAC9B,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;gBACd,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YACvB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;YAC5C,CAAC;YACD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACxC,CAAC;;;OATA;IAWD,oDAAuB,GAAvB,UAAwB,KAAK;QACzB,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,KAAK,CAAC;QACpC,iCAAiC;QACjC,4BAA4B;QAC5B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACtC,CAAC;IAKD,uCAAU,GAAV,UAAW,CAAC;QACR,MAAM,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;IAC1B,CAAC;IAED,2CAAc,GAAd,UAAe,CAAC;QACZ,MAAM,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IAC9B,CAAC;IAED,2CAAc,GAAd,UAAe,OAAe;QAC1B,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;IAC5D,CAAC;IAED,sBAAI,uCAAO;aAAX;YACI,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACzC,CAAC;;;OAAA;IAED,sBAAI,uCAAO;aAAX;YACI,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACzC,CAAC;;;OAAA;IAED,sBAAI,8CAAc;aAAlB;YACI,MAAM,CAAC,8DAAM,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC9C,CAAC;;;OAAA;IAvDQ;QAAR,4DAAK,EAAE;;qDAA8C;IAC7C;QAAR,4DAAK,EAAE;;sDAAwB;IACvB;QAAR,4DAAK,EAAE;;wDAA2B;IAC1B;QAAR,4DAAK,EAAE;;mDAAqB;IACpB;QAAR,4DAAK,EAAE;;qDAAmB;IAClB;QAAR,4DAAK,EAAE;;mDAAiB;IAChB;QAAR,4DAAK,EAAE;;mDAAkB;IAEhB;QAAT,6DAAM,EAAE;kCAAc,2DAAY;2DAA2B;IATrD,kBAAkB;QAJ9B,gEAAS,CAAC;YACP,QAAQ,EAAE,YAAY;WACQ;SACjC,CAAC;;OACW,kBAAkB,CA0D9B;IAAD,CAAC;AAAA;SA1DY,kBAAkB,W;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRoB;AACP;AACW;AACM;AACG;AACpB;AAEO;AACM;AACkB;AACA;AAC9B;AAE+B;AAK5E;IAOI,eAAY,QAAkB,EACX,cAA+B,EAC/B,SAAoB,EACpB,MAA2B,EAC3B,aAAmC,EACnC,OAA2B,EAC3B,YAA0B;QAN7C,iBA4CC;QA3CkB,mBAAc,GAAd,cAAc,CAAiB;QAC/B,cAAS,GAAT,SAAS,CAAW;QACpB,WAAM,GAAN,MAAM,CAAqB;QAC3B,kBAAa,GAAb,aAAa,CAAsB;QACnC,YAAO,GAAP,OAAO,CAAoB;QAC3B,iBAAY,GAAZ,YAAY,CAAc;QAX7C,aAAQ,GAAG,kEAAQ,CAAC;QAchB,QAAQ,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC;YAClB,gEAAgE;YAChE,iEAAiE;YACjE,SAAS,CAAC,YAAY,EAAE,CAAC;YACzB,YAAY,CAAC,IAAI,EAAE,CAAC;YAEpB,KAAI,CAAC,MAAM,CAAC,iBAAiB,EAAE,CAAC,SAAS,CAAC,WAAC;gBACvC,OAAO,CAAC,GAAG,CAAC,iDAAiD,CAAC,CAAC;gBAC/D,KAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;oBAClB,IAAI,EAAE,iGAAoB,CAAC,eAAe;oBAC1C,OAAO,EAAE,CAAC;iBACb,CAAC,CAAC;YACP,CAAC,CAAC,CAAC;QAEP,CAAC,CAAC,CAAC;QAEH,IAAI,kBAAkB,GAAG;YACrB,MAAM,CAAC,KAAI,CAAC,cAAc,CAAC,oBAAoB,EAAE;QACrD,CAAC,CAAC;QACF,IAAI,WAAW,GAAG;YACd,KAAK,EAAE,SAAS,EAAE,SAAS,EAAE,sFAAc,EAAE,OAAO,EAAE,kBAAkB;SAC3E,CAAC;QACF,IAAI,UAAU,GAAG;YACb,KAAK,EAAE,QAAQ,EAAE,SAAS,EAAE,6EAAU,EAAE,OAAO,EAAE;gBAC7C,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;SACJ,CAAC;QACF,IAAI,UAAU,GAAG;YACb,KAAK,EAAE,UAAU,EAAE,SAAS,EAAE,mGAAkB,EAAE,OAAO,EAAE,kBAAkB;SAChF,CAAC;QACF,IAAI,CAAC,KAAK,GAAG;YACT,WAAW;YACX,UAAU;YACV,UAAU;SACb;IACL,CAAC;IAED,wBAAQ,GAAR,UAAS,IAAI;QACT,+CAA+C;QAC/C,4DAA4D;QAC5D,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAClC,CAAC;IAxDe;QAAf,gEAAS,CAAC,0DAAG,CAAC;kCAAM,0DAAG;sCAAC;IADhB,KAAK;QAHjB,gEAAS,CAAC;WACgB;SAC1B,CAAC;gGAQgC;YACK,4EAAe;YACpB,iGAAS;YACZ,iGAAmB;YACZ,+DAAoB;YAC1B,iFAAO;YACF,EAAY;OAbpC,KAAK,CA0DjB;IAAD,CAAC;AAAA;SA1DY,KAAK,2B;;;;;;;;;;AClB2B;AAEtC,IAAI,YAAY,GAAG,IAAI,6DAAc,CAAC,eAAe,CAAC,CAAC;;;;;;;;;;ACFvD,IAAM,YAAY,GAAG;IACxB,eAAe,EAAE,yBAAyB;IAC1C,OAAO,EAAE,IAAI;IACb,YAAY,EAAE,KAAK;CACtB,CAAC;;;;;;;;;;ACJK,IAAM,aAAa,GAAG;IACzB,eAAe,EAAE,wBAAwB;IACzC,OAAO,EAAE,KAAK;IACd,YAAY,EAAE,MAAM;CACvB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJgD;AAEf;AACC;AACS;AAK7C;IAAA;IASA,CAAC;IARG,4BAAS,GAAT,UAAU,KAAK,EAAE,IAAc;QAC3B,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC;YACpB,oCAAoC;YACpC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACnB,CAAC;QACD,MAAM,CAAC,IAAI,CAAC;IAChB,CAAC;IARQ,QAAQ;QADpB,2DAAI,CAAC,EAAC,IAAI,EAAE,MAAM,EAAC,CAAC;OACR,QAAQ,CASpB;IAAD,eAAC;CAAA;AAToB;AAYrB;IAAA;IAIA,CAAC;IAHG,+BAAS,GAAT,UAAU,KAAK,EAAE,IAAc;QAC3B,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,OAAO,EAAE,CAAC;IACnC,CAAC;IAHQ,WAAW;QADvB,2DAAI,CAAC,EAAC,IAAI,EAAE,SAAS,EAAC,CAAC;OACX,WAAW,CAIvB;IAAD,kBAAC;CAAA;AAJuB;AAOxB;IACI,kBAAoB,OAA2B;QAA3B,YAAO,GAAP,OAAO,CAAoB;IAC/C,CAAC;IAED,4BAAS,GAAT,UAAU,KAAK,EAAE,IAAc;QAC3B,IAAI,MAAM,GAAW,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC;QAC3D,EAAE,CAAC,CAAC,MAAM,CAAC,SAAS,IAAI,KAAK,CAAC,CAAC,CAAC;YAC5B,MAAM,CAAC,oEAAU,CAAC,KAAK,CAAC,CAAC;QAC7B,CAAC;QACD,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IAVQ,QAAQ;QADpB,2DAAI,CAAC,EAAC,IAAI,EAAE,MAAM,EAAC,CAAC;yCAEY,6DAAO;OAD3B,QAAQ,CAWpB;IAAD,eAAC;CAAA;AAXoB;AAarB,qEAAqE;AAErE;IAAA;IAUA,CAAC;IATG,gCAAS,GAAT,UAAU,KAAK,EAAE,IAAc;QAC3B,oBAAoB;QACpB,EAAE,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACf,MAAM,CAAC,OAAO,CAAC;QACnB,CAAC;QACD,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC;QAC7C,IAAI,OAAO,GAAG,KAAK,GAAG,EAAE,CAAC;QACzB,MAAM,CAAC,2DAAO,CAAC,WAAW,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;IAClD,CAAC;IATQ,YAAY;QADxB,2DAAI,CAAC,EAAC,IAAI,EAAE,UAAU,EAAC,CAAC;OACZ,YAAY,CAUxB;IAAD,mBAAC;CAAA;AAVwB;;;;;;;;;;;;;;;;;;;;;;;;;AC3CkE;AAC3B;AAEoB;AACR;AAGjC;AAG3C,IAAK,cAIJ;AAJD,WAAK,cAAc;IACf,uGAA8B;IAC9B,iGAA2B;IAC3B,mFAAoB;AACxB,CAAC,EAJI,cAAc,KAAd,cAAc,QAIlB;AAED,IAAK,SAMJ;AAND,WAAK,SAAS;IACV,6CAAU;IACV,+CAAW;IACX,mDAAa;IACb,2CAAS;IACT,+CAAW;AACf,CAAC,EANI,SAAS,KAAT,SAAS,QAMb;AA0BD;IAUI,0BAAmB,cAA+B,EAC/B,QAAuB,EACvB,eAAgC,EAChC,gBAAuC;QAHvC,mBAAc,GAAd,cAAc,CAAiB;QAC/B,aAAQ,GAAR,QAAQ,CAAe;QACvB,oBAAe,GAAf,eAAe,CAAiB;QAChC,qBAAgB,GAAhB,gBAAgB,CAAuB;QAZnD,gBAAW,GAAW,cAAc,CAAC,8BAA8B,CAAC;QAavE,IAAI,CAAC,WAAW,GAAG,cAAc,CAAC,8BAA8B,CAAC;QACjE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;IAC1B,CAAC;IAED,yCAAc,GAAd;QACI,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC;IAC5B,CAAC;IAED,0CAAe,GAAf;QACI,IAAI,CAAC,WAAW,GAAG,cAAc,CAAC,2BAA2B,CAAC;IAClE,CAAC;IAED,4CAAiB,GAAjB,UAAkB,KAAa,EAAE,SAAoB,EAAE,gBAAyB,EAAE,QAAiB,EAAE,iBAA2C;QAC5I,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,+FAAiB,EAAE;YAClC,KAAK,EAAE,KAAK;YACZ,QAAQ,EAAE,QAAQ;YAClB,gBAAgB,EAAE,gBAAgB;YAClC,OAAO,EAAE,IAAI,CAAC,OAAO;YACrB,QAAQ,EAAE,iBAAiB;SAC9B,CAAC,CAAC;IACP,CAAC;IAED,wCAAa,GAAb;QAAA,iBAkBC;QAjBG,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,UAAC,MAAM;YACzD,OAAO,CAAC,GAAG,CAAC,2BAA2B,EAAE,MAAM,CAAC,CAAC;QACrD,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,WAAW,GAAG,cAAc,CAAC,oBAAoB,CAAC;QAEvD,4FAA4F;QAC5F,IAAI,CAAC,mBAAmB,GAAG,2DAAU,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,SAAS,CAAC,WAAC;YAC/D,IAAI,iBAAiB,GAAG,IAAI,CAAC,GAAG,CAAC,KAAI,CAAC,OAAO,CAAC,WAAW,CAAC,GAAG,GAAG,CAAC;YACjE,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,KAAI,CAAC,OAAO,CAAC,WAAW,EAAE,QAAQ,EAAE,iBAAiB,CAAC,CAAC;YAC3E,MAAM,CAAC,iBAAiB,CAAC;QAC7B,CAAC,CAAC,CAAC,SAAS,CAAC,WAAC;QACd,CAAC,EAAE,WAAC;QACJ,CAAC,EAAE;YACC,OAAO,CAAC,GAAG,CAAC,0DAA0D,CAAC,CAAC;YACxE,KAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;YAChC,KAAI,CAAC,eAAe,EAAE,CAAC;QAC3B,CAAC,CAAC,CAAC;IACP,CAAC;IAED,mDAAwB,GAAxB,UAAyB,KAAK;QAC1B,6EAA6E;QAC7E,EAAE,CAAC,CAAC,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,CAAC,CAAC;YACnC,KAAK,CAAC,QAAQ,CAAC,eAAe,EAAE,CAAC;YACjC,IAAI,CAAC,eAAe,EAAE,CAAC;QAC3B,CAAC;IACL,CAAC;IAGD,yCAAc,GAAd,UAAe,MAAc,EAAE,SAAoB,EAAE,KAAa;QAAlE,iBAwBC;QAvBG,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,SAAS,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC;QACzF,IAAI,OAAO,GAAG,UAAC,IAAI;YACf,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,KAAK,EAAE,cAAc,GAAG,KAAI,CAAC,OAAO,CAAC,KAAK,GAAG,kBAAkB,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;YACvG,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;QACpC,CAAC,CAAC;QAEF,IAAI,CAAC,OAAO,CAAC,eAAe,GAAG,KAAK,CAAC;QACrC,MAAM,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;YAChB,KAAK,SAAS,CAAC,MAAM;gBACjB,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;gBACzE,KAAK,CAAC;YACV,KAAK,SAAS,CAAC,SAAS;gBACpB,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;gBAC5E,KAAK,CAAC;YACV,KAAK,SAAS,CAAC,OAAO;gBAClB,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;gBACxE,KAAK,CAAC;YACV,KAAK,SAAS,CAAC,OAAO;gBAClB,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;gBAC1E,KAAK,CAAC;YACV;gBACI,OAAO,CAAC,GAAG,CAAC,4CAA4C,EAAE,SAAS,EAAE,UAAU,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC;QACrG,CAAC;IACL,CAAC;IAED,sCAAW,GAAX,UAAY,MAAc;QACtB,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,SAAS,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;IAC5D,CAAC;IAED,yCAAc,GAAd,UAAe,MAAc;QACzB,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,SAAS,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;IAClE,CAAC;IAED,qCAAU,GAAV,UAAW,MAAc;QACrB,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,SAAS,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;IAC5D,CAAC;IAED,uCAAY,GAAZ,UAAa,MAAc;QACvB,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,SAAS,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;IAC9D,CAAC;IAED,0CAAe,GAAf;QACI,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,IAAI,CAAC,CAAC;QAC7C,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,UAAC,IAAI;YAC7D,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC;QAC3B,CAAC,CAAC,CAAC;IACP,CAAC;IAED,6CAAkB,GAAlB;QAAA,iBA6GC;QA5GG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,uBAAuB,CAAC,CAAC,CAAC;YACxC,sDAAsD;YACtD,IAAI,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBACpC,SAAS,EAAE,sBAAsB;gBACjC,UAAU,EAAE,UAAU;gBACtB,UAAU,EAAE,QAAQ;gBACpB,UAAU,EAAE,IAAI;aACnB,CAAC,CAAC;YACH,KAAK,CAAC,OAAO,EAAE,CAAC;YAChB,MAAM,CAAC;QACX,CAAC;QAED,sBAAsB;QACtB,qEAAqE;QACrE,qEAAqE;QACrE,IAAI;QACJ,EAAE;QACF,wDAAwD;QACxD,gEAAgE;QAChE,uDAAuD;QACvD,qBAAqB;QACrB,oDAAoD;QACpD,IAAI;QACJ,EAAE;QACF,oDAAoD;QAEpD,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC,CAAC;YAC/B,IAAI,OAAK,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC;gBACrC,OAAO,EAAE,UAAU,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;gBACtC,OAAO,EAAE;oBACL;wBACI,IAAI,EAAE,MAAM;wBACZ,IAAI,EAAE,aAAa;wBACnB,OAAO,EAAE;4BACL,KAAI,CAAC,eAAe,EAAE,CAAC;wBAC3B,CAAC;qBACJ;oBACD;wBACI,IAAI,EAAE,QAAQ;wBACd,IAAI,EAAE,QAAQ;wBACd,OAAO,EAAE;wBACT,CAAC;qBACJ;iBACJ;aACJ,CAAC,CAAC;YACH,OAAK,CAAC,OAAO,EAAE,CAAC;QACpB,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,IAAI,OAAK,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC;gBACrC,OAAO,EAAE,UAAU,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;gBACtC,OAAO,EAAE;oBACL;wBACI,IAAI,EAAE,QAAQ;wBACd,IAAI,EAAE,aAAa;wBACnB,OAAO,EAAE;4BACL,KAAI,CAAC,iBAAiB,CAAC,QAAQ,EAAE,SAAS,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,gBAAM;gCACrE,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;oCACT,KAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;gCAC7B,CAAC;4BACL,CAAC,CAAC,CAAC,CAAC;wBACR,CAAC;qBACJ;oBACD;wBACI,IAAI,EAAE,OAAO;wBACb,OAAO,EAAE;4BACL,KAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,SAAS,CAAC,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,gBAAM;gCACnE,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;oCACT,KAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;gCAC5B,CAAC;4BACL,CAAC,CAAC,CAAC,CAAC;wBACR,CAAC;qBACJ;oBACD;wBACI,IAAI,EAAE,WAAW;wBACjB,OAAO,EAAE;4BACL,KAAI,CAAC,iBAAiB,CAAC,WAAW,EAAE,SAAS,CAAC,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,gBAAM;gCAC1E,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;oCACT,KAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;gCAChC,CAAC;4BACL,CAAC,CAAC,CAAC,CAAC;wBACR,CAAC;qBACJ;oBACD;wBACI,IAAI,EAAE,cAAc;wBACpB,OAAO,EAAE;4BACL,KAAI,CAAC,iBAAiB,CAAC,SAAS,EAAE,SAAS,CAAC,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,gBAAM;gCACtE,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;oCACT,KAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;gCAC9B,CAAC;4BACL,CAAC,CAAC,CAAC,CAAC;wBACR,CAAC;qBACJ;oBACD;wBACI,IAAI,EAAE,YAAY;wBAClB,OAAO,EAAE;4BACL,KAAI,CAAC,aAAa,EAAE,CAAC;wBACzB,CAAC;qBACJ;oBACD;wBACI,IAAI,EAAE,QAAQ;wBACd,IAAI,EAAE,QAAQ;wBACd,OAAO,EAAE;wBACT,CAAC;qBACJ;iBACJ;aACJ,CAAC,CAAC;YACH,OAAK,CAAC,OAAO,EAAE;QACnB,CAAC;IAEL,CAAC;IAED,yCAAc,GAAd;QACI,OAAO,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;IACvC,CAAC;IAED,sCAAW,GAAX;IACA,CAAC;IAED,iDAAsB,GAAtB;IACA,CAAC;IAED,sBAAI,qCAAO;aAAX;YACI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC7C,CAAC;;;OAAA;IAED,sCAAW,GAAX,UAAY,OAAO;QACf,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YACf,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,IAAI,cAAc,CAAC,8BAA8B,CAAC,CAAC,CAAC;gBACpE,IAAI,CAAC,WAAW,GAAG,cAAc,CAAC,2BAA2B,CAAC;YAClE,CAAC;YACD,SAAS;YACT,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC;gBACpC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBACvB,wBAAwB;YAC5B,CAAC;QACL,CAAC;IACL,CAAC;IAvPQ;QAAR,4DAAK,EAAE;;qDAAyB;IACxB;QAAR,4DAAK,EAAE;;mDAAe;IACd;QAAR,4DAAK,EAAE;;kDAAc;IALb,gBAAgB;QAxB5B,gEAAS,CAAC;YACP,QAAQ,EAAE,SAAS;YACnB,WAAW,EAAgB;YAC3B,kEAAU,CAAE;gBACR,gEAAQ,KAAM,EAAE;oBACZ,KAAK,CAAC,SAAS,EAAE,KAAK,CAAC;wBACnB,SAAS,EAAE,WAAgB;wBACL;qFACvB;mBAC8C;8EACnD;gBAEF,qEAAc,EAAE;oBACZ,iEAAU,CAAC,QAAQ,EAAE;wBACjB,8DAAM,CAAC,iEAAU,EAAC,CAAC;uBACc;qFACnC;oBACF,iEAAU,CAAC,QAAQ,EAAE;wBACjB,8DAAM,CAAC,iEAAU,EAAC,CAAC;sBACc;kBACnC;aACJ;WACL;SACJ,CAAC;iFAWoD;YACrB,sEAAa;YACN,4EAAe;YACd,aAAqB;OAbjD,gBAAgB,CA2P5B;IAAD,CAAC;AAAA;SA3PY,gBAAgB,U;;;;;;;;;;;;;;;;;;;;AChDkB;AAIJ;AAM3C;IAKI;IACA,CAAC;IAED,8CAAa,GAAb;QACI,MAAM,CAAC,8DAAM,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;IAC/D,CAAC;IAED,mDAAkB,GAAlB;QACI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,IAAI,IAAI,CAAC;IAC7C,CAAC;IAED,qDAAoB,GAApB;QACI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,IAAI,IAAI,CAAC;IAC7C,CAAC;IAhBQ;QAAR,4DAAK,EAAE;;0DAAiB;IAChB;QAAR,4DAAK,EAAE;;2DAAwB;IAHvB,sBAAsB;QAJlC,gEAAS,CAAC;YACP,QAAQ,EAAE,gBAAgB;WACQ;SACrC,CAAC;;OACW,sBAAsB,CAmBlC;IAAD,CAAC;AAAA;SAnBY,sBAAsB,W;;;;;;;;;;;;;;;;;;;;;;;ACVyD;AAChB;AAK5E;IACI,wBAAoD,MAAwB;QAAxB,WAAM,GAAN,MAAM,CAAkB;IAE5E,CAAC;IAQD,sBAAI,0CAAc;aAKlB;YACI,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC;QAChC,CAAC;aAPD,UAAmB,KAAc;YAC7B,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;YAC7B,OAAO,CAAC,GAAG,CAAC,yBAAyB,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QACjE,CAAC;;;OAAA;IAQD,iCAAQ,GAAR;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YACrC,IAAI,CAAC,IAAI,GAAe,IAAI,CAAC,MAAM,CAAC,MAAM,CAAE,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QAC3E,CAAC;IACL,CAAC;IAED,oCAAW,GAAX;QACI,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;YAAC,MAAM,CAAC;QAEvB,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;YACtB,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC;QACD,IAAI,CAAC,CAAC;YACF,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;QACvB,CAAC;IACL,CAAC;IA/BQ;QAAR,4DAAK,EAAE;;2DAAyB;IAKjC;QADC,4DAAK,CAAC,gBAAgB,CAAC;;;wDAIvB;IAdQ,cAAc;QAH1B,gEAAS,CAAC;YACP,QAAQ,EAAE,mCAAmC;SAChD,CAAC;QAEe,0EAAQ,EAAE,GAAE,sEAAI,EAAE,GAAE,0EAAQ,EAAE;yCAAiB,wEAAgB;OADnE,cAAc,CAsC1B;IAAD,qBAAC;CAAA;AAtC0B;;;;;;;;;;;;;;;;;;;;;;;;;ACNa;AAC+B;AACP;AACnB;AAEK;AAMlD;IAYI,kCAAmB,QAAkB,EAClB,OAAwB,EACxB,OAA2B,EAC3B,eAAgC;QAHnD,iBAsBC;QAtBkB,aAAQ,GAAR,QAAQ,CAAU;QAClB,YAAO,GAAP,OAAO,CAAiB;QACxB,YAAO,GAAP,OAAO,CAAoB;QAC3B,oBAAe,GAAf,eAAe,CAAiB;QAP3C,uCAAkC,GAAY,KAAK,CAAC;QACpD,+BAA0B,GAAW,CAAC,CAAC;QACvC,oBAAe,GAAG,KAAK,CAAC;QAO5B,oEAAoE;QACpE,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC,SAAS,CAAC,UAAC,OAAe;YAC/D,EAAE,CAAC,CAAC,kFAAS,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;gBACrB,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;oBACV,KAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;gBACzC,CAAC;YACL,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,yBAAyB,CAAC,CAAC,CAAC,SAAS,CAAC,UAAC,KAAK;YACnE,IAAI,OAAO,GAAG,KAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,EAAE,CAAC;YACzC,EAAE,CAAC,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;gBACvB,KAAI,CAAC,2BAA2B,EAAE,CAAC;YACvC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,KAAI,CAAC,iBAAiB,EAAE,CAAC;YAC7B,CAAC;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAED,sBAAI,4DAAsB;aAA1B;YACI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,EAAE,CAAC,uBAAuB,CAAC;QAC9D,CAAC;;;OAAA;IAED,sDAAmB,GAAnB,UAAoB,kBAA0B;QAA9C,iBAOC;QAPmB,+DAA0B;QAC1C,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;YACvB,sEAAsE;YACtE,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;gBAC7B,KAAI,CAAC,eAAe,GAAG,KAAK,CAAC;YACjC,CAAC,CAAC,CAAC;QACP,CAAC;IACL,CAAC;IAED,8EAA8E;IAC9E,oDAAiB,GAAjB;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,kCAAkC,CAAC,CAAC,CAAC;YAC1C,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC3B,IAAI,CAAC,kCAAkC,GAAG,KAAK,CAAC;QACpD,CAAC;IACL,CAAC;IAED,mDAAgB,GAAhB,UAAiB,OAAe,EAAE,aAAqB;QAAvD,iBAmCC;QAnCiC,qDAAqB;QACnD,EAAE,CAAC,CAAC,OAAO,IAAI,IAAI,CAAC,CAAC,CAAC;YAClB,OAAO,GAAG,mBAAmB;QACjC,CAAC;QAED,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,IAAI,aAAa,CAAC,CAAC,CAAC;YACzC,IAAI,CAAC,qBAAqB,GAAG,KAAK,CAAC;YACnC,IAAI,CAAC,kCAAkC,GAAG,KAAK,CAAC;YAChD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC5C,SAAS,EAAE,OAAO;gBAClB,UAAU,EAAE,UAAU;gBACtB,UAAU,EAAE,QAAQ;gBACpB,iBAAiB,EAAE,IAAI;gBACvB,iBAAiB,EAAE,SAAS;aAC/B,CAAC,CAAC;YAEH,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC;gBAC3B,qFAAqF;gBACrF,KAAI,CAAC,eAAe,GAAG,KAAK,CAAC;YACjC,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAChC,CAAC;QAED,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;YACvB,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,CAAC,CAAC;gBAC5B,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;gBAEtC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC;oBAC9B,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;wBAC7B,KAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;oBACtC,CAAC,CAAC,CAAC;gBACP,CAAC;YACL,CAAC;QACL,CAAC;IACL,CAAC;IAEO,8DAA2B,GAAnC;QACI,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC,sBAAsB,CAAC;QAE9D,gDAAgD;QAChD,IAAI,OAAO,GAAG,gBAAgB,GAAG,IAAI,CAAC,sBAAsB,GAAG,GAAG,CAAC;QACnE,IAAI,sBAAsB,GAAG,CAAC,CAAC;QAC/B,EAAE,CAAC,CAAC,IAAI,CAAC,sBAAsB,IAAI,sBAAsB,CAAC,CAAC,CAAC;YACxD,wEAAwE;YACxE,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;YACrC,IAAI,CAAC,kCAAkC,GAAG,IAAI,CAAC;QACnD,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,mGAAmG;YACnG,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;QACnC,CAAC;IACL,CAAC;IA5GQ,wBAAwB;QAJpC,gEAAS,CAAC;YACP,QAAQ,EAAE,kBAAkB;WACQ;SACvC,CAAC;gGAauC;YACT,8DAAe;YACf,sEAAO;YACC,eAAe;OAf1C,wBAAwB,CA6GpC;IAAD,CAAC;AAAA;SA7GY,wBAAwB,W;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACXiB;AACe;AACxB;AAM7C;IAAwC,sCAAqB;IAMzD;QAAA,YACI,iBAAO,SACV;QAJS,UAAI,GAAG,IAAI,2DAAY,EAAE,CAAC;;IAIpC,CAAC;IAED,mCAAM,GAAN;QACI,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;IACrB,CAAC;IAXQ;QAAR,4DAAK,EAAE;kCAAU,gEAAO;uDAAC;IACjB;QAAR,4DAAK,EAAE;;qDAAe;IAEb;QAAT,6DAAM,EAAE;;oDAA2B;IAJ3B,kBAAkB;QAJ9B,gEAAS,CAAC;YACP,QAAQ,EAAE,YAAY;WACQ;SACjC,CAAC;;OACW,kBAAkB,CAa9B;+EAAD,GAAC;AAAA;SAbY,kBAAkB,W;;;;;;;;;;;;;;;;;;;;ACRW;AAEI;AAM9C;IAEE,qBAAmB,OAAsB;QAAtB,YAAO,GAAP,OAAO,CAAe;IAEzC,CAAC;IAJU,WAAW;QAJvB,gEAAS,CAAC;YACT,QAAQ,EAAE,cAAc;WACG;SAC5B,CAAC;oBAGyC;OAF9B,WAAW,CAMvB;IAAD,CAAC;AAAA;SANY,WAAW,e;;;;;;;;;;;;;;;;;;;;ACRkB;AACe;AAEzD;;;;;EAKE;AAKF;IAEE,2BAAmB,OAAsB,EAAS,SAAoB;QAAnD,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;IAAG,CAAC;IAE1E,0CAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,kCAAkC,CAAC,CAAC;IAClD,CAAC;IANU,iBAAiB;QAJ7B,gEAAS,CAAC;YACT,QAAQ,EAAE,qBAAqB;WACG;SACnC,CAAC;0BAGsE;OAF3D,iBAAiB,CAQ7B;IAAD,CAAC;AAAA;SARY,iBAAiB,gB;;;;;;;;;;;;;;;;;;;;;ACbU;AACF;AACW;AAKjD;IAME;QALA,4CAA4C;QAC5C,iCAAiC;QACjC,aAAQ,GAAQ,4DAAQ,CAAC;QACzB,aAAQ,GAAQ,uEAAU,CAAC;IAI3B,CAAC;IAED,mCAAgB,GAAhB;IACA,CAAC;IAED,8BAAW,GAAX;QACE,MAAM,CAAC,CAAC,CAAC;IACX,CAAC;IAfU,QAAQ;QAHpB,gEAAS,CAAC;WACe;SACzB,CAAC;;OACW,QAAQ,CAiBpB;IAAD,CAAC;AAAA;SAjBY,QAAQ,e;;;;;;;;ACPrB;AAAA;IAWI,gBAAoB,IAAQ;QAAR,SAAI,GAAJ,IAAI,CAAI;IAC5B,CAAC;IARM,qBAAc,GAArB,UAAsB,OAAgB;QAClC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YACV,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC;QAC1B,CAAC;QACD,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC;IAC9B,CAAC;IAKD,sBAAK,GAAL;QACI,IAAI,MAAM,GAAW,IAAI,MAAM,CAAC,EAAE,CAAC,CAAC;QACpC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACtB,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAClC,CAAC;QACD,MAAM,CAAC,MAAM,CAAC;IAClB,CAAC;IAED,qBAAI,GAAJ;QACI,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACrC,CAAC;IAED,sBAAI,6BAAS;aAAb;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,CAAC;QACzC,CAAC;aAED,UAAc,KAAc;YACxB,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,KAAK,GAAG,GAAG,GAAG,GAAG,CAAC;QAC/C,CAAC;;;OAJA;IAMD,sBAAI,iCAAa;aAAjB;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAClC,CAAC;aAED,UAAkB,KAAa;YAC3B,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC;QACpC,CAAC;;;OAJA;IAMD,sBAAI,qCAAiB;aAArB;YACI,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC;QAC5C,CAAC;aAED,UAAsB,KAAa;YAC/B,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,KAAK,GAAG,CAAC,IAAI,CAAC;QAC7C,CAAC;;;OAJA;IAMD,sBAAI,gCAAY;aAAhB;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QACrC,CAAC;aAED,UAAiB,KAAa;YAC1B,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,KAAK,CAAC;QACvC,CAAC;;;OAJA;IAMD,sBAAI,iCAAa;aAAjB;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QACvC,CAAC;aAED,UAAkB,KAAa;YAC3B,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC;QACzC,CAAC;;;OAJA;IAMD,sBAAI,kCAAc;aAAlB;YACI,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;gBACjB,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YACD,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;;;OAAA;IAED,sBAAI,8BAAU;aAAd;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QACvC,CAAC;aAED,UAAe,KAAa;YACxB,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC;QACzC,CAAC;;;OAJA;IAMD,sBAAI,4BAAQ;aAAZ;YACI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QACrC,CAAC;aAED,UAAa,KAAa;YACtB,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,KAAK,CAAC;QACvC,CAAC;;;OAJA;IAlFa,cAAO,GAAW,IAAI,CAAC;IACvB,kBAAW,GAAW,IAAI,CAAC;IAuF7C,aAAC;CAAA;AAzFkB;;;;;;;;;;;;;;;;;;;;ACAuB;AAEJ;AAC0B;AACM;AACpB;AACD;AAEK;AACgC;AAC7B;AASzD,IAAI,QAAQ,GAAG,8DAAe,CAAY;IACtC,MAAM,EAAE,8EAAa;IACrB,OAAO,EAAE,8EAAmB;IAC5B,MAAM,EAAE,uEAAa;IACrB,EAAE,EAAE,+DAAS;CAChB,CAAC,CAAC;AAEH,IAAI,SAAS,GAAG,EAAE,CAAC;AAEZ,IAAM,sBAAsB,GAAG,UAAC,OAA2B,EAC3B,UAA8B,EAC9B,QAA2B;IAC1D,IAAI,gBAAgB,GAAkB;QAClC,wEAAc,CAAC,yBAAyB;KAC3C,CAAC;IAEF,oCAAoC;IACpC,IAAI,UAAU,GAAG,EAAE,CAAC;IACpB,UAAU,CAAC,IAAI,CAAC,sFAAoB,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,CAAC;IAChE,iEAAiE;IAEjE,8CAA8C;IAE9C,IAAI,WAAW,GAAG,iHAAkB,EAAE,CAAC;IACvC,EAAE,CAAC,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC;QACtB,OAAO,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC;QAC1C,UAAU,CAAC,IAAI,CAAC,kEAAY,CAAC;YACzB,SAAS,EAAE,UAAC,QAAQ,EAAE,MAAM;gBACxB,qCAAqC;gBACrC,MAAM,CAAC,gBAAgB,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACvD,CAAC;SACJ,CAAC,CAAC,CAAC;IACR,CAAC;IAED,EAAE,CAAC,CAAC,WAAW,CAAC,YAAY,IAAI,KAAK,CAAC,CAAC,CAAC;QACpC,EAAE,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YAChD,OAAO,CAAC,GAAG,CAAC,qCAAqC,CAAC,CAAC;YACnD,EAAE,CAAC,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;gBACvB,qCAAqC;gBACrC,IAAI,OAAO,GAAG;oBACV,gBAAgB,EAAE,gBAAgB;iBACrC,CAAC;gBACF,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC;YAC/C,CAAC;QACL,CAAC;IACL,CAAC;IAED,OAAO,CAAC,cAAc,CAAC,QAAQ,EAAa,EAAE,EAAE,UAAU,EAAE,SAAS,CAAC,CAAC;AAE3E,CAAC,CACJ;;;;;;;;;;;;;;;;;;;;ACpE6D;AA4B9D,IAAM,eAAe,GAAoB;IACrC,mBAAmB,EAAE,CAAC;IACtB,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,CAAC;IACX,eAAe,EAAE,KAAK;IACtB,YAAY,EAAE,SAAS;IAEvB,aAAa;IACb,mBAAmB,EAAE,KAAK;IAC1B,uBAAuB,EAAE,CAAC;IAC1B,2BAA2B,EAAE,CAAC;CACjC,CAAC;AAEK,IAAM,qBAAqB,GAAY;IAC1C,SAAS,EAAE,WAAW;IACtB,IAAI,EAAE,IAAI;IACV,KAAK,EAAE,IAAI;IACX,SAAS,EAAE,CAAC,CAAC;IACb,+BAA+B,EAAE,IAAI;IACrC,WAAW,EAAE,KAAK;IAClB,eAAe,EAAE,KAAK;IACtB,oBAAoB,EAAE,KAAK;IAE3B,eAAe,EAAE,eAAe;CACnC,CAAC;AAGK,IACH,aAAa,GAAqB,UAAC,KAAsC,EAAE,MAAiB;IAAzD,qDAAsC;IACrE,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,oFAAoB,CAAC,eAAe;YACrC,EAAE,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;gBACjB,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC;YAC1B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,MAAM,CAAC,KAAK,CAAC;YACjB,CAAC;QAEL,KAAK,oFAAoB,CAAC,iBAAiB;YACvC,MAAM,CAAC,qBAAqB,CAAC;QAEjC,KAAK,oFAAoB,CAAC,6BAA6B;YACnD,EAAE,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;gBACjB,IAAI,iBAAiB,GAAG,MAAM,CAAC,iBAAiB,CAAC;gBACjD,IAAI,mBAAmB,gBAChB,KAAK,CAAC,eAAe,EACrB,MAAM,CAAC,OAAO,CACpB,CAAC;gBAEF,mBAAmB,CAAC,uBAAuB,GAAG,mBAAmB,CAAC,QAAQ,GAAG,CAAC,mBAAmB,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,mBAAmB,CAAC,mBAAmB,CAAC;gBAC7J,mBAAmB,CAAC,2BAA2B,GAAG,IAAI,CAAC,GAAG,CAAC,mBAAmB,CAAC,uBAAuB,EAAE,iBAAiB,CAAC,CAAC;gBAC3H,mBAAmB,CAAC,mBAAmB,GAAG,mBAAmB,CAAC,uBAAuB,GAAG,iBAAiB,CAAC;gBAE1G,MAAM,cACC,KAAK,EACL,EAAC,eAAe,EAAE,mBAAmB,EAAC,EAC5C;YACL,CAAC;YACD,MAAM,CAAC,KAAK,CAAC;QAEjB,KAAK,oFAAoB,CAAC,sBAAsB;YAC5C,EAAE,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;gBACjB,MAAM,cACC,KAAK,EACL,MAAM,CAAC,OAAO,EACpB;YACL,CAAC;YACD,MAAM,CAAC,KAAK,CAAC;IACrB,CAAC;IAED,MAAM,CAAC,KAAK,CAAC;AACjB,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;AClG4C;AACZ;AAoBtC,IAAI,aAAa,GAAkB;IAC/B,gBAAgB,EAAE,SAAS;IAC3B,UAAU,EAAE,CAAC;IACb,aAAa,EAAE,CAAC;IAChB,SAAS,EAAE,CAAC;IACZ,SAAS,EAAE,EAAE;IACb,UAAU,EAAE,CAAC;IACb,YAAY,EAAE,CAAC;IACf,QAAQ,EAAE,EAAE;IAEZ,4CAA4C;IAC5C,iBAAiB,EAAE,CAAC;IACpB,cAAc,EAAE,CAAC;IACjB,WAAW,EAAE,CAAC;IACd,YAAY,EAAE,CAAC;CAClB,CAAC;AAEK,IACH,mBAAmB,GAA2B,UAAC,KAAoB,EAAE,MAAiB;IAClF,EAAE,CAAC,CAAC,KAAK,IAAI,IAAI,CAAC,CAAC,CAAC;QAChB,MAAM,CAAC,aAAa,CAAC;IACzB,CAAC;IACD,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,wEAAc,CAAC,yBAAyB;YACzC,IAAI,aAAa,GAAG,MAAM,CAAC,OAAO,CAAC;YAEnC,IAAI,UAAQ,gBACL,KAAK,EACL,aAAa,CAAC,QAAQ,CAAC,CAC7B,CAAC;YAEF,aAAa;YACb,UAAQ,CAAC,aAAa,GAAG,CAAC,CAAC;YAE3B,6BAA6B;YAC7B,UAAQ,CAAC,iBAAiB,GAAG,CAAC,CAAC;YAC/B,UAAQ,CAAC,cAAc,GAAG,CAAC,CAAC;YAC5B,UAAQ,CAAC,WAAW,GAAG,CAAC,CAAC;YACzB,UAAQ,CAAC,YAAY,GAAG,CAAC,CAAC;YAE1B,IAAI,UAAQ,GAAG,EAAE,CAAC;YAClB,EAAE,CAAC,CAAC,UAAU,IAAI,aAAa,CAAC,CAAC,CAAC;gBAC9B,aAAa,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAC,IAAI,EAAE,KAAK;oBACnC,IAAI,EAAE,GAAG,IAAI,yDAAO,CAAC,KAAK,EAAE,IAAI,EAAE,MAAM,CAAC,SAAS,CAAC,CAAC;oBACpD,UAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;oBAElB,UAAQ,CAAC,iBAAiB,IAAI,EAAE,CAAC,WAAW,CAAC;oBAC7C,UAAQ,CAAC,cAAc,IAAI,EAAE,CAAC,eAAe,CAAC;oBAE9C,wBAAwB;oBACxB,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC;wBACb,UAAQ,CAAC,WAAW,GAAG,EAAE,CAAC,WAAW,CAAC;wBACtC,UAAQ,CAAC,YAAY,GAAG,EAAE,CAAC,qBAAqB,CAAC;oBACrD,CAAC;gBACL,CAAC,CAAC,CAAC;gBACH,UAAQ,CAAC,aAAa,GAAG,UAAQ,CAAC,MAAM,CAAC;YAC7C,CAAC;YACD,UAAQ,CAAC,QAAQ,GAAG,UAAQ,CAAC;YAC7B,MAAM,CAAC,UAAQ,CAAC;IACxB,CAAC;IACD,MAAM,CAAC,KAAK,CAAC;AACjB,CAAC,CAAC;;;;;;;;;;;;;;;;;;;AClFkC;AAUxC,IAAI,cAAc,GAAa;IAC3B,SAAS,EAAE,IAAI;IACf,OAAO,EAAE,IAAI;IACb,YAAY,EAAE,IAAI;IAClB,uBAAuB,EAAE,CAAC;CAC7B,CAAC;AAEK,IACH,SAAS,GAAsB,UAAC,KAAe,EAAE,MAAiB;IAC9D,EAAE,CAAC,CAAC,KAAK,IAAI,IAAI,CAAC,CAAC,CAAC;QAChB,MAAM,CAAC,cAAc,CAAC;IAC1B,CAAC;IAED,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,8DAAS,CAAC,kBAAkB;YAC7B,MAAM,cACC,cAAc,IACjB,YAAY,EAAE,KAAK,EACnB,uBAAuB,EAAE,CAAC,IAC5B;QAEN,KAAK,8DAAS,CAAC,mBAAmB;YAC9B,IAAI,cAAc,GAAG,KAAK,CAAC,uBAAuB,GAAG,CAAC,CAAC;YACvD,MAAM,cACC,cAAc,IACjB,YAAY,EAAE,IAAI,EAClB,uBAAuB,EAAE,cAAc,IACzC;QAEN,KAAK,8DAAS,CAAC,wBAAwB;YACnC,IAAI,WAAW,GAAU,MAAM,CAAC,OAAO,CAAC;YACxC,IAAI,YAAY,GAAG,WAAW,CAAC,OAAO,GAAG,WAAW,CAAC,OAAO,GAAG,WAAW,CAAC,QAAQ,EAAE,CAAC;YAEtF,IAAI,OAAO,GAAG,EAAE,CAAC;YACjB,EAAE,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC;gBACnB,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACvB,CAAC;YACD,IAAI,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAEhC,MAAM,cACC,KAAK,IACR,SAAS,EAAE,YAAY,EACvB,YAAY,EAAE,MAAM,CAAC,YAAY,EACjC,uBAAuB,EAAE,CAAC,EAC1B,OAAO,EAAE,MAAM,IACjB;QAGN,KAAK,8DAAS,CAAC,qBAAqB;YAChC,IAAI,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;YAC7B,MAAM,cACC,KAAK,IACR,SAAS,EAAE,OAAO,EAClB,YAAY,EAAE,MAAM,CAAC,YAAY,EACjC,OAAO,EAAE,IAAI,IACf;IACV,CAAC;IAED,MAAM,CAAC,KAAK,CAAC;AACjB,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;ACtE8B;AAEY;AAOhD,IAAI,kBAAkB,GAAY;IAC9B,QAAQ,EAAE,KAAK;IACf,MAAM,EAAE,IAAI,uDAAM,CAAC;QACf,WAAW,EAAE,GAAG;KACnB,CAAC;CACL,CAAC;AAEK,IACH,aAAa,GAAqB,UAAC,KAAmC,EAAE,MAAiB;IAAtD,kDAAmC;IAClE,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,sEAAa,CAAC,WAAW,CAAC;QAC/B,KAAK,sEAAa,CAAC,YAAY;YAC3B,MAAM,cACC,KAAK,IACR,QAAQ,EAAE,IAAI,IAChB;QAEN,KAAK,sEAAa,CAAC,qBAAqB;YACpC,IAAI,WAAW,gBACR,KAAK,CAAC,MAAM,EACZ,MAAM,CAAC,OAAO,CACpB,CAAC;YACF,MAAM,cACC,KAAK,IACR,MAAM,EAAE,WAAW,IACrB;QAEN,KAAK,sEAAa,CAAC,SAAS;YACxB,MAAM,cACC,KAAK,IACR,MAAM,EAAE,MAAM,CAAC,OAAO,EACtB,QAAQ,EAAE,KAAK,IAClB;IACT,CAAC;IACD,MAAM,CAAC,KAAK,CAAC;AACjB,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;AC5CmC;AACwC;AACnB;AACjB;AAEG;AACmB;AAGnE;IACI,4BAAoB,WAAgC,EAChC,aAA4B,EAC5B,cAA+B,EAC/B,OAA2B;QAH/C,iBAKC;QALmB,gBAAW,GAAX,WAAW,CAAqB;QAChC,kBAAa,GAAb,aAAa,CAAe;QAC5B,mBAAc,GAAd,cAAc,CAAiB;QAC/B,YAAO,GAAP,OAAO,CAAoB;QAI/C,+BAA+B;QAC/B,6BAA6B;QAC7B,qCAAqC;QACrC,QAAQ;QACR,mCAAmC;QACnC,qEAAqE;QACrE,8DAA8D;QAC9D,iBAAiB;QACjB,cAAc;QACd,KAAK;QAEL,kBAAa,GAAG,UAAC,OAAO;YACpB,MAAM,CAAC,OAAO,CAAC,MAAM,CACjB,oFAAoB,CAAC,sBAAsB,EAC3C,oFAAoB,CAAC,6BAA6B,EAClD,oFAAoB,CAAC,iBAAiB,CACzC;iBACI,YAAY,CAAC,IAAI,CAAC;iBAClB,QAAQ,CAAC,UAAC,OAAO;gBACd,IAAI,MAAM,GAAG,KAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC,CAAC;gBAC/C,MAAM,CAAC,KAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,WAAC;oBACnD,MAAM,CAAC;wBACH,IAAI,EAAE,oFAAoB,CAAC,qBAAqB;qBACnD;gBACL,CAAC,CAAC,CAAC;YACP,CAAC,CAAC,CAAC;QACX,CAAC;IA5BD,CAAC;IANQ,kBAAkB;QAD9B,iEAAU,EAAE;yCAEwB,iGAAmB;YACjB,sEAAa;YACZ,mFAAe;YACtB,6DAAO;OAJ3B,kBAAkB,CAmC9B;IAAD,yBAAC;CAAA;AAnC8B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACTS;AACe;AAC+C;AAC3D;AACG;AAClB;AACe;AAE3C;IAGI,wBAAmB,OAAsB,EACtB,SAAoB;QADpB,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACnC,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC,IAAI,CAAC;IACjC,CAAC;IAEM,0CAAiB,GAAxB;QACI,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,GAAG,CAAC,CAAC,IAAI,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;YACtC,IAAI,OAAO,GAAG,CAAC,GAAG,GAAG,EAAE,CAAC,CAAC;YACzB,IAAI,WAAW,GAAG,0EAAU,CAAC,OAAO,CAAC,CAAC;YACtC,IAAI,CAAC,IAAI,CAAC;gBACN,OAAO,EAAE,OAAO;gBAChB,MAAM,EAAE,OAAO,CAAC,QAAQ,EAAE,GAAG,8DAAM,CAAC,OAAO,GAAG,KAAK,GAAG,WAAW,GAAG,8DAAM,CAAC,WAAW;aACzF,CAAC,CAAC;QACP,CAAC;QACD,MAAM,CAAC,IAAI,CAAC;IAChB,CAAC;IAEM,8CAAqB,GAA5B;QACI,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,GAAG,CAAC,CAAC,IAAI,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;YACrC,IAAI,QAAQ,GAAG,GAAG,CAAC;YACnB,IAAI,CAAC,IAAI,CAAC,EAAC,OAAO,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,CAAC,QAAQ,EAAE,GAAG,GAAG,EAAC,CAAC,CAAC;QACtE,CAAC;QACD,MAAM,CAAC,IAAI,CAAC;IAChB,CAAC;IACL,qBAAC;AAAD,CAAC;;AAMD;IAAsC,oCAAc;IAChD,aAAa;IAEb,8CAA8C;IAC9C,0BAAY,OAAsB,EACf,WAAwB,EAC/B,SAAoB;QAFhC,YAGI,kBAAM,OAAO,EAAE,SAAS,CAAC,SAC5B;QAHkB,iBAAW,GAAX,WAAW,CAAa;;IAG3C,CAAC;IAED,mCAAQ,GAAR;QACI,4CAA4C;QAC5C,wBAAwB;QACxB,uCAAuC;QACvC,oCAAoC;QACpC,sBAAsB;QACtB,aAAa;QACb,SAAS;QACT,MAAM;IACV,CAAC;IAED,iCAAM,GAAN;QACI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,2EAAa,CAAC,IAAI;YACzC,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,2EAAa,CAAC,IAAI,CAAC;IAC/C,CAAC;IAED,iCAAM,GAAN;QACI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,2EAAa,CAAC,IAAI,CAAC;IAClD,CAAC;IAED,4CAAiB,GAAjB;QACI,IAAI,KAAK,GAAG,EAAE,CAAC;QACf,MAAM,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;YACvB,KAAK,2EAAa,CAAC,IAAI;gBACnB,KAAK,GAAG;oBACJ,EAAC,OAAO,EAAE,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAC;oBAC9B,EAAC,OAAO,EAAE,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAC;iBAAC,CAAC;QAC5C,CAAC;QACD,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IAED,yCAAc,GAAd;QACI,MAAM,CAAC;YACH,EAAC,OAAO,EAAE,6EAAe,CAAC,IAAI,EAAE,MAAM,EAAE,MAAM,EAAC;YAC/C,EAAC,OAAO,EAAE,6EAAe,CAAC,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAC;YACnD,EAAC,OAAO,EAAE,6EAAe,CAAC,IAAI,EAAE,MAAM,EAAE,MAAM,EAAC;YAC/C,EAAC,OAAO,EAAE,6EAAe,CAAC,IAAI,EAAE,MAAM,EAAE,MAAM,EAAC;YAC/C,EAAC,OAAO,EAAE,6EAAe,CAAC,WAAW,EAAE,MAAM,EAAE,cAAc,EAAC;SACjE,CAAC;IACN,CAAC;IAED,2CAAgB,GAAhB;QACI,MAAM,CAAC;YACH,EAAC,OAAO,EAAE,iFAAmB,CAAC,6BAA6B,EAAE,MAAM,EAAE,qBAAqB,EAAC;YAC3F,EAAC,OAAO,EAAE,iFAAmB,CAAC,6BAA6B,EAAE,MAAM,EAAE,kBAAkB,EAAC;YACxF,EAAC,OAAO,EAAE,iFAAmB,CAAC,2BAA2B,EAAE,MAAM,EAAE,oBAAoB,EAAC;YACxF,EAAC,OAAO,EAAE,iFAAmB,CAAC,4BAA4B,EAAE,MAAM,EAAE,qBAAqB,EAAC;SAC7F;IACL,CAAC;IAED,wDAA6B,GAA7B;QACI,IAAI,YAAY,GAAG,CAAC,iFAAmB,CAAC,4BAA4B,EAAE,iFAAmB,CAAC,4BAA4B,EAAE,iFAAmB,CAAC,6BAA6B,CAAC,CAAC;QAC3K,MAAM,CAAC,gDAAU,CAAC,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;IAClE,CAAC;IAED,gDAAqB,GAArB;QACI,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,GAAG,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,EAAE,EAAE,CAAC;YAChC,IAAI,MAAM,GAAG,CAAC,GAAG,GAAG,EAAE,CAAC,CAAC;YACxB,IAAI,CAAC,IAAI,CAAC,EAAC,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,CAAC,QAAQ,EAAE,GAAG,GAAG,EAAC,CAAC,CAAC;QAClE,CAAC;QACD,MAAM,CAAC,IAAI,CAAC;IAChB,CAAC;IAED,mDAAwB,GAAxB;QACI,MAAM,CAAC;YACH,EAAC,OAAO,EAAE,CAAC,EAAE,MAAM,EAAE,OAAO,EAAC;YAC7B,EAAC,OAAO,EAAE,CAAC,EAAE,MAAM,EAAE,OAAO,EAAC;YAC7B,EAAC,OAAO,EAAE,CAAC,EAAE,MAAM,EAAE,OAAO,EAAC;YAC7B,EAAC,OAAO,EAAE,CAAC,EAAE,MAAM,EAAE,OAAO,EAAC;YAC7B,EAAC,OAAO,EAAE,CAAC,EAAE,MAAM,EAAE,OAAO,EAAC;SAChC,CAAC;IACN,CAAC;IAED,gDAAqB,GAArB;QACI,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,GAAG,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,EAAE,EAAE,CAAC;YAChC,IAAI,MAAM,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;YACzB,IAAI,CAAC,IAAI,CAAC,EAAC,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,CAAC,QAAQ,EAAE,GAAG,GAAG,EAAC,CAAC,CAAC;QAClE,CAAC;QACD,MAAM,CAAC,IAAI,CAAC;IAChB,CAAC;IAED,6CAAkB,GAAlB;QACI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC;IACvC,CAAC;IAED,iDAAsB,GAAtB;QACI,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,GAAG,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,EAAE,EAAE,CAAC;YAChC,IAAI,CAAC,IAAI,CAAC,EAAC,OAAO,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,CAAC,QAAQ,EAAE,GAAG,IAAI,EAAC,CAAC,CAAC;QAC7D,CAAC;QACD,MAAM,CAAC,IAAI,CAAC;IAChB,CAAC;IAED,+CAAoB,GAApB;QACI,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,GAAG,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,EAAE,EAAE,CAAC;YAChC,IAAI,CAAC,IAAI,CAAC,EAAC,OAAO,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,CAAC,QAAQ,EAAE,GAAG,KAAK,EAAC,CAAC,CAAC;QAC9D,CAAC;QACD,MAAM,CAAC,IAAI,CAAC;IAChB,CAAC;IAED,oDAAyB,GAAzB;QACI,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,GAAG,CAAC,CAAC,IAAI,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC;YAClC,IAAI,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC;YACvB,IAAI,CAAC,IAAI,CAAC,EAAC,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,CAAC,QAAQ,EAAE,GAAG,GAAG,EAAC,CAAC,CAAC;QAClE,CAAC;QACD,MAAM,CAAC,IAAI,CAAC;IAChB,CAAC;IAED,+CAAoB,GAApB,UAAqB,KAAa,EAAE,GAAW;QAC3C,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,GAAG,CAAC,CAAC,IAAI,GAAG,GAAG,KAAK,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC;YACrC,IAAI,CAAC,IAAI,CAAC,EAAC,OAAO,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,CAAC,QAAQ,EAAE,GAAG,KAAK,EAAC,CAAC,CAAC;QAC9D,CAAC;QACD,MAAM,CAAC,IAAI,CAAC;IAChB,CAAC;IAhIQ,gBAAgB;QAJ5B,gEAAS,CAAC;YACP,QAAQ,EAAE,oBAAoB;WACG;SACpC,CAAC;gFAKoC;YACF,kEAAW;YACpB,SAAS;OANvB,gBAAgB,CAiI5B;IAAD,eAAC;AAAA;SAjIY,gBAAgB,gB;;;;;;;;;;;;;;;;;;;;;AC3CY;AAEI;AAI7C;IAGI,wBAAoB,OAA2B;QAA3B,YAAO,GAAP,OAAO,CAAoB;IAC/C,CAAC;uBAJQ,cAAc;IAMvB,sBAAI,kCAAM;aAAV;YACI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC,CAAC;QAC7C,CAAC;;;OAAA;IAED,oCAAW,GAAX;QACI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;IAC1D,CAAC;IAED,gDAAuB,GAAvB,UAAwB,YAAY;QAChC,IAAI,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC;QACzD,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;YAClB,IAAI,EAAE,gBAAc,CAAC,yBAAyB;YAC9C,OAAO,EAAE,YAAY;YACrB,SAAS,EAAE,SAAS;SACvB,CAAC,CAAC;IACP,CAAC;IApBM,wCAAyB,GAAW,2BAA2B,CAAC;IAD9D,cAAc;QAD1B,iEAAU,EAAE;yCAIoB,6DAAO;OAH3B,cAAc,CAuB1B;IAAD,qBAAC;;CAAA;AAvB0B;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNqB;AAC8B;AAElC;AACD;AACJ;AAG+C;AAOtF;IAKI,oBAAoB,QAAkB,EAClB,OAA6B;QAD7B,aAAQ,GAAR,QAAQ,CAAU;QAClB,YAAO,GAAP,OAAO,CAAsB;IAEjD,CAAC;IAED,iCAAY,GAAZ;QACI,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;IACvC,CAAC;IAED,oCAAe,GAAf;QACI,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC,QAAQ,EAAE,CAAC;IAChD,CAAC;IAED,sBAAI,oCAAY;aAAhB;YACI,IAAI,WAAW,GAAG,iHAAkB,EAAE,CAAC;YACvC,MAAM,CAAC,WAAW,CAAC,YAAY,IAAI,MAAM,CAAC;QAC9C,CAAC;;;OAAA;IAED,uCAAkB,GAAlB;QACI,IAAI,WAAW,GAAG,iHAAkB,EAAE,CAAC;QACvC,IAAI,UAAU,GAAG,UAAC,KAAK;YACnB,MAAM,CAAC,KAAK,GAAG,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC,CAAC;QAC9C,CAAC,CAAC;QACF,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;IACpD,CAAC;IA5BS;QAAT,oEAAM,EAAE;kCAAU,2DAAU;+CAAU;IAC7B;QAAT,oEAAM,EAAE;kCAAW,2DAAU;gDAAgB;IACpC;QAAT,oEAAM,EAAE;kCAAM,2DAAU;2CAAW;IAH3B,UAAU;QALtB,gEAAS,CAAC;YACP,QAAQ,EAAE,aAAa;YACvB,WAAW,kGAAoB;WACE;SACpC,CAAC;+GAMwC;YACT,OAAoB;OANxC,UAAU,CA8BtB;IAAD,CAAC;AAAA;SA9BY,UAAU,oB;;;;;;;;;;;;;;;;;;;;ACfkB;AACoB;AAChB;AACA;AAKvC;IACF,MAAM,CAAC,MAAgC,GAAG,aAAa,GAAG,kEAAY,CAAC;AAC3E,CAAC;AAWD;IAAA;IAAiC,CAAC;IAArB,kBAAkB;QAT9B,+DAAQ,CAAC;YACN,SAAS,EAAE;gBACP;oBACI,OAAO,EAAE,kFAAY;oBACrB,4EAA4E;oBAC5E,UAAU,EAAE,kBAAkB;iBACjC;aACJ;SACJ,CAAC;OACW,kBAAkB,CAAG;IAAD,yBAAC;CAAA;AAAH","file":"main.js","sourcesContent":["import {Component} from '@angular/core';\r\nimport {AlertController, IonicPage, NavController, NavParams, Toast, ToastController} from 'ionic-angular';\r\nimport {NgRedux, select} from \"@angular-redux/store\";\r\nimport {IAppState} from \"../../models/state/configure\";\r\nimport {Observable} from \"rxjs/Observable\";\r\nimport {ISystem} from \"../../models/state/reducers/system\";\r\nimport {SystemActions} from \"../../models/state/actions/system\";\r\nimport {objectHasBeenModified} from \"../../utils/helpers\";\r\nimport {IUIState} from \"../../models/state/reducers/ui\";\r\nimport {System} from \"../../models/system\";\r\nimport {UIActions} from \"../../models/state/actions/ui\";\r\n\r\n@IonicPage()\r\n@Component({\r\n    selector: 'page-system-settings',\r\n    templateUrl: 'system-settings.html',\r\n})\r\nexport class SystemSettingsPage {\r\n    @select() system$: Observable<ISystem>;\r\n    @select() ui$: Observable<IUIState>;\r\n\r\n    originalUnmodified: System;\r\n    savingAlert: Toast;\r\n\r\n    constructor(public navCtrl: NavController,\r\n                public actions: SystemActions,\r\n                public uiActions: UIActions,\r\n                public toastController: ToastController,\r\n                public alertController: AlertController,\r\n                private ngRedux: NgRedux<IAppState>) {\r\n    }\r\n\r\n    createSaveAlert() {\r\n        this.savingAlert = this.toastController.create({\r\n            'message': \"Saving...\",\r\n            'position': 'bottom',\r\n        });\r\n        this.savingAlert.present();\r\n        return this.savingAlert;\r\n    }\r\n\r\n    saveSettings() {\r\n        this.createSaveAlert();\r\n        let system = this.ngRedux.getState().system.system;\r\n\r\n        this.actions.saveSystemSettings(system).subscribe(sys => {\r\n        }, err => {\r\n            this.uiActions.setErrorMessage(err);\r\n        }, () => {\r\n            this.savingAlert.dismiss();\r\n        });\r\n    }\r\n\r\n    get settingsAreModified(): boolean {\r\n        if (this.originalUnmodified == null) {\r\n            return false;\r\n        }\r\n        let current = this.ngRedux.getState().system.system;\r\n        return objectHasBeenModified(this.originalUnmodified, current);\r\n    }\r\n\r\n    ionViewCanLeave() {\r\n        if (this.settingsAreModified) {\r\n            let current = this.ngRedux.getState().system.system;\r\n            return this.changeAlert(current);\r\n        }\r\n    }\r\n\r\n    ionViewDidLoad() {\r\n        this.system$.subscribe((v: ISystem) => {\r\n            if (v.fetching == true) {\r\n\r\n            }\r\n            if (v.fetching == false) {\r\n                console.log(\"I've made a clone...\");\r\n                this.originalUnmodified = v.system.clone();\r\n            }\r\n        });\r\n        this.actions.fetchSystemFromCharger();\r\n    }\r\n\r\n    private changeAlert(system: System) {\r\n        return new Promise((resolve, reject) => {\r\n            let alert = this.alertController.create({\r\n                title: \"Save settings\",\r\n                message: \"Do you want to save to the charger?\",\r\n                buttons: [\r\n                    {\r\n                        text: \"Save\",\r\n                        handler: () => {\r\n                            this.createSaveAlert();\r\n                            this.actions.saveSystemSettings(system).subscribe(sys => {\r\n                                resolve();\r\n                            }, err => {\r\n                                this.uiActions.setErrorMessage(err);\r\n                                reject();\r\n                            }, () => {\r\n                                this.savingAlert.dismiss();\r\n                            });\r\n                        }\r\n                    },\r\n                    {\r\n                        text: \"Discard\",\r\n                        handler: () => {\r\n                            resolve();\r\n                        }\r\n                    },\r\n                    {\r\n                        text: \"Cancel\",\r\n                        handler: () => {\r\n                            reject();\r\n                        }\r\n                    }\r\n                ]\r\n            });\r\n            alert.present();\r\n        });\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/system-settings/system-settings.ts","import * as _ from \"lodash\";\r\n\r\nexport function celciusToF(c) {\r\n    return c * 9 / 5 + 32;\r\n}\r\n\r\nexport function objectHasBeenModified(original, current): boolean {\r\n    // If there are changes, we should prompt the user to save.\r\n    let modifiedProperties = _.reduce(original, function (result, value, key) {\r\n        return _.isEqual(value, current[key]) ?\r\n            result : result.concat(key);\r\n    }, []);\r\n\r\n    let are_equal = modifiedProperties.length == 0;\r\n    return !are_equal;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/helpers.ts","import {Component} from \"@angular/core\";\r\nimport {NavController} from \"ionic-angular\";\r\nimport {Observable} from \"rxjs\";\r\nimport {Http} from \"@angular/http\";\r\nimport {iChargerService} from \"../../services/icharger.service\";\r\nimport {NgRedux, select} from \"@angular-redux/store\";\r\nimport {IAppState} from \"../../models/state/configure\";\r\nimport {Channel} from \"../../models/channel\";\r\nimport {ConfigPage} from \"../config/config-page\";\r\nimport {UIActions} from \"../../models/state/actions/ui\";\r\nimport {SystemSettingsPage} from \"../system-settings/system-settings\";\r\nimport {SystemActions} from \"../../models/state/actions/system\";\r\n\r\n@Component({\r\n    selector: 'page-home',\r\n    templateUrl: 'home.html'\r\n})\r\nexport class HomePage {\r\n    @select('ui.exception') exception$: Observable<any>;\r\n    @select() charger$: Observable<Channel>;\r\n    @select() system$: Observable<Channel>;\r\n\r\n    timeoutUp: boolean;\r\n    showConfigureButton: boolean;\r\n\r\n    constructor(public readonly navCtrl: NavController,\r\n                public readonly chargerService: iChargerService,\r\n                private uiAction: UIActions,\r\n                private systemActions: SystemActions,\r\n                public readonly ngRedux: NgRedux<IAppState>,\r\n                public readonly http: Http) {\r\n\r\n        let timeout = 2000;\r\n        this.timeoutUp = false;\r\n        this.showConfigureButton = false;\r\n\r\n        Observable.timer(timeout).subscribe(r => {\r\n            this.timeoutUp = true;\r\n        });\r\n\r\n        Observable.timer(timeout * 2).subscribe(r => {\r\n            this.showConfigureButton = true;\r\n        });\r\n\r\n        this.systemActions.fetchSystemFromCharger();\r\n    }\r\n\r\n    anyNetworkOrConnectivityProblems() {\r\n        return this.chargerService.anyNetworkOrConnectivityProblems();\r\n    }\r\n\r\n    isNetworkAvailable(): boolean {\r\n        return this.chargerService.isNetworkAvailable();\r\n    }\r\n\r\n    isConnectedToServer() {\r\n        return this.chargerService.isConnectedToServer();\r\n    }\r\n\r\n    isConnectedToCharger() {\r\n        return this.chargerService.isConnectedToCharger();\r\n    }\r\n\r\n    ionViewWillEnter() {\r\n        // this.showConfigPage();\r\n        // this.showSystemPage();\r\n    }\r\n\r\n    showConfigPage() {\r\n        this.navCtrl.push(ConfigPage);\r\n    }\r\n\r\n    showSystemPage() {\r\n        this.navCtrl.push(SystemSettingsPage);\r\n    }\r\n\r\n    makeError() {\r\n        this.uiAction.setErrorMessage(\"BOOM\");\r\n        this.uiAction.setDisconnected();\r\n    }\r\n\r\n    chargerText() {\r\n        if (this.isConnectedToCharger()) {\r\n            return \"Charger OK!\";\r\n        }\r\n        return \"Can't see the charger\";\r\n    }\r\n\r\n    serverText() {\r\n        if (this.isConnectedToServer()) {\r\n            return \"Server/Pi connection is good!\";\r\n        }\r\n        return \"Can't see the Pi\";\r\n    }\r\n\r\n    tips() {\r\n        let tips = [];\r\n        if (!this.isNetworkAvailable()) {\r\n            tips.push(\"Is Wifi on? There doesn't seem to be a network.\");\r\n        }\r\n        if (!this.isConnectedToServer()) {\r\n            tips.push(\"Check that you have the correct host URL in your Configuration.\");\r\n            tips.push(\"Do you have network connectivity to the Pi?\");\r\n        }\r\n        if (!this.isConnectedToCharger()) {\r\n            tips.push(\"Is the charger on?\");\r\n            tips.push(\"Is the charger USB plugged into the Pi?\");\r\n        }\r\n        return tips;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import {Injectable} from '@angular/core';\r\nimport {Storage} from \"@ionic/storage\";\r\nimport {Observable} from \"rxjs/Observable\";\r\n\r\n@Injectable()\r\nexport class ConfigStoreProvider {\r\n\r\n    constructor(public storage: Storage) {\r\n    }\r\n\r\n    loadConfiguration(): Observable<any> {\r\n        return Observable.fromPromise(this.storage.get('config'));\r\n    }\r\n\r\n    saveConfiguration(config): Observable<any> {\r\n        return Observable.fromPromise(this.storage.set('config', config));\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/config-store/config-store.ts","/**\r\n\r\n DeviceInfo.run_status\r\n 1 = stopped (showing stopped)\r\n 5 = start\r\n 6 = check\r\n 7 = charging (I see: start, check, charge)\r\n 14,11,12,7/13 = storage (start, check, charge/discharge)\r\n 13 = discharging\r\n 17 = balance\r\n 40 = done, beeping.\r\n 0 = idle, doing nothing\r\n\r\n Storage & Discharge (as DISCHG):\r\n - run_state=13\r\n - control_state=3\r\n - -ve current_out_capacity\r\n - -ve current_out_amps\r\n - -ve current_out_power\r\n\r\n Storage (CHARGE)\r\n - run_state=7\r\n - control_state=2\r\n - +ve current_out_capacity\r\n - +ve current_out_amps\r\n - +ve current_out_power\r\n\r\n Run_status possible bit field:\r\n 1/1 : active (stopped, charging, discharge, anything other than idle)\r\n 2/2 : check\r\n 3/4 : start\r\n 4/8 : charge\r\n 5/16:\r\n 6/32:\r\n 7/64:\r\n\r\n Control_status\r\n 0 = stopped\r\n 2 = b.cv\r\n 3 = b.cc\r\n */\r\n\r\nexport class Channel {\r\n    _json = {};\r\n    _index: number = 0;\r\n    _lastUserInitiatedCommand: string = null;\r\n    _timeUserSetLastInitiatedCommand: number;\r\n    _timeUserInitiatedCommandTimeout: number = 5;\r\n\r\n    public constructor(index: number, jsonObject, configuredCellLimit: number = 0) {\r\n        this._index = index;\r\n        this._json = jsonObject;\r\n        this.limitCellsBasedOnLimit(configuredCellLimit);\r\n\r\n        /*\r\n         Migrate all the properties of the object directly onto this object, so they can be easily accessed\r\n         */\r\n        for (let key of Object.keys(jsonObject)) {\r\n            Object.defineProperty(this, key, {\r\n                get: () => {\r\n                    return this._json[key];\r\n                },\r\n                set: (value) => {\r\n                    this._json[key] = value;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    updateStateFrom(jsonResponse: any | string, cellLimit: any) {\r\n        this._json = jsonResponse;\r\n        this.limitCellsBasedOnLimit(cellLimit);\r\n    }\r\n\r\n    set lastUserInitiatedCommand(value: string) {\r\n        this._lastUserInitiatedCommand = value;\r\n        this._timeUserSetLastInitiatedCommand = Date.now();\r\n    }\r\n\r\n    get index(): number {\r\n        return this._index;\r\n    }\r\n\r\n    public get numberOfCells(): number {\r\n        return this.cells.length;\r\n    }\r\n\r\n    get cells() {\r\n        return this._json['cells'];\r\n    }\r\n\r\n    get json() {\r\n        return this._json;\r\n    }\r\n\r\n    get input_volts(): number {\r\n        return this._json['curr_inp_volts'];\r\n    }\r\n\r\n    get output_amps(): number {\r\n        return this._json['curr_out_amps'];\r\n    }\r\n\r\n    get output_capacity(): number {\r\n        return this._json['curr_out_capacity'];\r\n    }\r\n\r\n    get charger_internal_temp(): number {\r\n        return this._json['curr_int_temp'];\r\n    }\r\n\r\n    get hasUserInitiatedCommandText(): boolean {\r\n        if (!this.packConnected) {\r\n            return false;\r\n        }\r\n        if (!this.packBalanceLeadsConnected) {\r\n            return false;\r\n        }\r\n        let b = this._lastUserInitiatedCommand != null;\r\n        // console.log(\"Has last command: \", b);\r\n        return b;\r\n    }\r\n\r\n    get userCommandText(): string {\r\n        return this._lastUserInitiatedCommand;\r\n    }\r\n\r\n    /*\r\n     run_state: shows what the charger is doing: checking, charging, discharging, starting, stopped, etc.\r\n     control_state: not really sure. It might mean \"I am controlling something (like volts, current)\", but I havn't found a pattern just yet.\r\n\r\n     Unfortunately, there's no var I can see that tells us the current operation (storage, balance, etc).\r\n     e.g: when doing Storage, you charge or discharge. run_state gives us charge/discharge, but doesn't say\r\n     if that's a result of us performing an actual Charge operation, or a Storage operation.\r\n     */\r\n    get actionText(): string {\r\n        let run_state = this.runState;\r\n\r\n        if (!this.packConnected) {\r\n            this.maybeClearLastUsedCommand(true);\r\n            return \"No pack\";\r\n        }\r\n        if (!this.packBalanceLeadsConnected) {\r\n            this.maybeClearLastUsedCommand(true);\r\n            return \"Balance leads?\";\r\n        }\r\n\r\n        let text: string = \"\";\r\n\r\n        if (run_state == 5) {\r\n            text += \"Start\";\r\n        } else if (run_state == 6 || run_state == 12) {\r\n            text += \"Check\";\r\n        } else if (run_state == 7) {\r\n            text += \"Charging\";\r\n        } else if (run_state == 13) {\r\n            text += \"Discharge\";\r\n        } else if (run_state == 17) {\r\n            text += \"Balancing\";\r\n        } else if (run_state == 1) {\r\n            text += \"Stopped\";\r\n        } else if (run_state == 40) {\r\n            text += \"DONE\";\r\n        } else {\r\n            this.maybeClearLastUsedCommand(false);\r\n            text += \"Idle\";\r\n        }\r\n\r\n        return text;\r\n    }\r\n\r\n    public set lastUserCommand(command: string) {\r\n        this._lastUserInitiatedCommand = command;\r\n        this._timeUserInitiatedCommandTimeout = Date.now();\r\n    }\r\n\r\n    public maybeClearLastUsedCommand(force: boolean) {\r\n        if (this.index == 0 && force) {\r\n            console.log(\"maybeClearLastUsedCommand called: force:\", force);\r\n        }\r\n        if (force) {\r\n            if(this._lastUserInitiatedCommand != null) {\r\n                this._lastUserInitiatedCommand = null;\r\n                this._timeUserSetLastInitiatedCommand = null;\r\n            }\r\n            return;\r\n        }\r\n        if (this._timeUserSetLastInitiatedCommand) {\r\n            let rightNow = Date.now();\r\n            let elapsedTime: number = rightNow - this._timeUserSetLastInitiatedCommand;\r\n            if (elapsedTime > this._timeUserInitiatedCommandTimeout) {\r\n                this._lastUserInitiatedCommand = null;\r\n                this._timeUserSetLastInitiatedCommand = null;\r\n                console.log(\"Last user task cleared due to timeout\");\r\n            }\r\n        }\r\n    }\r\n\r\n    get packAndBalanceConnected(): boolean {\r\n        return this.packConnected && this.packBalanceLeadsConnected;\r\n    }\r\n\r\n    get packConnected(): boolean {\r\n        return this._json['battery_plugged_in'];\r\n    }\r\n\r\n    get packBalanceLeadsConnected(): boolean {\r\n        return this._json['balance_leads_plugged_in'];\r\n    }\r\n\r\n    get isChargeRunning(): boolean {\r\n        // 7 = charging\r\n        // 13 = discharging\r\n        // 17 = balance\r\n        console.log(\"Charge run status is: \", this._json['run_status']);\r\n        let run_states = [7, 13, 17];\r\n        return run_states.indexOf(this.runState) != -1;\r\n    }\r\n\r\n    get isChargeStopped(): boolean {\r\n        // 40 = finished charge, finished store\r\n        let stopped_stats = [40, 0];\r\n        return stopped_stats.indexOf(this.runState) != -1;\r\n    }\r\n\r\n    get runState(): number {\r\n        return this._json['run_status'];\r\n    }\r\n\r\n    get controlState(): number {\r\n        return this._json['control_status'];\r\n    }\r\n\r\n    get maxMilliVoltDiff() {\r\n        let cells = this.cells;\r\n        if (!cells) {\r\n            return 0;\r\n        }\r\n\r\n        let minimum: number = 9999999;\r\n        let maximum: number = 0;\r\n        let iterations: number = 0;\r\n\r\n        cells.forEach(cell => {\r\n            let cellVolts: number = cell['v'];\r\n            if (cellVolts > 0 && cellVolts < 100) {\r\n                minimum = Math.min(cellVolts, minimum);\r\n                maximum = Math.max(cellVolts, maximum);\r\n                iterations++;\r\n            }\r\n        });\r\n\r\n        if (iterations == 0) {\r\n            return 0.0;\r\n        }\r\n        return (maximum - minimum) * 1000.0;\r\n    }\r\n\r\n    private limitCellsBasedOnLimit(configuredCellLimit: number) {\r\n        // Limit the number of cells\r\n        if (configuredCellLimit >= 0) {\r\n            let activeCells = this.numberOfActiveCells;\r\n            if (activeCells != this._json['cells'].length) {\r\n                // console.debug(`Limited cells on channel ${this._index} to ${activeCells}`);\r\n                let toShow = Math.max(activeCells, configuredCellLimit);\r\n                if (activeCells || configuredCellLimit) {\r\n                    // If the number of cells we see is greater than our limit, we need to +1, else the slice will be 'one short'.\r\n                    if (activeCells > configuredCellLimit) {\r\n                        toShow++;\r\n                    }\r\n                    this._json['cells'] = this._json['cells'].slice(0, toShow);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private get numberOfActiveCells() {\r\n        // Maybe reduce the channels, as long as they are 0 volt.\r\n        let cells = this._json['cells'];\r\n        if (cells) {\r\n            // Check voltages.\r\n            // If we see a voltage on a channel, we must show everything up to that channel for safety\r\n            let voltageSeenAtIndex = 0;\r\n            cells.forEach((item, index) => {\r\n                if (item.v > 0) {\r\n                    voltageSeenAtIndex = index;\r\n                }\r\n            });\r\n            return voltageSeenAtIndex;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/channel.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 167;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 167\n// module chunks = 0","var map = {\n\t\"../pages/system-settings/system-settings.module\": [\n\t\t212\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 211;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 211\n// module chunks = 0","import {NgModule} from '@angular/core';\r\nimport {IonicPageModule} from 'ionic-angular';\r\nimport {SystemSettingsPage} from './system-settings';\r\nimport {SystemComponent} from \"../../components/system/system\";\r\nimport {CommonModule} from \"@angular/common\";\r\nimport {ComponentsModule} from \"../../components/components.module\";\r\n\r\n@NgModule({\r\n    declarations: [\r\n        SystemSettingsPage,\r\n    ],\r\n    entryComponents: [\r\n    ],\r\n    imports: [\r\n        CommonModule,\r\n        ComponentsModule,\r\n        IonicPageModule.forChild(SystemSettingsPage),\r\n    ]\r\n})\r\nexport class SystemSettingsPageModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/system-settings/system-settings.module.ts","import {NgModule} from '@angular/core';\r\nimport {SystemComponent} from './system/system';\r\nimport {ConfigComponent} from \"./config/config\";\r\nimport {IonicPageModule} from \"ionic-angular\";\r\nimport {TempRangeComponent} from './temp-range/temp-range';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        SystemComponent,\r\n        ConfigComponent,\r\n        TempRangeComponent\r\n    ],\r\n    imports: [\r\n        IonicPageModule.forChild(ConfigComponent),\r\n    ],\r\n    exports: [\r\n        SystemComponent,\r\n        ConfigComponent,\r\n        TempRangeComponent\r\n    ]\r\n})\r\nexport class ComponentsModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/components.module.ts","import {Injectable} from \"@angular/core\";\r\nimport {Headers, Http, RequestOptions} from \"@angular/http\";\r\nimport {Observable} from \"rxjs\";\r\nimport {Preset} from \"../models/preset-class\";\r\nimport {Channel} from \"../models/channel\";\r\nimport {System} from \"../models/system\";\r\nimport {NgRedux} from \"@angular-redux/store\";\r\nimport {IAppState} from \"../models/state/configure\";\r\nimport {ChargerActions} from \"../models/state/actions/charger\";\r\nimport {UIActions} from \"../models/state/actions/ui\";\r\nimport {IConfig} from \"../models/state/reducers/configuration\";\r\nimport {IChargerState} from \"../models/state/reducers/charger\";\r\n\r\nexport enum ChargerType {\r\n    iCharger4010Duo = 64,\r\n    iCharger406Duo = 67, // ??? probably not. We need to get the model number.\r\n    iCharger308Duo = 66\r\n}\r\n\r\nexport let ChargerMetadata = {};\r\nChargerMetadata[ChargerType.iCharger308Duo] = {'maxAmps': 30, 'name': 'iCharger 308', 'tag': 'DUO', 'cells': 8};\r\nChargerMetadata[ChargerType.iCharger406Duo] = {'maxAmps': 40, 'name': 'iCharger 406', 'tag': 'DUO', 'cells': 6};\r\nChargerMetadata[ChargerType.iCharger4010Duo] = {'maxAmps': 40, 'name': 'iCharger 4010', 'tag': 'DUO', 'cells': 10};\r\n\r\n@Injectable()\r\nexport class iChargerService {\r\n    autoStopSubscriptions: any[] = [];\r\n\r\n    private chargerStatusSubscription;\r\n\r\n    public constructor(public http: Http,\r\n                       public chargerActions: ChargerActions,\r\n                       public uiActions: UIActions,\r\n                       public ngRedux: NgRedux<IAppState>) {\r\n\r\n\r\n        this.chargerStatusSubscription = this.getChargerStatus().subscribe(status => {\r\n            // console.log(\"Refreshed from charger...\");\r\n        });\r\n    }\r\n\r\n    getConfig(): IConfig {\r\n        return this.ngRedux.getState().config;\r\n    }\r\n\r\n    getCharger(): IChargerState {\r\n        return this.ngRedux.getState().charger;\r\n    }\r\n\r\n    isConnectedToServer(): boolean {\r\n        return this.ngRedux.getState().ui.disconnected === false;\r\n    }\r\n\r\n    isConnectedToCharger(): boolean {\r\n        if (!this.isConnectedToServer()) {\r\n            return false;\r\n        }\r\n\r\n        return this.getCharger().channel_count > 0;\r\n    }\r\n\r\n    anyNetworkOrConnectivityProblems() {\r\n        let haveNetwork = this.isNetworkAvailable();\r\n        let haveCharger = this.isConnectedToCharger();\r\n        let haveServer = this.isConnectedToServer();\r\n        return !haveNetwork || !haveCharger || !haveServer;\r\n    }\r\n\r\n    isNetworkAvailable(): boolean {\r\n        // TODO: Make this smarter\r\n        return true;\r\n    }\r\n\r\n    getNumberOfChannels(): number {\r\n        return this.getCharger().channel_count;\r\n    }\r\n\r\n    getPresets(): Observable<any> {\r\n        let url = this.getChargerURL(\"/preset\");\r\n        return this.http.get(url).map(v => {\r\n            // This should be a list of presets\r\n            let presetList = [];\r\n            let arrayOfPresets = v.json();\r\n            for (let presetDict of arrayOfPresets) {\r\n                presetList.push(new Preset(presetDict));\r\n            }\r\n            return presetList;\r\n        });\r\n    }\r\n\r\n    getChargerStatus(): Observable<any> {\r\n        let interval = 1000;\r\n\r\n        return Observable.timer(interval, interval)\r\n            .flatMap(v => {\r\n                let url = this.getChargerURL(\"/unified\");\r\n                return this.http.get(url);\r\n            }).map(r => {\r\n                this.chargerActions.refreshStateFromCharger(r.json());\r\n\r\n                if (this.ngRedux.getState().ui.disconnected) {\r\n                    this.uiActions.serverReconnected();\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.error(\"Probably connection problem: \" + error);\r\n                this.uiActions.setDisconnected();\r\n\r\n                // I think I do this to force a 'retry'?\r\n                return Observable.throw(error);\r\n            })\r\n            .retry();\r\n    }\r\n\r\n    getHostName(): string {\r\n        let config = this.getConfig();\r\n        return config.ipAddress + \":\" + config.port;\r\n    }\r\n\r\n    // Gets the status of the charger\r\n    private getChargerURL(path) {\r\n        return \"http://\" + this.getHostName() + path;\r\n    }\r\n\r\n    lookupChargerMetadata(deviceId = null, propertyName = 'name', defaultValue = null) {\r\n        // Not supplied? Look it up.\r\n        if (deviceId == null) {\r\n            deviceId = this.getCharger().device_id;\r\n        }\r\n        if (deviceId) {\r\n            let md = ChargerMetadata[deviceId];\r\n            if (md) {\r\n                if (md[propertyName]) {\r\n                    return md[propertyName];\r\n                }\r\n            }\r\n        }\r\n        return defaultValue;\r\n    }\r\n\r\n    getMaxAmpsPerChannel() {\r\n        return this.lookupChargerMetadata(null, 'maxAmps', 15);\r\n    }\r\n\r\n    getChargerName() {\r\n        return this.lookupChargerMetadata(null, 'name', 'iCharger');\r\n    }\r\n\r\n    getChargerTag() {\r\n        return this.lookupChargerMetadata(null, 'tag', '');\r\n    }\r\n\r\n    getMaxCells() {\r\n        return this.lookupChargerMetadata(null, 'cells', 0);\r\n    }\r\n\r\n    stopCurrentTask(channel: Channel): Observable<any> {\r\n        this.cancelAutoStopForChannel(channel);\r\n        return Observable.create((observable) => {\r\n            console.log(\"Stopping current task...\");\r\n            let url = this.getChargerURL(\"/stop/\" + channel.index);\r\n\r\n            this.http.put(url, \"\").subscribe((resp) => {\r\n                if (resp.ok) {\r\n                    // Maaay need to do this again, to get past the 'STOPS' state.\r\n                    observable.complete();\r\n                } else {\r\n                    observable.error(resp);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    /* Same as savePreset(), but it forces the index to -1 so that the save will result in an \"add\" on the server */\r\n    addPreset(preset: Preset): Observable<any> {\r\n        preset.setWillSaveNewPreset();\r\n        return this.savePreset(preset, true);\r\n    }\r\n\r\n    savePreset(preset: Preset, mustBeAddition: boolean = false): Observable<any> {\r\n        // An existing preset? in a memory slot?\r\n        return Observable.create((observable) => {\r\n            let addingNewPreset = preset.index < 0;\r\n\r\n            if(!addingNewPreset && mustBeAddition) {\r\n                observable.error(\"Asked to add preset, but it has an index of \" + preset.index + \". This would result in an overwrite.\");\r\n                return;\r\n            }\r\n\r\n            let putURL = addingNewPreset ? this.getChargerURL(\"/addpreset\") : this.getChargerURL(\"/preset/\" + preset.index);\r\n            let body = preset.json();\r\n            let action = addingNewPreset ? \"Adding\" : \"Saving\";\r\n            console.log(action + \" Preset: \", body);\r\n\r\n            let headers = new Headers({'Content-Type': 'application/json'});\r\n            let options = new RequestOptions({headers: headers});\r\n\r\n            this.http.put(putURL, body, options).subscribe((resp) => {\r\n                // Expect a copy of the modified preset?\r\n                // If we were adding, the preset is returned. If we're saving, it isn't.\r\n                // At the moment, it just returns \"ok\"\r\n                if (resp.ok) {\r\n                    // Yay\r\n                    if (addingNewPreset) {\r\n                        // Return the newly saved preset, with its new memory slot (index)\r\n                        let new_preset = new Preset(resp.json());\r\n                        observable.next(new_preset);\r\n                    } else {\r\n                        // Just return the modified preset, that the user just saved\r\n                        observable.next(preset);\r\n                    }\r\n                    observable.complete();\r\n                } else {\r\n                    observable.error(resp);\r\n                }\r\n            }, (error) => {\r\n                this.uiActions.setErrorMessage(\"Can't save: \" + error);\r\n            });\r\n        });\r\n    }\r\n\r\n    startCharge(channel: Channel, preset: Preset): Observable<any> {\r\n        this.autoStopOnRunStatus([40], channel);\r\n        return Observable.create((observable) => {\r\n            let operationURL = this.getChargerURL(\"/charge/\" + channel.index + \"/\" + preset.index);\r\n            console.log(\"Beginning charge on channel \", channel.index, \" using preset at slot \", preset.index);\r\n            this.http.put(operationURL, null).subscribe((resp) => {\r\n                if (resp.ok) {\r\n                    observable.complete();\r\n                } else {\r\n                    observable.error(resp);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    startDischarge(channel: Channel, preset: Preset): Observable<any> {\r\n        this.autoStopOnRunStatus([40], channel);\r\n        return Observable.create((observable) => {\r\n            let operationURL = this.getChargerURL(\"/discharge/\" + channel.index + \"/\" + preset.index);\r\n            console.log(\"Beginning discharge on channel \", channel.index, \" using preset at slot \", preset.index);\r\n            this.http.put(operationURL, null).subscribe((resp) => {\r\n                if (resp.ok) {\r\n                    observable.complete();\r\n                } else {\r\n                    observable.error(resp);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    startStore(channel: Channel, preset: Preset) {\r\n        this.autoStopOnRunStatus([40], channel);\r\n        return Observable.create((observable) => {\r\n            let operationURL = this.getChargerURL(\"/store/\" + channel.index + \"/\" + preset.index);\r\n            console.log(\"Beginning storage on channel \", channel.index, \" using preset at slot \", preset.index);\r\n            this.http.put(operationURL, \"\").subscribe((resp) => {\r\n                if (resp.ok) {\r\n                    observable.complete();\r\n                } else {\r\n                    observable.error(resp);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    startBalance(channel: Channel, preset: Preset) {\r\n        this.autoStopOnRunStatus([40], channel);\r\n        return Observable.create((observable) => {\r\n            let operationURL = this.getChargerURL(\"/balance/\" + channel.index + \"/\" + preset.index);\r\n            console.log(\"Beginning balance on channel \", channel.index, \" using preset at slot \", preset.index);\r\n            this.http.put(operationURL, \"\").subscribe((resp) => {\r\n                if (resp.ok) {\r\n                    observable.complete();\r\n                } else {\r\n                    observable.error(resp);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    measureIR(channel: Channel) {\r\n        return Observable.create((observable) => {\r\n            let operationURL = this.getChargerURL(\"/measureir/\" + channel.index);\r\n            console.log(\"Beginning IR measurement on channel \", channel.index);\r\n            this.http.put(operationURL, \"\").subscribe((resp) => {\r\n                if (resp.ok) {\r\n                    observable.complete();\r\n                } else {\r\n                    observable.error(resp);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    getSystem(): Observable<System> {\r\n        return Observable.create((observable) => {\r\n            let operationURL = this.getChargerURL(\"/system\");\r\n            this.http.get(operationURL).subscribe((resp) => {\r\n                if (!resp.ok) {\r\n                    observable.error(resp);\r\n                } else {\r\n                    let json = resp.json();\r\n                    let sysObj = new System(json);\r\n                    observable.next(sysObj);\r\n                    observable.complete();\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    saveSystem(system: System) {\r\n        let headers = new Headers({'Content-Type': 'application/json'});\r\n        let options = new RequestOptions({headers: headers});\r\n        let operationURL = this.getChargerURL(\"/system\");\r\n        return Observable.create((observable) => {\r\n            this.http.put(operationURL, system.json(), options).subscribe((resp) => {\r\n                if (!resp.ok) {\r\n                    observable.error(resp);\r\n                } else {\r\n                    observable.next(system);\r\n                    observable.complete();\r\n                }\r\n            }, error => {\r\n                observable.error();\r\n            });\r\n        });\r\n    }\r\n\r\n    // toggleChargerTempUnits(): Observable<System> {\r\n    //     let operationURL = this.getChargerURL(\"/system\");\r\n    //     return Observable.create((observable) => {\r\n    //         this.getSystem().subscribe((sysObj) => {\r\n    //             sysObj.isCelsius = !sysObj.isCelsius;\r\n    //\r\n    //             let headers = new Headers({'Content-Type': 'application/json'});\r\n    //             let options = new RequestOptions({headers: headers});\r\n    //             this.http.put(operationURL, sysObj.json(), options).subscribe((resp) => {\r\n    //                 if (!resp.ok) {\r\n    //                     observable.error(resp);\r\n    //                 } else {\r\n    //                     observable.next(sysObj);\r\n    //                     observable.complete();\r\n    //                 }\r\n    //             }, error => {\r\n    //                 observable.error();\r\n    //             });\r\n    //\r\n    //         }, (error) => {\r\n    //             observable.error(error);\r\n    //         });\r\n    //     });\r\n    // }\r\n\r\n    cancelAutoStopForChannel(channel: Channel) {\r\n        if (this.autoStopSubscriptions[channel.index]) {\r\n            console.log(\"Cancelled auto-stop subscription for channel \", channel.index);\r\n            this.autoStopSubscriptions[channel.index].unsubscribe();\r\n            this.autoStopSubscriptions[channel.index] = null;\r\n        }\r\n    }\r\n\r\n    autoStopOnRunStatus(states_to_stop_on: [number], channel: Channel) {\r\n        this.cancelAutoStopForChannel(channel);\r\n        let channel_index = channel.index;\r\n\r\n        this.autoStopSubscriptions[channel.index] = Observable.timer(250, 250).takeWhile(() => {\r\n            let ch: Channel = this.getCharger().channels[channel_index];\r\n            // console.log(\"Channel \", ch.index, \", state: \", ch.runState);\r\n            return !states_to_stop_on.some((state) => {\r\n                return ch.runState == state;\r\n            });\r\n        }).subscribe((value) => {\r\n        }, (error) => {\r\n            console.log(\"Error while waiting for the channel to change state\");\r\n            this.cancelAutoStopForChannel(channel);\r\n        }, () => {\r\n            console.log(\"Sending stop to channel \", channel.index, \" because auto-stop condition was met\");\r\n            this.stopCurrentTask(channel).subscribe();\r\n            this.cancelAutoStopForChannel(channel);\r\n        });\r\n    }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/icharger.service.ts","import {Component, ViewChild} from '@angular/core';\r\nimport {NavController, NavParams, List, ToastController} from 'ionic-angular';\r\nimport {iChargerService} from \"../../services/icharger.service\";\r\nimport {PresetPage} from \"../preset/preset\";\r\nimport {Preset, ChemistryType} from \"../../models/preset-class\";\r\nimport {Chemistry} from \"../../utils/mixins\";\r\nimport {applyMixins} from \"rxjs/util/applyMixins\";\r\n\r\n@Component({\r\n    selector: 'page-preset-list',\r\n    templateUrl: 'preset-list.html'\r\n})\r\nexport class PresetListPage implements Chemistry {\r\n    firstLoad: boolean = true;\r\n    public presets: Array<Preset>;\r\n    @ViewChild(List) list: List;\r\n\r\n    constructor(public navCtrl: NavController,\r\n                public chargerService: iChargerService,\r\n                public toastController: ToastController,\r\n                public navParams: NavParams) {\r\n    }\r\n\r\n    ionViewDidLoad() {\r\n        this.refreshPresets(null);\r\n    }\r\n\r\n    refreshPresets(refresher) {\r\n        this.chargerService.getPresets().subscribe(presetsList => {\r\n            this.presets = presetsList;\r\n            this.firstLoad = false;\r\n            if (refresher) {\r\n                refresher.complete();\r\n            }\r\n            // Was used during testing, to move to a known preset and edit it.\r\n            // if (this.presets.length) {\r\n            //     let old_preset = this.presets[7];\r\n            //     this.navCtrl.push(PresetPage, {\r\n            //         preset: old_preset,\r\n            //         callback: (new_preset) => {\r\n            //             this.presetCallback(old_preset, new_preset)\r\n            //         }\r\n            //     });\r\n            // }\r\n        });\r\n    }\r\n\r\n    addPreset() {\r\n        let toast = this.toastController.create({\r\n            message: \"Yep. Sometime soon\",\r\n            duration: 2000,\r\n            // dismissOnPageChange: true, // causes an exception. meh.\r\n            position: \"top\"\r\n        });\r\n\r\n        toast.present();\r\n    }\r\n\r\n    presetCallback(old_preset, new_preset) {\r\n        if (new_preset) {\r\n            console.log(\"Got result \", new_preset, \" from the save call\");\r\n            old_preset.updateFrom(new_preset);\r\n        }\r\n    }\r\n\r\n    editPreset(preset) {\r\n        if (preset) {\r\n            console.log(\"Editing preset type: \", preset.type, \"usage: \", preset.data.use_flag);\r\n            if (preset.type == ChemistryType.LiPo ||\r\n                preset.type == ChemistryType.NiMH ||\r\n                preset.type == ChemistryType.LiFe) {\r\n                this.navCtrl.push(PresetPage, {\r\n                    preset: preset, callback: (new_preset) => {\r\n                        this.presetCallback(preset, new_preset);\r\n                    }\r\n                });\r\n            } else {\r\n                let toast = this.toastController.create({\r\n                    message: \"Only support editing Lipo/NiMH/LiFe for now\",\r\n                    duration: 2000,\r\n                    // dismissOnPageChange: true, // causes an exception. meh.\r\n                    position: \"top\"\r\n                });\r\n\r\n                toast.present();\r\n            }\r\n        } else {\r\n            let toast = this.toastController.create({\r\n                message: \"Bug: no preset sent to edit\",\r\n                duration: 2000,\r\n                position: \"top\"\r\n            });\r\n            toast.present();\r\n        }\r\n    }\r\n\r\n    tagsForPreset(preset) {\r\n        let tags = [];\r\n        if (preset.type_str) {\r\n            tags.push(preset.type_str);\r\n        } else {\r\n            tags.push(\"Unknown\");\r\n        }\r\n        if (preset['charge_current']) {\r\n            tags.push(\"+ \" + preset['charge_current'] + 'A');\r\n        }\r\n        if (preset['discharge_current']) {\r\n            tags.push(\"- \" + preset['discharge_current'] + 'A');\r\n        }\r\n        return tags;\r\n    }\r\n\r\n    chemistryClass: () => string;\r\n}\r\n\r\napplyMixins(PresetListPage, [Chemistry]);\n\n\n// WEBPACK FOOTER //\n// ./src/pages/preset-list/preset-list.ts","import {Component} from \"@angular/core\";\r\nimport {AlertController, NavController, NavParams} from \"ionic-angular\";\r\nimport {PresetChargePage} from \"../preset-charge/preset-charge\";\r\nimport {ChemistryType, Preset} from \"../../models/preset-class\";\r\nimport {PresetStoragePage} from \"../preset-storage/preset-storage\";\r\nimport {PresetDischargePage} from \"../preset-discharge/preset-discharge\";\r\nimport {PresetCyclePage} from \"../preset-cycle/preset-cycle\";\r\nimport {iChargerService} from \"../../services/icharger.service\";\r\nimport * as _ from \"lodash\";\r\n\r\n@Component({\r\n    selector: 'page-preset',\r\n    templateUrl: 'preset.html'\r\n})\r\nexport class PresetPage {\r\n    preset: Preset = null;\r\n    unmodifiedpreset: Preset = null;\r\n    confirmedExit: boolean = false;\r\n    saving: boolean = false;\r\n    optionsPages;\r\n\r\n    private callback: (preset: Preset) => void;\r\n\r\n    constructor(public navCtrl: NavController,\r\n                public alertController: AlertController,\r\n                public chargerService: iChargerService,\r\n                public navParams: NavParams) {\r\n\r\n        this.callback = navParams.data['callback'];\r\n        this.preset = _.cloneDeep(navParams.data['preset']);\r\n        this.unmodifiedpreset = _.cloneDeep(this.preset);\r\n    }\r\n\r\n    optionPagesForCurrentType() {\r\n        if (this.optionsPages == null) {\r\n            this.optionsPages = [\r\n                {title: 'Charging', component: PresetChargePage},\r\n                {title: 'Discharging', component: PresetDischargePage},\r\n                {title: 'Cycle', component: PresetCyclePage},\r\n\r\n                // Don't see options in the charger, so dunno what to do here\r\n                // {title: 'Balancing', component: PresetBalancePage},\r\n            ];\r\n\r\n            if (this.preset.type == ChemistryType.LiPo ||\r\n                this.preset.type == ChemistryType.LiFe) {\r\n                this.optionsPages.push(\r\n                    {title: 'Storage', component: PresetStoragePage}\r\n                );\r\n            }\r\n        }\r\n        return this.optionsPages;\r\n    }\r\n\r\n    get presetType() {\r\n        return this.preset.type;\r\n    }\r\n\r\n    set presetType(newType) {\r\n        this.optionsPages = null;\r\n        this.preset.type = newType;\r\n    }\r\n\r\n    isDisabled() {\r\n        return this.saving;\r\n    }\r\n\r\n    isReadOnly() {\r\n        return this.preset.readonly;\r\n    }\r\n\r\n    ionViewDidLoad() {\r\n        // This was used for testing, to quickly get to a page I was working on\r\n        // this.switchTo(PresetChargePage);\r\n        // this.switchTo(PresetDischargePage);\r\n        // this.switchTo(PresetStoragePage);\r\n        // this.switchTo(PresetCyclePage);\r\n        this.confirmedExit = false;\r\n    }\r\n\r\n    ionViewCanLeave() {\r\n        return new Promise((resolve, reject) => {\r\n            // If there are changes, we should prompt the user to save.\r\n            let presetBeingEdited = this.preset;\r\n            let modifiedProperties = _.reduce(this.unmodifiedpreset.data, function (result, value, key) {\r\n                return _.isEqual(value, presetBeingEdited.data[key]) ?\r\n                    result : result.concat(key);\r\n            }, []);\r\n\r\n            // let are_equal = _.isEqual(this.unmodifiedpreset.data, this.preset.data);\r\n            let are_equal = modifiedProperties.length == 0;\r\n            if (!are_equal) {\r\n                console.log(\"Preset modified:\");\r\n                for (let property of modifiedProperties) {\r\n                    console.log(property, \": \", this.unmodifiedpreset.data[property], \" (\", typeof(this.unmodifiedpreset.data[property]),\r\n                        \") now = \", presetBeingEdited.data[property], \"(\", typeof(presetBeingEdited.data[property]), \")\");\r\n                }\r\n                this.confirmedExit = false;\r\n                let alert = this.alertController.create({\r\n                    title: 'Preset modified',\r\n                    message: 'Do you want to save your changes?',\r\n                    buttons: [\r\n                        {\r\n                            text: 'Save',\r\n                            handler: () => {\r\n                                this.saving = true;\r\n                                this.chargerService.savePreset(this.preset).subscribe((preset) => {\r\n                                    // Pass the result back to the caller.\r\n                                    // When you save,  you are always given your preset back.\r\n                                    // This may be a new preset object, with a new memory slot, or it may just the modified preset.\r\n                                    // Either way, the caller needs it, to update their state.\r\n                                    this.callback(preset);\r\n                                    this.saving = false;\r\n                                    resolve();\r\n                                });\r\n\r\n                                // If there's an error, the charger service will fire an event.\r\n                                // It'll be picked up by the charger-status component, and an error shown as a toast\r\n                            }\r\n                        },\r\n                        {\r\n                            text: 'Discard',\r\n                            handler: () => {\r\n                                this.saving = false;\r\n                                resolve();\r\n                            }\r\n                        },\r\n                        {\r\n                            text: 'Cancel',\r\n                            handler: () => {\r\n                                this.saving = false;\r\n                                reject();\r\n                            }\r\n                        }\r\n                    ]\r\n                });\r\n                alert.present();\r\n            } else {\r\n                resolve();\r\n            }\r\n        });\r\n    }\r\n\r\n    refreshPreset(refresher) {\r\n        // TODO: what if there are unsaved changes?\r\n        // TODO: Causes a bug where the preset list itself isnt refreshed\r\n        this.chargerService.getPresets().subscribe((presetList) => {\r\n            let wantedPreset = presetList[this.preset.index];\r\n            if (wantedPreset) {\r\n                this.preset = wantedPreset;\r\n            }\r\n            refresher.complete();\r\n        });\r\n    }\r\n\r\n    showCells() {\r\n        return this.preset.type == ChemistryType.LiPo ||\r\n            this.preset.type == ChemistryType.LiFe;\r\n    }\r\n\r\n    typeChoices() {\r\n        return [\r\n            {'value': ChemistryType.LiPo, 'text': 'LiPo'},\r\n            {'value': ChemistryType.LiLo, 'text': 'LiLo'},\r\n            {'value': ChemistryType.LiFe, 'text': 'LiFe'},\r\n            {'value': ChemistryType.NiMH, 'text': 'NiMH'},\r\n            {'value': ChemistryType.NiCd, 'text': 'NiCd'},\r\n            {'value': ChemistryType.Pb, 'text': 'Pb'},\r\n            {'value': ChemistryType.NiZn, 'text': 'NiZn'},\r\n        ];\r\n    }\r\n\r\n    cellChoices() {\r\n        let choices = [];\r\n        choices.push({'value': 0, 'text': 'Auto'});\r\n        for (let i = 0; i < this.chargerService.getNumberOfChannels(); i++) {\r\n            choices.push({'value': i + 1, 'text': (i + 1).toString()});\r\n        }\r\n        return choices;\r\n    }\r\n\r\n    currentChoices() {\r\n        let choices = [{value: 0.25, text: \"0.25A\"}, {value: 0.5, text: \"0.5A\"}];\r\n        for (let i = 10; i <= this.chargerService.getMaxAmpsPerChannel() * 10; i++) {\r\n            let real = i / 10;\r\n            choices.push({'value': real, 'text': (real).toString() + \"A\"});\r\n        }\r\n        return choices;\r\n    }\r\n\r\n    switchTo(page) {\r\n        this.navCtrl.push(page, this.preset);\r\n    }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/preset/preset.ts","import {Component} from \"@angular/core\";\r\nimport {PresetBasePage} from \"../preset-charge/preset-charge\";\r\nimport {NavController, NavParams} from \"ionic-angular\";\r\n\r\n@Component({\r\n    selector: 'page-preset-storage',\r\n    templateUrl: 'preset-storage.html'\r\n})\r\nexport class PresetStoragePage extends PresetBasePage {\r\n\r\n    constructor(navCtrl: NavController, navParams: NavParams) {\r\n        super(navCtrl, navParams);\r\n    }\r\n\r\n    storageCellVoltOptions() {\r\n        let list = [];\r\n        let minMax = this.preset.storageVoltageRange();\r\n        for (let num = minMax['min']; num <= minMax['max']; num++) {\r\n            let capacity = num / 100.0;\r\n            list.push({'value': capacity, 'text': capacity.toString() + \"V/Cell\"});\r\n        }\r\n        return list;\r\n    }\r\n\r\n    storageCompensationOptions() {\r\n        let list = [];\r\n        for (let num = 0; num <= 20; num++) {\r\n            list.push({'value': num, 'text': (num / 100).toString() + \"V/Cell\"});\r\n        }\r\n        return list;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/preset-storage/preset-storage.ts","import {Component} from \"@angular/core\";\r\nimport {PresetBasePage} from \"../preset-charge/preset-charge\";\r\nimport {NavController, NavParams} from \"ionic-angular\";\r\nimport {FormBuilder, FormControl, FormGroup} from \"@angular/forms\";\r\nimport {ChargerValidator} from \"../../utils/validators\";\r\nimport {ChemistryType, RegenerativeMode, RegenerativeToChannelMethod} from \"../../models/preset-class\";\r\nimport {iChargerService} from \"../../services/icharger.service\";\r\n\r\n@Component({\r\n    selector: 'page-preset-discharge',\r\n    templateUrl: 'preset-discharge.html'\r\n})\r\n\r\nexport class PresetDischargePage extends PresetBasePage {\r\n    formGroup: FormGroup = null;\r\n    regenerationGroup: FormGroup = null;\r\n\r\n    constructor(navCtrl: NavController,\r\n                public chargerService: iChargerService,\r\n                private formBuilder: FormBuilder,\r\n                navParams: NavParams) {\r\n        super(navCtrl, navParams);\r\n    }\r\n\r\n    ionViewWillLeave() {\r\n    }\r\n\r\n    ngOnInit() {\r\n        let dischargeVoltageMinMax = this.preset.dischargeVoltageMinMax();\r\n\r\n        this.formGroup = this.formBuilder.group({\r\n            dischargeCurrent: [this.preset.discharge_current,\r\n                ChargerValidator.number({\r\n                    min: 0.05,\r\n                    max: this.chargerService.getMaxAmpsPerChannel()\r\n                })],\r\n            dischargeVoltage: [this.preset.discharge_voltage,\r\n                ChargerValidator.number(dischargeVoltageMinMax)],\r\n            dischargeEndCurrent: [this.preset.discharge_end_current,\r\n                ChargerValidator.number({\r\n                    min: 1,\r\n                    max: 100\r\n                })]\r\n        });\r\n\r\n        this.regenerationGroup = this.formBuilder.group({\r\n            regenVoltLimit: [this.preset.regeneration_volt_limit,\r\n                ChargerValidator.number({\r\n                    min: 0.01,\r\n                    max: 33\r\n                })],\r\n            regenCurrentLimit: [this.preset.regeneration_current_limit,\r\n                ChargerValidator.number({\r\n                    min: 0.05,\r\n                    max: this.chargerService.getMaxAmpsPerChannel()\r\n                })],\r\n        });\r\n\r\n        this.formGroup.valueChanges.subscribe(v => {\r\n            if (this.formGroup.controls['dischargeVoltage'].errors) {\r\n                console.log(\"Have errors\", this.formGroup.controls['dischargeVoltage'].errors);\r\n            }\r\n        })\r\n    }\r\n\r\n    currentChoices() {\r\n        let choices = [];\r\n        for (let i = 50; i <= 200; i++) {\r\n            choices.push(i / 100);\r\n        }\r\n        return choices;\r\n    }\r\n\r\n    showAdvanced() {\r\n        return this.preset.type == ChemistryType.LiPo ||\r\n            this.preset.type == ChemistryType.LiFe;\r\n    }\r\n\r\n    joinDisabled() {\r\n        return this.preset.regeneration_mode == RegenerativeMode.Off ||\r\n            this.preset.regeneration_mode != RegenerativeMode.ToChannel;\r\n    }\r\n\r\n    limitsDisabled() {\r\n        // Don't show limits if a) not enabled of b) resistance/bulbs not set\r\n        return this.joinDisabled() || this.preset.regeneration_method != RegenerativeToChannelMethod.ResistanceOrBulbs;\r\n    }\r\n\r\n    regenerationModeTypeOptions() {\r\n        return [\r\n            {'value': RegenerativeMode.Off, 'text': 'Off'},\r\n            {'value': RegenerativeMode.ToInput, 'text': 'To input'},\r\n            {'value': RegenerativeMode.ToChannel, 'text': 'To channel'},\r\n        ];\r\n    }\r\n\r\n    regenerationMethodOptions() {\r\n        return [\r\n            {'value': RegenerativeToChannelMethod.ResistanceOrBulbs, 'text': 'Resistance / Bulbs'},\r\n            {'value': RegenerativeToChannelMethod.ChargingBattery, 'text': 'Charging battery'},\r\n        ];\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/preset-discharge/preset-discharge.ts","import {ValidatorFn, FormControl, Validators} from \"@angular/forms\";\r\nimport {isPresent} from \"ionic-angular/util/util\";\r\n\r\nexport class ChargerValidator {\r\n    static number(prms = {}): ValidatorFn {\r\n        return (control: FormControl): {[key: string]: any} => {\r\n            if (isPresent(Validators.required(control))) {\r\n                return null;\r\n            }\r\n\r\n            let val: number = control.value;\r\n            // console.log(\"value is: \", val, \" of type: \", typeof val, \" is NAN: \", isNaN(val));\r\n\r\n            if (isNaN(val) || /![\\d.]/.test(val.toString())) {\r\n                return {\"required\": true, \"message\": \"Required\"};\r\n            } else if (!isNaN(prms['min']) && !isNaN(prms['max'])) {\r\n                return val < prms['min'] || val > prms['max'] ? {\"message\": \"Must be between \" + prms['min'] + \" and \" + prms['max']} : null;\r\n            } else if (!isNaN(prms['min'])) {\r\n                return val < prms['min'] ? {\"message\": \"Must be > \" + prms['min']} : null;\r\n            } else if (!isNaN(prms['max'])) {\r\n                return val > prms['max'] ? {\"message\": \"Must be > \" + prms['max']} : null;\r\n            } else {\r\n                return null;\r\n            }\r\n        };\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/validators.ts","import {Component} from \"@angular/core\";\r\nimport {PresetBasePage} from \"../preset-charge/preset-charge\";\r\nimport {NavController, NavParams} from \"ionic-angular\";\r\nimport {Cycle} from \"../../models/preset-class\";\r\nimport {FormBuilder} from \"@angular/forms\";\r\nimport {ChargerValidator} from \"../../utils/validators\";\r\n\r\n@Component({\r\n    selector: 'page-preset-cycle',\r\n    templateUrl: 'preset-cycle.html'\r\n})\r\nexport class PresetCyclePage extends PresetBasePage {\r\n    cycleGroup;\r\n\r\n    constructor(navCtrl: NavController,\r\n                private formBuilder: FormBuilder,\r\n                navParams: NavParams) {\r\n        super(navCtrl, navParams);\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.cycleGroup = this.formBuilder.group({\r\n            delayTime: [this.preset.cycle_delay,\r\n                ChargerValidator.number({\r\n                    min: 0.00,\r\n                    max: 1000\r\n                })],\r\n\r\n        });\r\n    }\r\n\r\n    cycleModeOptions() {\r\n        return [\r\n            {'value': Cycle.ChargeDischarge, 'text': 'Charge -> Discharge'},\r\n            {'value': Cycle.DischargeCharge, 'text': 'Discharge -> Charge'},\r\n            {'value': Cycle.ChargeDischargeCharge, 'text': 'Charge -> Discharge, Charge'},\r\n            {'value': Cycle.DischargeChargeDischarge, 'text': 'Discharge -> Charge, Discharge'},\r\n            {'value': Cycle.ChargeDischargeStore, 'text': 'Charge -> Discharge, Store'},\r\n            {'value': Cycle.DischargeChargeStore, 'text': 'Discharge -> Charge, Store'},\r\n        ];\r\n    }\r\n\r\n    cycleCountOptions() {\r\n        let list = [];\r\n        for (let num = 1; num < 99; num++) {\r\n            list.push({'value': num, 'text': num.toString() + \"\"});\r\n        }\r\n        return list;\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/preset-cycle/preset-cycle.ts","export class Chemistry {\r\n    public chemistryClass(preset): string {\r\n        return \"chemistry-\" + preset['type_str'];\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/mixins.ts","import {Component} from '@angular/core';\r\nimport {NavController, NavParams, Toast, ToastController} from 'ionic-angular';\r\nimport {Channel} from \"../../models/channel\";\r\nimport {iChargerService} from \"../../services/icharger.service\";\r\nimport {ChemistryType, Preset} from \"../../models/preset-class\";\r\nimport {Chemistry} from \"../../utils/mixins\";\r\n\r\nimport * as _ from \"lodash\";\r\nimport {sprintf} from \"sprintf-js\";\r\nimport {applyMixins} from \"rxjs/util/applyMixins\";\r\nimport {NgRedux} from \"@angular-redux/store\";\r\nimport {IAppState} from \"../../models/state/configure\";\r\nimport {IChargeSettings, IConfig} from \"../../models/state/reducers/configuration\";\r\nimport {ConfigurationActions} from \"../../models/state/actions/configuration\";\r\nimport {IUIState} from \"../../models/state/reducers/ui\";\r\nimport {UIActions} from \"../../models/state/actions/ui\";\r\n\r\n@Component({\r\n    selector: 'page-charge-options',\r\n    templateUrl: 'charge-options.html'\r\n})\r\nexport class ChargeOptionsPage implements Chemistry {\r\n    config: IConfig;\r\n    chargeSettings: IChargeSettings;\r\n    ui: IUIState;\r\n\r\n    channel: Channel;\r\n    title: string = \"Charge\";\r\n    showCapacityAndC: boolean = true;\r\n    charging: boolean = true;\r\n    presets: Array<any> = [];\r\n\r\n    private callback: any;\r\n    private subscription: any;\r\n    private simpleAlert: Toast;\r\n\r\n    public static CHARGE_BY_PLAN_PRESET_NAME: string = \"Electric Charge Plan\";\r\n\r\n    constructor(public navCtrl: NavController,\r\n                public chargerService: iChargerService,\r\n                public actions: ConfigurationActions,\r\n                public uiActions: UIActions,\r\n                public toastController: ToastController,\r\n                public ngRedux: NgRedux<IAppState>,\r\n                public navParams: NavParams) {\r\n\r\n        this.channel = navParams.data['channel'];\r\n        this.showCapacityAndC = navParams.data['showCapacityAndC'];\r\n        this.charging = navParams.data['charging'];\r\n        this.title = navParams.data['title'];\r\n        this.callback = navParams.data['callback'];\r\n        this.config = null;\r\n        this.chargeSettings = null;\r\n\r\n        this.subscription = ngRedux.select<IConfig>('config').subscribe(c => {\r\n            this.config = c;\r\n            this.chargeSettings = this.config.charge_settings;\r\n\r\n            if (!this.showCapacityAndC) {\r\n                // Force to presets (not computed)\r\n                this.chargeSettings.chargeMethod = \"presets\";\r\n            }\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.subscription.unsubscribe();\r\n    }\r\n\r\n    ionViewDidLoad() {\r\n        this.chargerService.getPresets().subscribe((presetList) => {\r\n            this.presets = presetList;\r\n        });\r\n    }\r\n\r\n    chargeUsingPreset(preset: Preset) {\r\n        this.navCtrl.pop().then(() => {\r\n            this.callback(preset);\r\n        })\r\n    }\r\n\r\n    chargeUsingPlan() {\r\n        let chargePlanPreset: Preset = this.presets.find((p: Preset) => {\r\n            return p.name == ChargeOptionsPage.CHARGE_BY_PLAN_PRESET_NAME;\r\n        });\r\n\r\n        let createNewPreset: boolean = chargePlanPreset == null;\r\n\r\n        if (!chargePlanPreset) {\r\n            // Clone the first lipo we can find\r\n            let toClone = this.filterByChemistryAndSort(Preset.chemistryPrefix(ChemistryType.LiPo)).shift();\r\n\r\n            // The newly cloned preset will have index == -1.\r\n            // Meaning: it'll be ADDED when saved.\r\n            chargePlanPreset = toClone.clone();\r\n            if (chargePlanPreset.index != -1) {\r\n                this.uiActions.setErrorMessage(\"Oh oh! New preset doesn't have -1 index\");\r\n                return;\r\n            }\r\n\r\n            chargePlanPreset.charge_current = this.chargeSettings.safeAmpsForWantedChargeRate;\r\n            chargePlanPreset.name = ChargeOptionsPage.CHARGE_BY_PLAN_PRESET_NAME;\r\n            console.log(\"No charge plan preset. Creating one for:\", chargePlanPreset.charge_current, \"amps\");\r\n        } else {\r\n            chargePlanPreset.charge_current = this.chargeSettings.safeAmpsForWantedChargeRate;\r\n        }\r\n\r\n        this.simpleAlert = this.toastController.create({\r\n            'message': \"Setting up preset...\",\r\n            'position': 'bottom',\r\n        });\r\n        this.simpleAlert.present();\r\n\r\n        let observable;\r\n        if(createNewPreset) {\r\n            observable = this.chargerService.addPreset(chargePlanPreset);\r\n        } else {\r\n            observable = this.chargerService.savePreset(chargePlanPreset);\r\n        }\r\n\r\n        observable.subscribe((preset: Preset) => {\r\n            this.simpleAlert.dismiss();\r\n\r\n            this.navCtrl.pop().then(() => {\r\n                this.callback(preset);\r\n            })\r\n        }, (error) => {\r\n            this.simpleAlert.dismiss();\r\n            this.uiActions.setErrorMessage(error);\r\n        }, () => {\r\n        });\r\n    }\r\n\r\n    get chargeMethod(): string {\r\n        return this.chargeSettings.chargeMethod;\r\n    }\r\n\r\n    set chargeMethod(value) {\r\n        this.actions.setChargeConfiguration('chargeMethod', value);\r\n    }\r\n\r\n    get chemistryFilter(): string {\r\n        return this.chargeSettings.chemistryFilter;\r\n    }\r\n\r\n    set chemistryFilter(value) {\r\n        this.actions.setChargeConfiguration('chemistryFilter', value);\r\n    }\r\n\r\n    get capacity() {\r\n        return this.chargeSettings.capacity;\r\n    }\r\n\r\n    set capacity(value) {\r\n        this.actions.setChargeConfiguration('capacity', value);\r\n    }\r\n\r\n    get chargeRate() {\r\n        return this.chargeSettings.wantedChargeRateInC;\r\n    }\r\n\r\n    get chargeRateTimesTen() {\r\n        return this.chargeRate * 10;\r\n    }\r\n\r\n    set chargeRateTimesTen(value) {\r\n        this.chargeRate = value / 10.0;\r\n    }\r\n\r\n    set chargeRate(value) {\r\n        this.actions.setChargeConfiguration('wantedChargeRateInC', value);\r\n    }\r\n\r\n    get numPacks() {\r\n        return this.chargeSettings.numPacks;\r\n    }\r\n\r\n    set numPacks(value) {\r\n        this.actions.setChargeConfiguration('numPacks', value);\r\n    }\r\n\r\n    showFlame() {\r\n        return this.chargeRate >= 5.0;\r\n    }\r\n\r\n    chargePlan() {\r\n        return \"Charge at \" + sprintf(\"%2.01fA\", this.chargeSettings.safeAmpsForWantedChargeRate);\r\n    }\r\n\r\n    filterByChemistryAndSort(chemistry: string) {\r\n        let presets = this.presets.filter((preset) => {\r\n            if (chemistry == Preset.chemistryPrefix(ChemistryType.Anything)) {\r\n                return true;\r\n            }\r\n            return Preset.chemistryPrefix(preset.type) == chemistry;\r\n        });\r\n        presets.sort((a: Preset, b: Preset) => {\r\n            if (a.charge_current < b.charge_current) {\r\n                return -1;\r\n            } else if (a.charge_current > b.charge_current) {\r\n                return 1;\r\n            }\r\n            return 0;\r\n        });\r\n        return presets;\r\n    }\r\n\r\n    filteredPresets() {\r\n        let presets = this.filterByChemistryAndSort(this.chemistryFilter);\r\n        return _.chunk(presets, 3);\r\n    }\r\n\r\n    ampsLimit() {\r\n        return this.chargerService.getMaxAmpsPerChannel();\r\n    }\r\n\r\n    chemistryClass: () => string;\r\n}\r\n\r\napplyMixins(ChargeOptionsPage, [Chemistry]);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/charge-options/charge-options.ts","import {Component, Input} from \"@angular/core\";\r\nimport {Channel} from \"../../models/channel\";\r\nimport * as _ from \"lodash\";\r\n\r\n@Component({\r\n    selector: 'channel-volts',\r\n    templateUrl: 'channel-volts.html'\r\n})\r\nexport class ChannelVoltsComponent {\r\n    public maxBalanceSeen: number = 8;\r\n    public balanceScale: number;\r\n\r\n    @Input() channel: Channel;\r\n    @Input() index: number;\r\n\r\n    constructor() {\r\n    }\r\n\r\n    cellChunking() {\r\n        if (this.channel.numberOfCells == 2) {\r\n            return 2;\r\n        }\r\n        if (this.channel.numberOfCells == 1) {\r\n            return 1;\r\n        }\r\n\r\n        // Return a multiple of the visible channels\r\n        if (this.channel.numberOfCells % 3 == 0) {\r\n            return 3;\r\n        }\r\n        if (this.channel.numberOfCells % 3 == 1) {\r\n            return 2;\r\n        }\r\n\r\n        return 3;\r\n    }\r\n\r\n    chunkedCells() {\r\n        if (!this.channel) {\r\n            return [];\r\n        }\r\n        let cells = this.channel.cells;\r\n        if (!cells) {\r\n            return [];\r\n        }\r\n\r\n        // Pad so there's an even divisible number of cells by cellChunking()\r\n        while (cells.length % this.cellChunking() != 0) {\r\n            cells.push({v: -1000});\r\n        }\r\n\r\n        return _.chunk(cells, this.cellChunking());\r\n    }\r\n\r\n    isCellPadding(cell) {\r\n        return cell.v == -1000;\r\n    }\r\n\r\n    isCellUnused(cell) {\r\n        return Number(cell.v) < 0.001;\r\n    }\r\n\r\n    // Recompute balance max every time we get some more data\r\n    ngOnChanges(changes) {\r\n        let cells = this.channel.cells;\r\n        if (cells) {\r\n            cells.forEach(cell => {\r\n                this.maxBalanceSeen = Math.max(this.maxBalanceSeen, cell.balance)\r\n            });\r\n        }\r\n    }\r\n\r\n    /*\r\n     Used to return the number of \"bars\" in the balance charging cells\r\n     */\r\n    balanceRange(cellBalance) {\r\n        // Scale this to 0-5\r\n        // Most of the time we see values maxing at 8, but I did see higher.\r\n        // So I thought I'd just save the peak I see, and use that over time.\r\n        this.maxBalanceSeen = Math.max(cellBalance, this.maxBalanceSeen);\r\n        this.balanceScale = this.maxBalanceSeen / 5.0;\r\n\r\n        // Always return all 5 \"bars\".\r\n        // The HTML will choose which of these bars to colour based on their \"balanceLightIsLit\" state.\r\n        return [1, 2, 3, 4, 5];\r\n    }\r\n\r\n    /*\r\n     Tells us if a particular \"bar\" is lit, based on the current balance \"value\"\r\n     */\r\n    balanceLightIsLit(balanceIndex, balanceValue) {\r\n        let scaledValue = Math.ceil(balanceValue / this.balanceScale);\r\n        return scaledValue >= balanceIndex;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/channel-volts/channel-volts.ts","import {platformBrowserDynamic} from '@angular/platform-browser-dynamic';\r\nimport {enableProdMode} from \"@angular/core\";\r\n\r\nimport {AppModule} from './app.module';\r\nimport {environmentFactory} from \"./environment/environment-variables.module\";\r\n\r\n// this is the magic wand of speed\r\nlet envVars = environmentFactory();\r\nconsole.log(\"Running in \" + envVars.ionicEnvName + \" mode\");\r\nif (envVars.ionicEnvName == 'prod') {\r\n    enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import {BrowserModule} from \"@angular/platform-browser\";\r\nimport {HttpModule} from \"@angular/http\";\r\nimport {ErrorHandler, NgModule} from \"@angular/core\";\r\nimport {IonicStorageModule} from \"@ionic/storage\";\r\nimport {IonicApp, IonicErrorHandler, IonicModule} from \"ionic-angular\";\r\nimport {MyApp} from \"./app.component\";\r\nimport {HomePage} from \"../pages/home/home\";\r\nimport {DurationPipe, KeysPipe, ReversePipe, TempPipe} from \"../utils/pipes\";\r\nimport {iChargerService} from \"../services/icharger.service\";\r\nimport {ConfigPage} from \"../pages/config/config-page\";\r\nimport {ChannelComponent} from \"../components/channel/channel\";\r\nimport {ChargerStatusComponent} from \"../components/charger-status/charger-status\";\r\nimport {PresetListPage} from \"../pages/preset-list/preset-list\";\r\nimport {PresetPage} from \"../pages/preset/preset\";\r\nimport {PresetChargePage} from \"../pages/preset-charge/preset-charge\";\r\nimport {PresetStoragePage} from \"../pages/preset-storage/preset-storage\";\r\nimport {PresetDischargePage} from \"../pages/preset-discharge/preset-discharge\";\r\nimport {PresetCyclePage} from \"../pages/preset-cycle/preset-cycle\";\r\nimport {DynamicDisable} from \"../utils/directives\";\r\nimport {ChargeOptionsPage} from \"../pages/charge-options/charge-options\";\r\nimport {ConnectionStateComponent} from \"../components/connection-state/connection-state\";\r\nimport {ChannelVoltsComponent} from \"../components/channel-volts/channel-volts\";\r\nimport {ChannelIRComponent} from \"../components/channel-volts/channel-ir\";\r\nimport {StatusBar} from \"@ionic-native/status-bar\";\r\nimport {SplashScreen} from \"@ionic-native/splash-screen\";\r\nimport {ContactPage} from \"../pages/contact/contact\";\r\nimport {PresetBalancePage} from \"../pages/preset-balance/preset-balance\";\r\nimport {TabsPage} from \"../pages/tabs/tabs\";\r\nimport {DevToolsExtension, NgRedux, NgReduxModule} from \"@angular-redux/store\";\r\nimport {configureAppStateStore, IAppState} from \"../models/state/configure\";\r\nimport {ConfigStoreProvider} from '../providers/config-store/config-store';\r\nimport {ChargerActions} from \"../models/state/actions/charger\";\r\nimport {UIActions} from \"../models/state/actions/ui\";\r\nimport {ConfigurationEpics} from \"../models/state/epics/configuration\";\r\nimport {ConfigurationActions} from \"../models/state/actions/configuration\";\r\nimport {NgSpinKitModule} from \"ng-spin-kit\";\r\nimport {EnvironmentsModule} from \"./environment/environment-variables.module\";\r\nimport {SystemActions} from \"../models/state/actions/system\";\r\nimport {SystemSettingsPageModule} from \"../pages/system-settings/system-settings.module\";\r\nimport {ComponentsModule} from \"../components/components.module\";\r\n\r\n@NgModule({\r\n    declarations: [\r\n        MyApp,\r\n        ContactPage,\r\n        ConfigPage,\r\n        HomePage,\r\n        KeysPipe, ReversePipe, DurationPipe, TempPipe,\r\n        DynamicDisable,\r\n        ChannelComponent,\r\n        ChannelVoltsComponent,\r\n        ChannelIRComponent,\r\n        ConnectionStateComponent,\r\n        PresetListPage,\r\n        PresetPage,\r\n        PresetChargePage,\r\n        PresetStoragePage,\r\n        PresetDischargePage,\r\n        PresetBalancePage,\r\n        TabsPage,\r\n        PresetCyclePage,\r\n        ChargeOptionsPage,\r\n        ChargerStatusComponent,\r\n    ],\r\n    imports: [\r\n        BrowserModule,\r\n        HttpModule,\r\n        NgReduxModule,\r\n        NgSpinKitModule,\r\n        ComponentsModule,\r\n        SystemSettingsPageModule,\r\n        IonicModule.forRoot(MyApp, {}, \n{\n  links: [\n    { loadChildren: '../pages/system-settings/system-settings.module#SystemSettingsPageModule', name: 'SystemSettingsPage', segment: 'system-settings', priority: 'low', defaultHistory: [] }\n  ]\n}),\r\n        IonicStorageModule.forRoot(),\r\n        EnvironmentsModule\r\n    ],\r\n    bootstrap: [IonicApp],\r\n    entryComponents: [\r\n        MyApp,\r\n        HomePage,\r\n        ConfigPage,\r\n        PresetListPage,\r\n        PresetPage,\r\n        PresetChargePage,\r\n        PresetStoragePage,\r\n        PresetDischargePage,\r\n        PresetCyclePage,\r\n        ChargeOptionsPage,\r\n        ChannelVoltsComponent,\r\n        ChannelIRComponent,\r\n        ConnectionStateComponent,\r\n    ],\r\n    providers: [\r\n        ChargerActions,\r\n        UIActions,\r\n        ConfigStoreProvider,\r\n        ConfigurationActions,\r\n        SystemActions,\r\n        ConfigurationEpics,\r\n        StatusBar,\r\n        SplashScreen,\r\n        {provide: iChargerService, useClass: iChargerService},\r\n        {provide: ErrorHandler, useClass: IonicErrorHandler},\r\n        ConfigStoreProvider\r\n    ]\r\n})\r\nexport class AppModule {\r\n    constructor(ngRedux: NgRedux<IAppState>,\r\n                configEpic: ConfigurationEpics,\r\n                devTools: DevToolsExtension) {\r\n        configureAppStateStore(ngRedux, configEpic, devTools);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import {Injectable} from \"@angular/core\";\r\nimport {IAppState} from \"../configure\";\r\nimport {NgRedux} from \"@angular-redux/store\";\r\n\r\n@Injectable()\r\nexport class UIActions {\r\n    static SET_EXCEPTION_MESSAGE: string = \"SET_EXCEPTION_MESSAGE\";\r\n    static SET_EXCEPTION_FROM_ERROR: string = \"SET_EXCEPTION_FROM_ERROR\";\r\n\r\n    static SERVER_DISCONNECTED: string = \"SERVER_DISCONNECTED\";\r\n    static SERVER_RECONNECTED: string = \"SERVER_RECONNECTED\";\r\n\r\n    constructor(private ngRedux: NgRedux<IAppState>) {\r\n    }\r\n\r\n    setErrorMessage(error: string) {\r\n        if (!error) {\r\n            console.log(\"setErrorMessage called with nothing\");\r\n            return;\r\n        }\r\n        this.ngRedux.dispatch({\r\n            type: UIActions.SET_EXCEPTION_MESSAGE,\r\n            payload: error,\r\n        });\r\n    }\r\n\r\n    setErrorFromException(error: Error) {\r\n        if (!error) {\r\n            console.log(\"setErrorFromException called with nothing\");\r\n            return;\r\n        }\r\n        this.ngRedux.dispatch({\r\n            type: UIActions.SET_EXCEPTION_FROM_ERROR,\r\n            payload: error,\r\n        });\r\n    }\r\n\r\n    setErrorFromResponse(response: Response) {\r\n        if (!response) {\r\n            console.log(\"setErrorFromResponse called with nothing\");\r\n            return;\r\n        }\r\n        let message = response.statusText ? response.statusText : \"Code: \" + response.status;\r\n        this.ngRedux.dispatch({\r\n            type: UIActions.SET_EXCEPTION_MESSAGE,\r\n            payload: message,\r\n        });\r\n    }\r\n\r\n    setDisconnected() {\r\n        this.ngRedux.dispatch({\r\n            type: UIActions.SERVER_DISCONNECTED\r\n        });\r\n    }\r\n\r\n    serverReconnected() {\r\n        this.ngRedux.dispatch({\r\n            type: UIActions.SERVER_RECONNECTED\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/state/actions/ui.ts","import {clamp} from \"ionic-angular/util/util\";\r\n\r\nexport enum ChemistryType {\r\n    LiPo = 0,\r\n    LiLo,\r\n    LiFe,\r\n    NiMH,\r\n    NiCd,\r\n    Pb,\r\n    NiZn,\r\n    Anything,\r\n}\r\n\r\nexport enum LipoBalanceType {\r\n    Slow = 0,\r\n    Normal = 1,\r\n    Fast = 2,\r\n    User = 3,\r\n    // only returned when li_mode_c is 1\r\n    DontBalance = 4\r\n}\r\n\r\n// li_balance_end_mode\r\nexport enum BalanceEndCondition {\r\n    // Charge End Current is disabled in the UI\r\n    EndCurrentOff_DetectBalanceOn,\r\n\r\n    // Charge End Current enabled for all remaining options,\r\n    EndCurrentOn_DetectBalanceOff,\r\n    EndCurrent_or_DetectBalance,\r\n    EndCurrent_and_DetectBalance,\r\n}\r\n\r\n// Yes, it's not sequential as per the iCharger UI itself.\r\nexport enum RegenerativeMode {\r\n    Off = 0,\r\n    ToInput = 1,\r\n    ToChannel = 2\r\n}\r\n\r\nexport enum RegenerativeToChannelMethod {\r\n    ResistanceOrBulbs = 0,\r\n    ChargingBattery = 1,\r\n}\r\n\r\nexport enum Cycle {\r\n    ChargeDischarge,\r\n    DischargeCharge,\r\n    ChargeDischargeCharge,\r\n    DischargeChargeDischarge,\r\n    ChargeDischargeStore,\r\n    DischargeChargeStore,\r\n}\r\n\r\nlet _dischargeVoltageMinMax: Map<ChemistryType, Array<{ min: number, max: number }>> = new Map();\r\n_dischargeVoltageMinMax[ChemistryType.LiPo] = {'min': 3.0, 'max': 4.1};\r\n_dischargeVoltageMinMax[ChemistryType.LiFe] = {'min': 2.0, 'max': 3.5};\r\n_dischargeVoltageMinMax[ChemistryType.NiMH] = {'min': 0.1, 'max': 33};\r\n\r\nexport class Preset {\r\n    constructor(public data: {}) {\r\n    }\r\n\r\n    json() {\r\n        return JSON.stringify(this.data);\r\n    }\r\n\r\n    clone(): Preset {\r\n        let jsonString = this.json();\r\n        let newThing: Preset = new Preset(JSON.parse(jsonString));\r\n        newThing.setWillSaveNewPreset();\r\n        return newThing;\r\n    }\r\n\r\n    dischargeVoltageMinMax() {\r\n        let anOption = {min: 0.1, max: 33};\r\n        if (_dischargeVoltageMinMax[this.type]) {\r\n            anOption = _dischargeVoltageMinMax[this.type];\r\n        }\r\n        console.log(\"Using \", anOption, \" as the volt/min/max\");\r\n        return anOption;\r\n    }\r\n\r\n    storageVoltageRange() {\r\n        switch (this.type) {\r\n            case ChemistryType.LiPo:\r\n                return {min: 370, max: 390};\r\n            case ChemistryType.LiFe:\r\n                return {min: 310, max: 340}\r\n        }\r\n        return {min: 0.0, max: 0};\r\n    }\r\n\r\n    setWillSaveNewPreset() {\r\n        this.data['index'] = -1;\r\n    }\r\n\r\n    get name(): string {\r\n        if (this.data['name']) {\r\n            return this.data['name'];\r\n        }\r\n        return `${this.type_str}_${this.charge_current}A`;\r\n    }\r\n\r\n    set name(value: string) {\r\n        this.data['name'] = value;\r\n    }\r\n\r\n    get index(): number {\r\n        return this.data['index'];\r\n    }\r\n\r\n    get type_str(): string {\r\n        return this.data['type_str'];\r\n    }\r\n\r\n    get type(): ChemistryType {\r\n        return this.data['type'];\r\n    }\r\n\r\n    set type(value: ChemistryType) {\r\n        this.data['type'] = value;\r\n    }\r\n\r\n    get cells(): number {\r\n        switch (this.type) {\r\n            case ChemistryType.LiPo:\r\n                return this.data['li_cell'];\r\n            case ChemistryType.NiMH:\r\n                return this.data['ni_cell'];\r\n            case ChemistryType.LiFe:\r\n                return this.data['li_cell'];\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    set cells(value: number) {\r\n        value = +value;\r\n        switch (this.type) {\r\n            case ChemistryType.LiPo:\r\n                this.data['li_cell'] = value;\r\n                break;\r\n            case ChemistryType.NiMH:\r\n                this.data['ni_cell'] = value;\r\n                break;\r\n            case ChemistryType.LiFe:\r\n                this.data['li_cell'] = value;\r\n                break;\r\n        }\r\n    }\r\n\r\n    get capacity(): number {\r\n        return this.data['capacity'];\r\n    }\r\n\r\n    set capacity(value: number) {\r\n        this.data['capacity'] = +value;\r\n    }\r\n\r\n    get channel_mode(): number {\r\n        return this.data['channel_mode'];\r\n    }\r\n\r\n    set channel_mode(value: number) {\r\n        this.data['channel_mode'] = +value;\r\n    }\r\n\r\n    get save_to_sd(): boolean {\r\n        return this.data['save_to_sd'];\r\n    }\r\n\r\n    set save_to_sd(value: boolean) {\r\n        this.data['save_to_sd'] = value;\r\n    }\r\n\r\n    get run_counter(): number {\r\n        return this.data['run_counter'];\r\n    }\r\n\r\n    set run_counter(value: number) {\r\n        this.data['run_counter'] = +value;\r\n    }\r\n\r\n    get log_interval_sec(): number {\r\n        return this.data['log_interval_sec'];\r\n    }\r\n\r\n    set log_interval_sec(value: number) {\r\n        this.data['log_interval_sec'] = +value;\r\n    }\r\n\r\n    get balance_type(): LipoBalanceType {\r\n        if (this.data['li_mode_c'] == 1) {\r\n            return LipoBalanceType.DontBalance;\r\n        }\r\n        return Number(this.data['bal_speed']);\r\n    }\r\n\r\n    set balance_type(value: LipoBalanceType) {\r\n        if (value == LipoBalanceType.DontBalance) {\r\n            this.data['li_mode_c'] = 1;\r\n            this.data['bal_speed'] = LipoBalanceType.User;\r\n        } else {\r\n            this.data['li_mode_c'] = 0;\r\n            this.data['bal_speed'] = +value;\r\n        }\r\n    }\r\n\r\n    get balance_end_type(): BalanceEndCondition {\r\n        return this.data['li_balance_end_mode'];\r\n    }\r\n\r\n    set balance_end_type(value: BalanceEndCondition) {\r\n        this.data['li_balance_end_mode'] = +value;\r\n    }\r\n\r\n    get charge_cell_voltage(): number {\r\n        switch (this.type) {\r\n            case ChemistryType.LiPo:\r\n                return this.data['lipo_charge_cell_voltage'];\r\n            case ChemistryType.LiFe:\r\n                return this.data['life_charge_cell_voltage']\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    set charge_cell_voltage(value: number) {\r\n        switch (this.type) {\r\n            case ChemistryType.LiPo:\r\n                this.data['lipo_charge_cell_voltage'] = +value;\r\n                break;\r\n            case ChemistryType.LiFe:\r\n                this.data['life_charge_cell_voltage'] = +value;\r\n                break;\r\n        }\r\n    }\r\n\r\n    get charge_current(): number {\r\n        return this.data['charge_current'];\r\n    }\r\n\r\n    set charge_current(value: number) {\r\n        this.data['charge_current'] = +value;\r\n    }\r\n\r\n    // First saw this when doing NiMH\r\n    get charge_mode(): number {\r\n        if (this.type == ChemistryType.NiMH) {\r\n            return this.data['ni_mode_c'];\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    set charge_mode(value: number) {\r\n        if (this.type == ChemistryType.NiMH) {\r\n            this.data['ni_mode_c'] = +value;\r\n        }\r\n    }\r\n\r\n    get discharge_current(): number {\r\n        return this.data['discharge_current'];\r\n    }\r\n\r\n    set discharge_current(value: number) {\r\n        this.data['discharge_current'] = +value;\r\n    }\r\n\r\n    get discharge_voltage(): number {\r\n        switch (this.type) {\r\n            case ChemistryType.NiMH:\r\n                return this.data['ni_discharge_voltage'];\r\n\r\n            case ChemistryType.LiFe:\r\n                return this.data['life_discharge_cell_voltage'];\r\n\r\n            case ChemistryType.LiPo:\r\n                return this.data['lipo_discharge_cell_voltage'];\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    set discharge_voltage(value: number) {\r\n        value = +value;\r\n        switch (this.type) {\r\n            case ChemistryType.NiMH:\r\n                this.data['ni_discharge_voltage'] = value;\r\n                break;\r\n\r\n            case ChemistryType.LiFe:\r\n                this.data['life_discharge_cell_voltage'] = value;\r\n                break;\r\n\r\n            case ChemistryType.LiPo:\r\n                this.data['lipo_discharge_cell_voltage'] = value;\r\n        }\r\n    }\r\n\r\n    get charge_end_current(): number {\r\n        return this.data['end_charge'];\r\n    }\r\n\r\n    set charge_end_current(value: number) {\r\n        value = clamp(10, 50, +value);\r\n        this.data['end_charge'] = value;\r\n    }\r\n\r\n    get discharge_end_current(): number {\r\n        return this.data['end_discharge'];\r\n    }\r\n\r\n    set discharge_end_current(value: number) {\r\n        this.data['end_discharge'] = +value;\r\n    }\r\n\r\n    get showChargeVoltageWarning(): boolean {\r\n        switch (this.type) {\r\n            case ChemistryType.LiPo:\r\n                return this.charge_cell_voltage > 4.2;\r\n            case ChemistryType.LiFe:\r\n                return this.charge_cell_voltage > 3.6;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    get restore_voltage(): number {\r\n        return this.data['restore_voltage'];\r\n    }\r\n\r\n    set restore_voltage(value: number) {\r\n        this.data['restore_voltage'] = +value;\r\n    }\r\n\r\n    get restore_charge_time(): number {\r\n        return this.data['restore_time'];\r\n    }\r\n\r\n    set restore_charge_time(value: number) {\r\n        this.data['restore_time'] = +value;\r\n    }\r\n\r\n    get restore_charge_current(): number {\r\n        return this.data['restore_current'];\r\n    }\r\n\r\n    set restore_charge_current(value: number) {\r\n        this.data['restore_current'] = +value;\r\n    }\r\n\r\n    get keep_charging_after_done(): boolean {\r\n        return this.data['keep_charge_enable'];\r\n    }\r\n\r\n    set keep_charging_after_done(value: boolean) {\r\n        this.data['keep_charge_enable'] = value;\r\n    }\r\n\r\n    get show_in_presets_list(): boolean {\r\n        return this.data['keep_charge_enable'];\r\n    }\r\n\r\n    set show_in_presets_list(value: boolean) {\r\n        this.data['keep_charge_enable'] = value;\r\n    }\r\n\r\n    // charge safety\r\n    get safety_charge_cutoff_temp(): number {\r\n        return this.data['safety_temp_c'];\r\n    }\r\n\r\n    set safety_charge_cutoff_temp(value: number) {\r\n        this.data['safety_temp_c'] = +value;\r\n    }\r\n\r\n    get safety_charge_capacity(): number {\r\n        return this.data['safety_cap_c'];\r\n    }\r\n\r\n    set safety_charge_capacity(value: number) {\r\n        this.data['safety_cap_c'] = +value;\r\n    }\r\n\r\n    get safety_charge_timer_enabled(): boolean {\r\n        return this.data['safety_time_c'] > 0;\r\n    }\r\n\r\n    set safety_charge_timer_enabled(value: boolean) {\r\n        this.data['safety_time_c'] = value ? 1 : 0;\r\n    }\r\n\r\n    get safety_charge_timer_time(): boolean {\r\n        return this.data['safety_time_c'];\r\n    }\r\n\r\n    set safety_charge_timer_time(value: boolean) {\r\n        this.data['safety_time_c'] = value;\r\n    }\r\n\r\n    // discharge safety\r\n    get safety_discharge_cutoff_temp(): number {\r\n        return this.data['safety_temp_d'];\r\n    }\r\n\r\n    set safety_discharge_cutoff_temp(value: number) {\r\n        this.data['safety_temp_d'] = +value;\r\n    }\r\n\r\n    get safety_discharge_capacity(): number {\r\n        return this.data['safety_cap_d'];\r\n    }\r\n\r\n    set safety_discharge_capacity(value: number) {\r\n        this.data['safety_cap_d'] = +value;\r\n    }\r\n\r\n    get safety_discharge_timer_enabled(): boolean {\r\n        return this.data['safety_time_d'] > 0;\r\n    }\r\n\r\n    set safety_discharge_timer_enabled(value: boolean) {\r\n        this.data['safety_time_d'] = value ? 1 : 0;\r\n    }\r\n\r\n    get safety_discharge_timer_time(): boolean {\r\n        return this.data['safety_time_d'];\r\n    }\r\n\r\n    set safety_discharge_timer_time(value: boolean) {\r\n        this.data['safety_time_d'] = value;\r\n    }\r\n\r\n    // extra\r\n    get discharge_extra_discharge_enabled(): boolean {\r\n        return (this.data['li_mode_d'] & 0x01) == 0x01;\r\n    }\r\n\r\n    set discharge_extra_discharge_enabled(value: boolean) {\r\n        if (value) {\r\n            this.data['li_mode_d'] = this.data['li_mode_d'] || 0x01;\r\n        } else {\r\n            this.data['li_mode_d'] = this.data['li_mode_d'] && ~0x01;\r\n        }\r\n    }\r\n\r\n    get discharge_balance_enabled(): boolean {\r\n        return (this.data['li_mode_d'] & 0x02) == 0x02;\r\n    }\r\n\r\n    set discharge_balance_enabled(value: boolean) {\r\n        if (value) {\r\n            this.data['li_mode_d'] = this.data['li_mode_d'] || 0x02;\r\n        } else {\r\n            this.data['li_mode_d'] = this.data['li_mode_d'] && ~0x02;\r\n        }\r\n    }\r\n\r\n    get regeneration_mode(): RegenerativeMode {\r\n        return this.data['regen_discharge_mode'];\r\n    }\r\n\r\n    set regeneration_mode(value: RegenerativeMode) {\r\n        this.data['regen_discharge_mode'] = value;\r\n    }\r\n\r\n    get regeneration_method(): RegenerativeToChannelMethod {\r\n        return this.data['reg_ch_mode'];\r\n    }\r\n\r\n    set regeneration_method(value: RegenerativeToChannelMethod) {\r\n        this.data['reg_ch_mode'] = +value;\r\n    }\r\n\r\n    get regeneration_volt_limit(): number {\r\n        return this.data['reg_ch_volt'];\r\n    }\r\n\r\n    set regeneration_volt_limit(value: number) {\r\n        this.data['reg_ch_volt'] = +value;\r\n    }\r\n\r\n    get regeneration_current_limit(): number {\r\n        return this.data['reg_ch_current'];\r\n    }\r\n\r\n    set regeneration_current_limit(value: number) {\r\n        this.data['reg_ch_current'] = +value;\r\n    }\r\n\r\n    // storage\r\n    get storage_cell_voltage(): number {\r\n        switch (this.type) {\r\n            case ChemistryType.LiPo:\r\n                return this.data['lipo_storage_cell_voltage'];\r\n            case ChemistryType.LiFe:\r\n                return this.data['life_storage_cell_voltage'];\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    set storage_cell_voltage(value: number) {\r\n        value = +value;\r\n        switch (this.type) {\r\n            case ChemistryType.LiPo:\r\n                this.data['lipo_storage_cell_voltage'] = value;\r\n                break;\r\n            case ChemistryType.LiFe:\r\n                this.data['life_storage_cell_voltage'] = value;\r\n                break;\r\n        }\r\n    }\r\n\r\n    get storage_compensation_mv(): number {\r\n        return this.data['store_compensation'];\r\n    }\r\n\r\n    set storage_compensation_mv(value: number) {\r\n        this.data['store_compensation'] = +value;\r\n    }\r\n\r\n    get storage_accelerated(): boolean {\r\n        return this.data['fast_store'];\r\n    }\r\n\r\n    set storage_accelerated(value: boolean) {\r\n        this.data['fast_store'] = value;\r\n    }\r\n\r\n    // Cycle\r\n    get cycle_mode(): Cycle {\r\n        return this.data['cycle_mode'];\r\n    }\r\n\r\n    set cycle_mode(value: Cycle) {\r\n        this.data['cycle_mode'] = value;\r\n    }\r\n\r\n    get cycle_count(): number {\r\n        return this.data['cycle_count'];\r\n    }\r\n\r\n    set cycle_count(value: number) {\r\n        this.data['cycle_count'] = +value;\r\n    }\r\n\r\n    get cycle_delay(): number {\r\n        return this.data['cycle_delay'];\r\n    }\r\n\r\n    set cycle_delay(value: number) {\r\n        this.data['cycle_delay'] = +value;\r\n    }\r\n\r\n    // NiMH\r\n    get ni_sensitivity(): number {\r\n        return this.data['ni_peak'];\r\n    }\r\n\r\n    set ni_sensitivity(value: number) {\r\n        this.data['ni_peak'] = +value;\r\n    }\r\n\r\n    get allow_zero_volt_charging(): boolean {\r\n        return this.data['ni_zero_enable'];\r\n    }\r\n\r\n    set allow_zero_volt_charging(value: boolean) {\r\n        this.data['ni_zero_enable'] = value;\r\n    }\r\n\r\n    get trickle_enabled(): boolean {\r\n        return this.data['ni_trickle_enable'];\r\n    }\r\n\r\n    set trickle_enabled(value: boolean) {\r\n        this.data['ni_trickle_enable'] = value;\r\n    }\r\n\r\n    get trickle_current(): number {\r\n        return this.data['ni_trickle_current'];\r\n    }\r\n\r\n    set trickle_current(value: number) {\r\n        this.data['ni_trickle_current'] = +value;\r\n    }\r\n\r\n    get trickle_timeout(): number {\r\n        return this.data['ni_trickle_time'];\r\n    }\r\n\r\n    set trickle_timeout(value: number) {\r\n        this.data['ni_trickle_time'] = +value;\r\n    }\r\n\r\n    public static chemistryPrefix(chemistry: ChemistryType) {\r\n        switch (chemistry) {\r\n            case ChemistryType.Anything:\r\n                return \"All\";\r\n            case ChemistryType.LiPo:\r\n                return \"LP\";\r\n            case ChemistryType.LiLo:\r\n                return \"LL\";\r\n            case ChemistryType.LiFe:\r\n                return \"LF\";\r\n            case ChemistryType.NiCd:\r\n                return \"NC\";\r\n            case ChemistryType.NiMH:\r\n                return \"NM\";\r\n            case ChemistryType.Pb:\r\n                return \"Pb\";\r\n            case ChemistryType.NiZn:\r\n                return \"NZ\";\r\n        }\r\n        return \"ER\";\r\n    }\r\n\r\n    smallButtonName(showChargeOption = true) {\r\n        let name = Preset.chemistryPrefix(this.type);\r\n        let rate = showChargeOption ? this.charge_current : this.discharge_current;\r\n        return `${name} ${rate}A`;\r\n    }\r\n\r\n    updateFrom(other_preset) {\r\n        this.data = other_preset.data;\r\n    }\r\n\r\n    get readonly(): boolean {\r\n        return this.data['use_flag'] == 0; // fixed\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/preset-class.ts","import {Injectable} from \"@angular/core\";\r\nimport {IAppState} from \"../configure\";\r\nimport {NgRedux} from \"@angular-redux/store\";\r\nimport {iChargerService} from \"../../../services/icharger.service\";\r\nimport {UIActions} from \"./ui\";\r\n\r\n\r\n@Injectable()\r\nexport class ConfigurationActions {\r\n    static RESET_TO_DEFAULTS: string = 'RESET_TO_DEFAULTS';\r\n    static UPDATE_CONFIG_KEYVALUE: string = 'UPDATE_CONFIG_KEYVALUE';\r\n    static UPDATE_CHARGE_CONFIG_KEYVALUE: string = 'UPDATE_CHARGE_CONFIG_KEYVALUE';\r\n    static CONFIG_SAVED_TO_STORE: string = 'CONFIG_SAVED_TO_STORE';\r\n    static SET_FULL_CONFIG: string = 'SET_FULL_CONFIG';\r\n\r\n    constructor(private ngRedux: NgRedux<IAppState>,\r\n                private uiActions: UIActions,\r\n                private chargerService: iChargerService) {\r\n    }\r\n\r\n    resetToDefaults() {\r\n        this.ngRedux.dispatch({\r\n            type: ConfigurationActions.RESET_TO_DEFAULTS,\r\n            payload: {}\r\n        });\r\n    }\r\n\r\n    setConfiguration(key: string, value: any) {\r\n        let change = [];\r\n        change[key] = value;\r\n        this.updateConfiguration(change);\r\n    }\r\n\r\n    setChargeConfiguration(key: string, value: any) {\r\n        let change = [];\r\n        change[key] = value;\r\n        this.ngRedux.dispatch({\r\n            type: ConfigurationActions.UPDATE_CHARGE_CONFIG_KEYVALUE,\r\n            payload: change,\r\n            maxAmpsPerChannel: this.chargerService.getMaxAmpsPerChannel()\r\n        });\r\n    }\r\n\r\n    updateConfiguration(change) {\r\n        // Check the change type, coerce values\r\n        if (change) {\r\n            let config = this.ngRedux.getState().config;\r\n            let key = Object.keys(change)[0];\r\n            if (config[key] != change[key]) {\r\n                this.ngRedux.dispatch({\r\n                    type: ConfigurationActions.UPDATE_CONFIG_KEYVALUE,\r\n                    payload: change\r\n                });\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/state/actions/configuration.ts","import {Injectable} from \"@angular/core\";\r\nimport {IAppState} from \"../configure\";\r\nimport {NgRedux} from \"@angular-redux/store\";\r\nimport {ISystem} from \"../reducers/system\";\r\nimport {System} from \"../../system\";\r\nimport {iChargerService} from \"../../../services/icharger.service\";\r\nimport {UIActions} from \"./ui\";\r\nimport {Observable} from \"rxjs/Observable\";\r\n\r\n@Injectable()\r\nexport class SystemActions {\r\n    static FETCH_SYSTEM: string = \"FETCH_SYSTEM\";\r\n    static START_FETCH: string = \"START_FETCH\";\r\n    static END_FETCH: string = \"END_FETCH\";\r\n    static SAVE_SETTINGS: string = \"SAVE_SETTINGS\";\r\n    static UPDATE_SETTINGS_VALUE: string = \"UPDATE_SETTINGS_VALUE\";\r\n\r\n    constructor(private ngRedux: NgRedux<IAppState>,\r\n                private uiActions: UIActions,\r\n                private chargerService: iChargerService) {\r\n    }\r\n\r\n    fetchSystemFromCharger() {\r\n        this.ngRedux.dispatch({\r\n            type: SystemActions.FETCH_SYSTEM\r\n        });\r\n\r\n        this.chargerService.getSystem().subscribe(system => {\r\n            this.ngRedux.dispatch(this.endFetchAction(system));\r\n        }, (error) => {\r\n            this.uiActions.setErrorMessage(error);\r\n        });\r\n    }\r\n\r\n    userChangedValue(change) {\r\n        this.ngRedux.dispatch({\r\n            type: SystemActions.UPDATE_SETTINGS_VALUE,\r\n            payload: change\r\n        });\r\n    }\r\n\r\n    updateSystemValue(key: string, value: any) {\r\n        let change = [];\r\n        change[key] = value;\r\n        this.userChangedValue(change);\r\n    }\r\n\r\n    saveSystemSettings(systemObject: System): Observable<System> {\r\n        return this.chargerService.saveSystem(systemObject).map((s: System) => {\r\n            this.ngRedux.dispatch(this.endFetchAction(s));\r\n        });\r\n    }\r\n\r\n    startFetch() {\r\n        this.ngRedux.dispatch({\r\n            type: SystemActions.START_FETCH\r\n        });\r\n    }\r\n\r\n    endFetchAction(systemObject: System) {\r\n        return {\r\n            type: SystemActions.END_FETCH,\r\n            payload: systemObject\r\n        };\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/state/actions/system.ts","import {Component, EventEmitter, Input, Output} from '@angular/core';\r\nimport {ISystem} from \"../../models/state/reducers/system\";\r\nimport {IUIState} from \"../../models/state/reducers/ui\";\r\nimport {System} from \"../../models/system\";\r\n\r\n@Component({\r\n    selector: 'system-display',\r\n    templateUrl: 'system.html'\r\n})\r\nexport class SystemComponent {\r\n    _system: ISystem;\r\n\r\n    @Input()\r\n    get system(): ISystem {\r\n        return this._system;\r\n    }\r\n    set system(value: ISystem) {\r\n        this._system = Object.create(value);\r\n        console.log(\"*** Got new system value\");\r\n    }\r\n\r\n    @Input() ui: IUIState;\r\n\r\n    @Output() valueWasChanged: EventEmitter<any> = new EventEmitter();\r\n    @Output() saveSettings: EventEmitter<any> = new EventEmitter();\r\n\r\n    get charger(): System {\r\n        return this.system.system;\r\n    }\r\n\r\n    constructor() {\r\n    }\r\n\r\n    change(keyName, event) {\r\n        this.system[keyName] = event.value;\r\n        // let change = [];\r\n        // change[keyName] = event.value;\r\n        // this.valueWasChanged.emit(change);\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/system/system.ts","import {Component, EventEmitter, Input, Output} from '@angular/core';\r\nimport {IConfig} from \"../../models/state/reducers/configuration\";\r\nimport {NavController, Platform} from \"ionic-angular\";\r\nimport {isUndefined} from \"ionic-angular/util/util\";\r\nimport {IChargerState} from \"../../models/state/reducers/charger\";\r\nimport {IUIState} from \"../../models/state/reducers/ui\";\r\n\r\n@Component({\r\n    selector: 'config',\r\n    templateUrl: 'config.html'\r\n})\r\nexport class ConfigComponent {\r\n    mockValueChanged: boolean;\r\n\r\n    // huh. should probably refactor this to simply take the entire ngRedux IAppState\r\n    @Input() ui?: IUIState;\r\n    @Input() config?: IConfig;\r\n    @Input() charger?: IChargerState;\r\n\r\n    @Output() resetToDefaults: EventEmitter<any> = new EventEmitter();\r\n    @Output() updateConfiguration: EventEmitter<any> = new EventEmitter();\r\n    @Output() testFunc: EventEmitter<any> = new EventEmitter();\r\n\r\n    constructor(public navCtrl: NavController, public platform: Platform) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.mockValueChanged = false;\r\n    }\r\n\r\n    num(value) {\r\n        return parseInt(value);\r\n    }\r\n\r\n    change(keyName, value) {\r\n        if (keyName == \"mockCharger\") {\r\n            this.mockValueChanged = true;\r\n        }\r\n\r\n        let change = [];\r\n        change[keyName] = value;\r\n        this.updateConfiguration.emit(change);\r\n    }\r\n\r\n    cellChoices() {\r\n        if (isUndefined(this.config) || isUndefined(this.charger)) {\r\n            return [];\r\n        }\r\n\r\n        let choices = [];\r\n        let maxCells = 10;\r\n        let cellsFromChargerConfig = this.charger.cell_count;\r\n        if (cellsFromChargerConfig > 0) {\r\n            maxCells = cellsFromChargerConfig;\r\n        }\r\n        // -1 means: All\r\n        // 0 means: Nothing\r\n        for (let i = -1; i <= maxCells; i++) {\r\n            if (i == -1) {\r\n                choices.push({'value': i, 'text': \"All\"});\r\n            } else if (i == 0) {\r\n                choices.push({'value': i, 'text': \"None\"});\r\n            } else {\r\n                choices.push({'value': i, 'text': i.toString() + \"\"});\r\n            }\r\n        }\r\n        return choices;\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/config/config.ts","import {Component, EventEmitter, Input, Output} from '@angular/core';\r\nimport {System} from \"../../models/system\";\r\n\r\n\r\n@Component({\r\n    selector: 'temp-range',\r\n    templateUrl: 'temp-range.html'\r\n})\r\nexport class TempRangeComponent {\r\n    @Input() label: string = \"Something Intelligent Here\";\r\n    @Input() metric: boolean = true;\r\n    @Input() disabled: boolean = false;\r\n    @Input() pin: boolean = true;\r\n    @Input() value: number = 0; // this is ALWAYS in Celsius\r\n    @Input() min: number = 0;\r\n    @Input() max: number = 10;\r\n\r\n    @Output() valueChange: EventEmitter<any> = new EventEmitter();\r\n\r\n    get displayableValue(): number {\r\n        return this.toDisplayValue(this.value);\r\n    }\r\n\r\n    set displayableValue(value: number) {\r\n        if (this.metric) {\r\n            this.value = value;\r\n        } else {\r\n            this.value = this.farenheightToC(value);\r\n        }\r\n        this.value = Math.round(this.value);\r\n    }\r\n\r\n    emitChangedCelsiusValue(event) {\r\n        this.displayableValue = event.value;\r\n        // We ALWAYS emit celsius values.\r\n        // event.value = this.value;\r\n        this.valueChange.emit(this.value);\r\n    }\r\n\r\n    constructor() {\r\n    }\r\n\r\n    celciusToF(c): number {\r\n        return c * 9 / 5 + 32;\r\n    }\r\n\r\n    farenheightToC(f): number {\r\n        return (f - 32) / (9 / 5);\r\n    }\r\n\r\n    toDisplayValue(celcius: number): number {\r\n        return this.metric ? celcius : this.celciusToF(celcius);\r\n    }\r\n\r\n    get min_val(): number {\r\n        return this.toDisplayValue(this.min);\r\n    }\r\n\r\n    get max_val(): number {\r\n        return this.toDisplayValue(this.max);\r\n    }\r\n\r\n    get unitsOfMeasure(): string {\r\n        return System.unitsOfMeasure(this.metric);\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/temp-range/temp-range.ts","import {Component, ViewChild} from \"@angular/core\";\r\nimport {Nav, Platform} from \"ionic-angular\";\r\nimport {ConfigPage} from \"../pages/config/config-page\";\r\nimport {iChargerService} from \"../services/icharger.service\";\r\nimport {PresetListPage} from \"../pages/preset-list/preset-list\";\r\nimport {HomePage} from \"../pages/home/home\";\r\n\r\nimport {StatusBar} from '@ionic-native/status-bar';\r\nimport {SplashScreen} from '@ionic-native/splash-screen';\r\nimport {ConfigStoreProvider} from \"../providers/config-store/config-store\";\r\nimport {ConfigurationActions} from \"../models/state/actions/configuration\";\r\nimport {NgRedux} from \"@angular-redux/store\";\r\nimport {IAppState} from \"../models/state/configure\";\r\nimport {SystemSettingsPage} from \"../pages/system-settings/system-settings\";\r\n\r\n@Component({\r\n    templateUrl: 'app.html'\r\n})\r\nexport class MyApp {\r\n    @ViewChild(Nav) nav: Nav;\r\n    rootPage = HomePage;\r\n\r\n    // rootPage = PresetListPage;\r\n    pages: Array<{ title: string, component: any, visible: any }>;\r\n\r\n    constructor(platform: Platform,\r\n                public chargerService: iChargerService,\r\n                public statusBar: StatusBar,\r\n                public config: ConfigStoreProvider,\r\n                public configActions: ConfigurationActions,\r\n                public ngRedux: NgRedux<IAppState>,\r\n                public splashScreen: SplashScreen) {\r\n\r\n\r\n        platform.ready().then(() => {\r\n            // Okay, so the platform is ready and our plugins are available.\r\n            // Here you can do any higher level native things you might need.\r\n            statusBar.styleDefault();\r\n            splashScreen.hide();\r\n\r\n            this.config.loadConfiguration().subscribe(r => {\r\n                console.log(\"Configuration loaded, putting into the store...\");\r\n                this.ngRedux.dispatch({\r\n                    type: ConfigurationActions.SET_FULL_CONFIG,\r\n                    payload: r\r\n                });\r\n            });\r\n\r\n        });\r\n\r\n        let connectedToCharger = () => {\r\n            return this.chargerService.isConnectedToCharger()\r\n        };\r\n        let presetsPage = {\r\n            title: 'Presets', component: PresetListPage, visible: connectedToCharger,\r\n        };\r\n        let configPage = {\r\n            title: 'Config', component: ConfigPage, visible: () => {\r\n                return true;\r\n            }\r\n        };\r\n        let systemPage = {\r\n            title: 'Settings', component: SystemSettingsPage, visible: connectedToCharger\r\n        };\r\n        this.pages = [\r\n            presetsPage,\r\n            systemPage,\r\n            configPage,\r\n        ]\r\n    }\r\n\r\n    openPage(page) {\r\n        // Reset the content nav to have just this page\r\n        // we wouldn't want the back button to show in this scenario\r\n        this.nav.push(page.component);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import {InjectionToken} from \"@angular/core\";\r\n\r\nexport let EnvVariables = new InjectionToken(\"env.variables\");\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/environment/environment-variables.token.ts","export const devVariables = {\r\n    environmentName: 'Development Environment',\r\n    logging: true,\r\n    ionicEnvName: 'dev'\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/app/environment/development.ts","export const prodVariables = {\r\n    environmentName: 'Production Environment',\r\n    logging: false,\r\n    ionicEnvName: 'prod'\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/app/environment/production.ts","import {Pipe, PipeTransform} from \"@angular/core\";\r\n\r\nimport {sprintf} from \"sprintf-js\";\r\nimport {celciusToF} from './helpers'\r\nimport {NgRedux} from \"@angular-redux/store\";\r\nimport {IAppState} from \"../models/state/configure\";\r\nimport {System} from \"../models/system\";\r\n\r\n@Pipe({name: 'keys'})\r\nexport class KeysPipe implements PipeTransform {\r\n    transform(value, args: string[]): any {\r\n        let keys = [];\r\n        for (let key in value) {\r\n            //noinspection JSUnfilteredForInLoop\r\n            keys.push(key);\r\n        }\r\n        return keys;\r\n    }\r\n}\r\n\r\n@Pipe({name: 'reverse'})\r\nexport class ReversePipe implements PipeTransform {\r\n    transform(value, args: string[]): any {\r\n        return value.slice().reverse();\r\n    }\r\n}\r\n\r\n@Pipe({name: 'temp'})\r\nexport class TempPipe implements PipeTransform {\r\n    constructor(public  ngRedux: NgRedux<IAppState>) {\r\n    }\r\n\r\n    transform(value, args: string[]): any {\r\n        let system: System = this.ngRedux.getState().system.system;\r\n        if (system.isCelsius == false) {\r\n            return celciusToF(value);\r\n        }\r\n        return value;\r\n    }\r\n}\r\n\r\n// Shows mm:ss for a duration, assuming starting at zero (in seconds)\r\n@Pipe({name: 'duration'})\r\nexport class DurationPipe implements PipeTransform {\r\n    transform(value, args: string[]): any {\r\n        // Expecting seconds\r\n        if (isNaN(value)) {\r\n            return \"00:00\";\r\n        }\r\n        let minutes = Math.floor(Number(value) / 60);\r\n        let seconds = value % 60;\r\n        return sprintf(\"%02d:%02d\", minutes, seconds);\r\n    }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/pipes.ts","import {Component, Input, trigger, state, style, transition, animate} from \"@angular/core\";\r\nimport {iChargerService} from \"../../services/icharger.service\";\r\nimport {Channel} from \"../../models/channel\";\r\nimport {ActionSheetController, NavController, ToastController} from \"ionic-angular\";\r\nimport {ChargeOptionsPage} from \"../../pages/charge-options/charge-options\";\r\nimport {Preset} from \"../../models/preset-class\";\r\nimport {IChargerState} from \"../../models/state/reducers/charger\";\r\nimport {Observable} from \"rxjs/Observable\";\r\nimport {Subscription} from \"rxjs/Subscription\";\r\n\r\nenum ChannelDisplay {\r\n    ChannelDisplayNothingPluggedIn,\r\n    ChannelDisplayShowCellVolts,\r\n    ChannelDisplayShowIR,\r\n}\r\n\r\nenum Operation {\r\n    Charge = 0,\r\n    Storage = 1,\r\n    Discharge = 2,\r\n    Cycle = 3,\r\n    Balance = 4\r\n}\r\n\r\n@Component({\r\n    selector: 'channel',\r\n    templateUrl: 'channel.html',\r\n    animations: [\r\n        trigger('flip', [\r\n            state('flipped', style({\r\n                transform: 'rotate(180deg)',\r\n                backgroundColor: 'red'\r\n            })),\r\n            transition('* => flipped', animate('400ms ease'))\r\n        ]),\r\n\r\n        trigger('fade', [\r\n            transition(':enter', [\r\n                style({opacity: 0}),\r\n                animate(500, style({opacity: 1}))\r\n            ]),\r\n            transition(':leave', [\r\n                style({opacity: 1}),\r\n                animate(500, style({opacity: 0}))\r\n            ])\r\n        ])\r\n    ]\r\n})\r\nexport class ChannelComponent {\r\n    public channelMode: number = ChannelDisplay.ChannelDisplayNothingPluggedIn;\r\n\r\n    @Input() charger?: IChargerState;\r\n    @Input() index: number;\r\n    @Input() name: string;\r\n\r\n    private firstTime: boolean;\r\n    private measureIRObservable: Subscription;\r\n\r\n    constructor(public chargerService: iChargerService,\r\n                public navCtrlr: NavController,\r\n                public toastController: ToastController,\r\n                public actionController: ActionSheetController) {\r\n        this.channelMode = ChannelDisplay.ChannelDisplayNothingPluggedIn;\r\n        this.firstTime = true;\r\n    }\r\n\r\n    getChannelMode() {\r\n        return this.channelMode;\r\n    }\r\n\r\n    showCellVoltage() {\r\n        this.channelMode = ChannelDisplay.ChannelDisplayShowCellVolts;\r\n    }\r\n\r\n    showOperationPage(title: string, operation: Operation, showCapacityAndC: boolean, charging: boolean, selectionCallback: (preset: Preset) => void) {\r\n        this.navCtrlr.push(ChargeOptionsPage, {\r\n            title: title,\r\n            charging: charging,\r\n            showCapacityAndC: showCapacityAndC,\r\n            channel: this.channel,\r\n            callback: selectionCallback\r\n        });\r\n    }\r\n\r\n    showMeasureIR() {\r\n        this.chargerService.measureIR(this.channel).subscribe((result) => {\r\n            console.log(\"Measure IR done. Result: \", result);\r\n        });\r\n        this.channelMode = ChannelDisplay.ChannelDisplayShowIR;\r\n\r\n        // Monitor the IR. When we see some amps for a short period of time, auto stop the operation\r\n        this.measureIRObservable = Observable.timer(1000, 1000).takeWhile(t => {\r\n            let less_than_one_amp = Math.abs(this.channel.output_amps) < 1.0;\r\n            console.log(\"At: \", this.channel.output_amps, \"ltoa: \", less_than_one_amp);\r\n            return less_than_one_amp;\r\n        }).subscribe(r => {\r\n        }, e => {\r\n        }, () => {\r\n            console.log(\"Stopping discharge because Measure IR has seen some amps\");\r\n            this.measureIRObservable = null;\r\n            this.stopCurrentTask();\r\n        });\r\n    }\r\n\r\n    returnToShowingCellVolts(event) {\r\n        // this.measureIRObservable == null means: if we're done with the measurement\r\n        if (this.measureIRObservable == null) {\r\n            event.srcEvent.stopPropagation();\r\n            this.showCellVoltage();\r\n        }\r\n    }\r\n\r\n\r\n    startOperation(preset: Preset, operation: Operation, named: string) {\r\n        console.log(\"Begin \", named, \" on channel \", this.channel.index, \" using \", preset.name);\r\n        let handler = (resp) => {\r\n            console.log(\"Started \", named, \" on channel \" + this.channel.index + \", using preset: \" + preset.name);\r\n            console.log(\"Response: \", resp);\r\n        };\r\n\r\n        this.channel.lastUserCommand = named;\r\n        switch (operation) {\r\n            case Operation.Charge:\r\n                this.chargerService.startCharge(this.channel, preset).subscribe(handler);\r\n                break;\r\n            case Operation.Discharge:\r\n                this.chargerService.startDischarge(this.channel, preset).subscribe(handler);\r\n                break;\r\n            case Operation.Storage:\r\n                this.chargerService.startStore(this.channel, preset).subscribe(handler);\r\n                break;\r\n            case Operation.Balance:\r\n                this.chargerService.startBalance(this.channel, preset).subscribe(handler);\r\n                break;\r\n            default:\r\n                console.log(\"Um. Dunno what to do here, with operation \", operation, \" named '\", named, \"'\");\r\n        }\r\n    }\r\n\r\n    startCharge(preset: Preset) {\r\n        this.startOperation(preset, Operation.Charge, \"Charge\");\r\n    }\r\n\r\n    startDischarge(preset: Preset) {\r\n        this.startOperation(preset, Operation.Discharge, \"Discharge\");\r\n    }\r\n\r\n    startStore(preset: Preset) {\r\n        this.startOperation(preset, Operation.Storage, \"Store\");\r\n    }\r\n\r\n    startBalance(preset: Preset) {\r\n        this.startOperation(preset, Operation.Balance, \"Balance\");\r\n    }\r\n\r\n    stopCurrentTask() {\r\n        this.channel.maybeClearLastUsedCommand(true);\r\n        this.chargerService.stopCurrentTask(this.channel).subscribe((resp) => {\r\n            console.log(\"Stopped!\")\r\n        });\r\n    }\r\n\r\n    showChargerActions() {\r\n        if (!this.channel.packAndBalanceConnected) {\r\n            // console.debug(\"Channel json: \", this.channel.json);\r\n            let toast = this.toastController.create({\r\n                'message': \"Pack not plugged in.\",\r\n                'cssClass': 'redToast',\r\n                'position': 'bottom',\r\n                'duration': 2000,\r\n            });\r\n            toast.present();\r\n            return;\r\n        }\r\n\r\n        // this.channelMode++;\r\n        // if (this.channelMode > ChannelDisplay.ChannelDisplayShowOptions) {\r\n        //     this.channelMode = ChannelDisplay.ChannelDisplayShowCellVolts;\r\n        // }\r\n        //\r\n        // // Store the master height (the height of the cells).\r\n        // // We want other panels to have this same height as a minimum\r\n        // let elementById = document.getElementById(\"master\");\r\n        // if (elementById) {\r\n        //     this.masterHeight = elementById.offsetHeight;\r\n        // }\r\n        //\r\n        // console.log(\"Switch mode to \", this.channelMode);\r\n\r\n        if (this.channel.isChargeRunning) {\r\n            let alert = this.actionController.create({\r\n                'title': 'Channel ' + (this.index + 1),\r\n                buttons: [\r\n                    {\r\n                        text: 'Stop',\r\n                        role: 'destructive',\r\n                        handler: () => {\r\n                            this.stopCurrentTask();\r\n                        }\r\n                    },\r\n                    {\r\n                        text: 'Cancel',\r\n                        role: 'cancel',\r\n                        handler: () => {\r\n                        }\r\n                    }\r\n                ]\r\n            });\r\n            alert.present();\r\n        } else {\r\n            let alert = this.actionController.create({\r\n                'title': 'Channel ' + (this.index + 1),\r\n                buttons: [\r\n                    {\r\n                        text: 'Charge',\r\n                        role: 'destructive',\r\n                        handler: () => {\r\n                            this.showOperationPage(\"Charge\", Operation.Discharge, true, true, (preset => {\r\n                                if (preset) {\r\n                                    this.startCharge(preset);\r\n                                }\r\n                            }));\r\n                        }\r\n                    },\r\n                    {\r\n                        text: 'Store',\r\n                        handler: () => {\r\n                            this.showOperationPage(\"Store\", Operation.Storage, false, true, (preset => {\r\n                                if (preset) {\r\n                                    this.startStore(preset);\r\n                                }\r\n                            }));\r\n                        }\r\n                    },\r\n                    {\r\n                        text: 'Discharge',\r\n                        handler: () => {\r\n                            this.showOperationPage(\"Discharge\", Operation.Discharge, false, false, (preset => {\r\n                                if (preset) {\r\n                                    this.startDischarge(preset);\r\n                                }\r\n                            }));\r\n                        }\r\n                    },\r\n                    {\r\n                        text: 'Balance Only',\r\n                        handler: () => {\r\n                            this.showOperationPage(\"Balance\", Operation.Balance, false, false, (preset => {\r\n                                if (preset) {\r\n                                    this.startBalance(preset);\r\n                                }\r\n                            }));\r\n                        }\r\n                    },\r\n                    {\r\n                        text: 'Measure IR',\r\n                        handler: () => {\r\n                            this.showMeasureIR();\r\n                        }\r\n                    },\r\n                    {\r\n                        text: 'Cancel',\r\n                        role: 'cancel',\r\n                        handler: () => {\r\n                        }\r\n                    }\r\n                ]\r\n            });\r\n            alert.present()\r\n        }\r\n\r\n    }\r\n\r\n    ionViewDidLoad() {\r\n        console.log(\"View is initialized\");\r\n    }\r\n\r\n    ngOnDestroy() {\r\n    }\r\n\r\n    unsubscribeFromChannel() {\r\n    }\r\n\r\n    get channel(): Channel {\r\n        return this.charger.channels[this.index];\r\n    }\r\n\r\n    ngOnChanges(changes) {\r\n        if (this.channel) {\r\n            if (this.channelMode == ChannelDisplay.ChannelDisplayNothingPluggedIn) {\r\n                this.channelMode = ChannelDisplay.ChannelDisplayShowCellVolts;\r\n            }\r\n            // DEBUG:\r\n            if (this.firstTime && this.index == 0) {\r\n                this.firstTime = false;\r\n                // this.showMeasureIR();\r\n            }\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/channel/channel.ts","import {Component, Input} from '@angular/core';\r\nimport {IChargerState} from \"../../models/state/reducers/charger\";\r\nimport {IConfig} from \"../../models/state/reducers/configuration\";\r\nimport {ISystem} from \"../../models/state/reducers/system\";\r\nimport {System} from \"../../models/system\";\r\n\r\n@Component({\r\n    selector: 'charger-status',\r\n    templateUrl: 'charger-status.html'\r\n})\r\nexport class ChargerStatusComponent {\r\n\r\n    @Input() system: ISystem;\r\n    @Input() charger: IChargerState;\r\n\r\n    constructor() {\r\n    }\r\n\r\n    unitOfMeasure() {\r\n        return System.unitsOfMeasure(this.system.system.isCelsius);\r\n    }\r\n\r\n    tempAtWarningLevel(): boolean {\r\n        return this.charger.charger_temp >= 48.0;\r\n    }\r\n\r\n    tempAtEmergencyLevel(): boolean {\r\n        return this.charger.charger_temp >= 50.0;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/charger-status/charger-status.ts","import {Directive, OnInit, OnChanges, Optional, Host, SkipSelf, Input} from \"@angular/core\";\r\nimport {ControlContainer, AbstractControl, FormGroup} from \"@angular/forms\";\r\n\r\n@Directive({\r\n    selector: '[formControlName][dynamicDisable]'\r\n})\r\nexport class DynamicDisable implements OnInit, OnChanges {\r\n    constructor(@Optional() @Host() @SkipSelf() private parent: ControlContainer,) {\r\n\r\n    }\r\n\r\n\r\n    @Input() formControlName: string;\r\n    // @Input() dynamicDisable: boolean;\r\n\r\n    _dynamicDisable: boolean;\r\n    @Input('dynamicDisable')\r\n    set dynamicDisable(value: boolean) {\r\n        this._dynamicDisable = value;\r\n        console.log(\"thing is now disabled: \", this._dynamicDisable);\r\n    }\r\n\r\n    get dynamicDisable(): boolean {\r\n        return this._dynamicDisable;\r\n    }\r\n\r\n    private ctrl: AbstractControl;\r\n\r\n    ngOnInit() {\r\n        if (this.parent && this.parent[\"form\"]) {\r\n            this.ctrl = (<FormGroup>this.parent[\"form\"]).get(this.formControlName);\r\n        }\r\n    }\r\n\r\n    ngOnChanges() {\r\n        if (!this.ctrl) return;\r\n\r\n        if (this.dynamicDisable) {\r\n            this.ctrl.disable();\r\n        }\r\n        else {\r\n            this.ctrl.enable();\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils/directives.ts","import {Component} from \"@angular/core\";\r\nimport {NavController, Platform, ToastController} from \"ionic-angular\";\r\nimport {iChargerService} from \"../../services/icharger.service\";\r\nimport {NgRedux} from \"@angular-redux/store\";\r\nimport {IAppState} from \"../../models/state/configure\";\r\nimport {isDefined} from \"ionic-angular/util/util\";\r\n\r\n@Component({\r\n    selector: 'connection-state',\r\n    templateUrl: 'connection-state.html'\r\n})\r\nexport class ConnectionStateComponent {\r\n    /*\r\n    Don't ever set this to nil, let the GC do it. Otherwise, you'll have race conditions when the alert is closed by the user.\r\n    The framework looks to be still holding onto it (well, trying to) and if you set it to nil, it seems to do some cleanup, yet STILL be referenced by the f/work later.\r\n    i.e: BOOM. So Just Don't.\r\n     */\r\n    private generalAlert;\r\n    private alertHasBeenPresented: boolean;\r\n    private alertShownBecauseOfConnectionError: boolean = false;\r\n    private lastConnectionFailureCount: number = 0;\r\n    private haveAlertObject = false;\r\n\r\n    constructor(public platform: Platform,\r\n                public charger: iChargerService,\r\n                public ngRedux: NgRedux<IAppState>,\r\n                public toastController: ToastController) {\r\n\r\n        // Listen for changes to the exception, and do something with the UI\r\n        this.ngRedux.select(['ui', 'exception']).subscribe((message: string) => {\r\n            if (isDefined(message)) {\r\n                if (message) {\r\n                    this.showGeneralError(message, true);\r\n                }\r\n            }\r\n        });\r\n\r\n        this.ngRedux.select(['ui', 'disconnectionErrorCount']).subscribe((thing) => {\r\n            let uiState = this.ngRedux.getState().ui;\r\n            if (uiState.disconnected) {\r\n                this.incrementDisconnectionCount();\r\n            } else {\r\n                this.serverReconnected();\r\n            }\r\n        });\r\n    }\r\n\r\n    get connectionFailureCount(): number {\r\n        return this.ngRedux.getState().ui.disconnectionErrorCount;\r\n    }\r\n\r\n    dismissAlertMessage(wasDismissedByUser = false) {\r\n        if (this.haveAlertObject) {\r\n            // Code is calling this to dismiss the current alert programmatically.\r\n            this.generalAlert.dismiss().then(() => {\r\n                this.haveAlertObject = false;\r\n            });\r\n        }\r\n    }\r\n\r\n    // Server is back. Clear down the current alert if we were responsible for it.\r\n    serverReconnected() {\r\n        if (this.alertShownBecauseOfConnectionError) {\r\n            this.dismissAlertMessage();\r\n            this.alertShownBecauseOfConnectionError = false;\r\n        }\r\n    }\r\n\r\n    showGeneralError(message: string, allowCreation = false) {\r\n        if (message == null) {\r\n            message = 'Unknown problem?!'\r\n        }\r\n\r\n        if (!this.haveAlertObject && allowCreation) {\r\n            this.alertHasBeenPresented = false;\r\n            this.alertShownBecauseOfConnectionError = false;\r\n            this.generalAlert = this.toastController.create({\r\n                'message': message,\r\n                'cssClass': 'redToast',\r\n                'position': 'bottom',\r\n                'showCloseButton': true,\r\n                'closeButtonText': 'Dismiss'\r\n            });\r\n\r\n            this.generalAlert.onDidDismiss(() => {\r\n                // Clear the alert... but don't let another show up if the connection errors continue\r\n                this.haveAlertObject = false;\r\n            });\r\n\r\n            this.haveAlertObject = true;\r\n        }\r\n\r\n        if (this.haveAlertObject) {\r\n            if (this.generalAlert != null) {\r\n                this.generalAlert.setMessage(message);\r\n\r\n                if (!this.alertHasBeenPresented) {\r\n                    this.generalAlert.present().then(() => {\r\n                        this.alertHasBeenPresented = true;\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private incrementDisconnectionCount() {\r\n        this.lastConnectionFailureCount = this.connectionFailureCount;\r\n\r\n        // If we get to three, begin showing the dialog.\r\n        let message = 'Reconnecting (' + this.connectionFailureCount + ')';\r\n        let numberOfWarningsToSkip = 2;\r\n        if (this.connectionFailureCount == numberOfWarningsToSkip) {\r\n            // Show a new warning. Low failure counts mean \"new connection failure\".\r\n            this.showGeneralError(message, true);\r\n            this.alertShownBecauseOfConnectionError = true;\r\n        } else {\r\n            // This will update the message, but it won't show a NEW message if that has already been dismissed\r\n            this.showGeneralError(message);\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/connection-state/connection-state.ts","import {ChannelVoltsComponent} from \"./channel-volts\";\r\nimport {Component, Input, Output, EventEmitter} from \"@angular/core\";\r\nimport {Channel} from \"../../models/channel\";\r\n\r\n@Component({\r\n    selector: 'channel-ir',\r\n    templateUrl: 'channel-ir.html'\r\n})\r\nexport class ChannelIRComponent extends ChannelVoltsComponent {\r\n    @Input() channel: Channel;\r\n    @Input() index: number;\r\n\r\n    @Output() back = new EventEmitter();\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    goBack() {\r\n        this.back.next();\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/channel-volts/channel-ir.ts","import { Component } from '@angular/core';\r\n\r\nimport { NavController } from 'ionic-angular';\r\n\r\n@Component({\r\n  selector: 'page-contact',\r\n  templateUrl: 'contact.html'\r\n})\r\nexport class ContactPage {\r\n\r\n  constructor(public navCtrl: NavController) {\r\n\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/contact/contact.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\n\r\n/*\r\n  Generated class for the PresetBalance page.\r\n\r\n  See http://ionicframework.com/docs/v2/components/#navigation for more info on\r\n  Ionic pages and navigation.\r\n*/\r\n@Component({\r\n  selector: 'page-preset-balance',\r\n  templateUrl: 'preset-balance.html'\r\n})\r\nexport class PresetBalancePage {\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams) {}\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad PresetBalancePage');\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/preset-balance/preset-balance.ts","import {Component} from \"@angular/core\";\r\nimport {HomePage} from \"../home/home\";\r\nimport {ConfigPage} from \"../config/config-page\";\r\n\r\n@Component({\r\n  templateUrl: 'tabs.html'\r\n})\r\nexport class TabsPage {\r\n  // this tells the tabs component which Pages\r\n  // should be each tab's root Page\r\n  tab1Root: any = HomePage;\r\n  tab2Root: any = ConfigPage;\r\n\r\n  public constructor() {\r\n\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n  }\r\n\r\n  startingTab() {\r\n    return 0;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts","export class System {\r\n    public static CELSIUS: string = \"C\";\r\n    public static FARENHEIGHT: string = \"F\";\r\n\r\n    static unitsOfMeasure(celcius: boolean): string {\r\n        if (celcius) {\r\n            return System.CELSIUS;\r\n        }\r\n        return System.FARENHEIGHT;\r\n    }\r\n\r\n    constructor(private data: {}) {\r\n    }\r\n\r\n    clone(): System {\r\n        let system: System = new System({});\r\n        for (let k in this.data) {\r\n            system.data[k] = this.data[k];\r\n        }\r\n        return system;\r\n    }\r\n\r\n    json() {\r\n        return JSON.stringify(this.data);\r\n    }\r\n\r\n    get isCelsius(): boolean {\r\n        return this.data['temp_unit'] == 'C';\r\n    }\r\n\r\n    set isCelsius(value: boolean) {\r\n        this.data['temp_unit'] = value ? 'C' : 'F';\r\n    }\r\n\r\n    get temp_shutdown(): number {\r\n        return this.data['temp_stop'];\r\n    }\r\n\r\n    set temp_shutdown(value: number) {\r\n        this.data['temp_stop'] = +value;\r\n    }\r\n\r\n    get temp_power_reduce(): number {\r\n        return -this.data['temp_reduce'] / 10.0;\r\n    }\r\n\r\n    set temp_power_reduce(value: number) {\r\n        this.data['temp_reduce'] = value * -10.0;\r\n    }\r\n\r\n    get temp_fans_on(): number {\r\n        return this.data['temp_fans_on'];\r\n    }\r\n\r\n    set temp_fans_on(value: number) {\r\n        this.data['temp_fans_on'] = +value;\r\n    }\r\n\r\n    get fans_off_time(): number {\r\n        return this.data['fans_off_delay'];\r\n    }\r\n\r\n    set fans_off_time(value: number) {\r\n        this.data['fans_off_delay'] = +value;\r\n    }\r\n\r\n    get unitsOfMeasure(): string {\r\n        if (this.isCelsius) {\r\n            return \"C\";\r\n        }\r\n        return \"F\";\r\n    }\r\n\r\n    get brightness(): number {\r\n        return this.data['lcd_brightness'];\r\n    }\r\n\r\n    set brightness(value: number) {\r\n        this.data['lcd_brightness'] = +value;\r\n    }\r\n\r\n    get contrast(): number {\r\n        return this.data['lcd_contrast'];\r\n    }\r\n\r\n    set contrast(value: number) {\r\n        this.data['lcd_contrast'] = +value;\r\n    }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/system.ts","import {createLogger} from 'redux-logger';\r\nimport {DevToolsExtension, NgRedux} from \"@angular-redux/store\";\r\nimport {combineReducers} from \"redux\";\r\nimport {configReducer, IConfig} from \"./reducers/configuration\";\r\nimport {chargerStateReducer, IChargerState} from \"./reducers/charger\";\r\nimport {IUIState, uiReducer} from \"./reducers/ui\";\r\nimport {ChargerActions} from \"./actions/charger\";\r\nimport {ConfigurationEpics} from \"./epics/configuration\";\r\nimport {createEpicMiddleware} from \"redux-observable\";\r\nimport {environmentFactory} from \"../../app/environment/environment-variables.module\";\r\nimport {ISystem, systemReducer} from \"./reducers/system\";\r\n\r\nexport interface IAppState {\r\n    config: IConfig;\r\n    charger: IChargerState;\r\n    system: ISystem;\r\n    ui: IUIState\r\n}\r\n\r\nlet reducers = combineReducers<IAppState>({\r\n    config: configReducer,\r\n    charger: chargerStateReducer,\r\n    system: systemReducer,\r\n    ui: uiReducer,\r\n});\r\n\r\nlet enhancers = [];\r\n\r\nexport const configureAppStateStore = (ngRedux: NgRedux<IAppState>,\r\n                                       configEpic: ConfigurationEpics,\r\n                                       devTools: DevToolsExtension) => {\r\n        let actionsBlacklist: Array<string> = [\r\n            ChargerActions.UPDATE_STATE_FROM_CHARGER,\r\n        ];\r\n\r\n        // Insert the epic middleware first.\r\n        let middleware = [];\r\n        middleware.push(createEpicMiddleware(configEpic.configChanged));\r\n        // middleware.push(createEpicMiddleware(configEpic.fetchSystem));\r\n\r\n        // Add logger if in development (web browsers)\r\n\r\n        let environment = environmentFactory();\r\n        if (environment.logging) {\r\n            console.log(\"Adding in state logging...\");\r\n            middleware.push(createLogger({\r\n                predicate: (getState, action) => {\r\n                    // Don't show certain charger actions\r\n                    return actionsBlacklist.indexOf(action.type) == -1;\r\n                }\r\n            }));\r\n        }\r\n\r\n        if (environment.ionicEnvName == \"dev\") {\r\n            if (window.navigator.userAgent.includes('Chrome')) {\r\n                console.log(\"Adding in chrome redux devtools ...\");\r\n                if (devTools.isEnabled()) {\r\n                    // Don't show certain charger actions\r\n                    let options = {\r\n                        actionsBlacklist: actionsBlacklist\r\n                    };\r\n                    enhancers.push(devTools.enhancer(options));\r\n                }\r\n            }\r\n        }\r\n\r\n        ngRedux.configureStore(reducers, <IAppState>{}, middleware, enhancers);\r\n\r\n    }\r\n;\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/state/configure.ts","import {AnyAction, Reducer} from \"redux\";\r\nimport {ConfigurationActions} from \"../actions/configuration\";\r\n\r\nexport interface IChargeSettings {\r\n    wantedChargeRateInC: number,\r\n    capacity: number,\r\n    numPacks: number,\r\n    chemistryFilter: string,\r\n    chargeMethod: string\r\n\r\n    // Synthetics\r\n    channelLimitReached: boolean;\r\n    ampsForWantedChargeRate: number;\r\n    safeAmpsForWantedChargeRate: number;\r\n}\r\n\r\nexport interface IConfig {\r\n    ipAddress: string,\r\n    port: number,\r\n    isnew: boolean,\r\n    cellLimit: number,\r\n    preventChargerVerticalScrolling: boolean,\r\n    mockCharger: boolean,\r\n    vibrateWhenDone: boolean,\r\n    notificationWhenDone: boolean,\r\n\r\n    charge_settings: IChargeSettings;\r\n}\r\n\r\nconst chargerDefaults: IChargeSettings = {\r\n    wantedChargeRateInC: 1,\r\n    capacity: 2000,\r\n    numPacks: 4,\r\n    chemistryFilter: \"All\",\r\n    chargeMethod: \"presets\",\r\n\r\n    // Synthetics\r\n    channelLimitReached: false,\r\n    ampsForWantedChargeRate: 0,\r\n    safeAmpsForWantedChargeRate: 0\r\n};\r\n\r\nexport const configurationDefaults: IConfig = {\r\n    ipAddress: \"localhost\",\r\n    port: 5000,\r\n    isnew: true,\r\n    cellLimit: -1,\r\n    preventChargerVerticalScrolling: true,\r\n    mockCharger: false,\r\n    vibrateWhenDone: false,\r\n    notificationWhenDone: false,\r\n\r\n    charge_settings: chargerDefaults\r\n};\r\n\r\n\r\nexport const\r\n    configReducer: Reducer<IConfig> = (state: IConfig = configurationDefaults, action: AnyAction): IConfig => {\r\n        switch (action.type) {\r\n            case ConfigurationActions.SET_FULL_CONFIG:\r\n                if (action.payload) {\r\n                    return action.payload;\r\n                } else {\r\n                    return state;\r\n                }\r\n\r\n            case ConfigurationActions.RESET_TO_DEFAULTS:\r\n                return configurationDefaults;\r\n\r\n            case ConfigurationActions.UPDATE_CHARGE_CONFIG_KEYVALUE:\r\n                if (action.payload) {\r\n                    let maxAmpsPerChannel = action.maxAmpsPerChannel;\r\n                    let new_charge_settings: IChargeSettings = {\r\n                        ...state.charge_settings,\r\n                        ...action.payload\r\n                    };\r\n\r\n                    new_charge_settings.ampsForWantedChargeRate = new_charge_settings.numPacks * (new_charge_settings.capacity / 1000) * new_charge_settings.wantedChargeRateInC;\r\n                    new_charge_settings.safeAmpsForWantedChargeRate = Math.min(new_charge_settings.ampsForWantedChargeRate, maxAmpsPerChannel);\r\n                    new_charge_settings.channelLimitReached = new_charge_settings.ampsForWantedChargeRate > maxAmpsPerChannel;\r\n\r\n                    return {\r\n                        ...state,\r\n                        ...{charge_settings: new_charge_settings}\r\n                    }\r\n                }\r\n                return state;\r\n\r\n            case ConfigurationActions.UPDATE_CONFIG_KEYVALUE:\r\n                if (action.payload) {\r\n                    return {\r\n                        ...state,\r\n                        ...action.payload\r\n                    }\r\n                }\r\n                return state;\r\n        }\r\n\r\n        return state;\r\n    };\n\n\n// WEBPACK FOOTER //\n// ./src/models/state/reducers/configuration.ts","import {AnyAction, Reducer} from \"redux\";\r\nimport {ChargerActions} from \"../actions/charger\";\r\nimport {Channel} from \"../../channel\";\r\nimport {UIActions} from \"../actions/ui\";\r\n\r\nexport interface IChargerState {\r\n    charger_presence: string;\r\n    cell_count: number;\r\n    channel_count: number;\r\n    device_id: number;\r\n    device_sn: string;\r\n    memory_len: number;\r\n    software_ver: number;\r\n    channels: Array<Channel>;\r\n\r\n    // Synthetic state, summed from the channels\r\n    total_output_amps: number;\r\n    total_capacity: number;\r\n    input_volts: number;\r\n    charger_temp: number;\r\n}\r\n\r\nlet defaultStatus: IChargerState = {\r\n    charger_presence: \"unknown\",\r\n    cell_count: 8,\r\n    channel_count: 2,\r\n    device_id: 0,\r\n    device_sn: \"\",\r\n    memory_len: 0,\r\n    software_ver: 0,\r\n    channels: [],\r\n\r\n    // Synthetic state, summed from the channels\r\n    total_output_amps: 0,\r\n    total_capacity: 0,\r\n    input_volts: 0,\r\n    charger_temp: 0\r\n};\r\n\r\nexport const\r\n    chargerStateReducer: Reducer<IChargerState> = (state: IChargerState, action: AnyAction): IChargerState => {\r\n        if (state == null) {\r\n            return defaultStatus;\r\n        }\r\n        switch (action.type) {\r\n            case ChargerActions.UPDATE_STATE_FROM_CHARGER:\r\n                let unifiedStatus = action.payload;\r\n\r\n                let newState: IChargerState = {\r\n                    ...state,\r\n                    ...unifiedStatus['status']\r\n                };\r\n\r\n                // Synthetic.\r\n                newState.channel_count = 0;\r\n\r\n                // \"sum\" the channel state :)\r\n                newState.total_output_amps = 0;\r\n                newState.total_capacity = 0;\r\n                newState.input_volts = 0;\r\n                newState.charger_temp = 0;\r\n\r\n                let channels = [];\r\n                if ('channels' in unifiedStatus) {\r\n                    unifiedStatus.channels.map((json, index) => {\r\n                        let ch = new Channel(index, json, action.cellLimit);\r\n                        channels.push(ch);\r\n\r\n                        newState.total_output_amps += ch.output_amps;\r\n                        newState.total_capacity += ch.output_capacity;\r\n\r\n                        // Copy the volts + temp\r\n                        if (index == 0) {\r\n                            newState.input_volts = ch.input_volts;\r\n                            newState.charger_temp = ch.charger_internal_temp;\r\n                        }\r\n                    });\r\n                    newState.channel_count = channels.length;\r\n                }\r\n                newState.channels = channels;\r\n                return newState;\r\n        }\r\n        return state;\r\n    };\n\n\n// WEBPACK FOOTER //\n// ./src/models/state/reducers/charger.ts","import {AnyAction, Reducer} from \"redux\";\r\nimport {UIActions} from \"../actions/ui\";\r\nimport {error} from \"util\";\r\n\r\nexport interface IUIState {\r\n    exception: string;\r\n    details: string;\r\n    disconnected: boolean;\r\n    disconnectionErrorCount: number;\r\n}\r\n\r\nlet defaultUIState: IUIState = {\r\n    exception: null,\r\n    details: null,\r\n    disconnected: true,\r\n    disconnectionErrorCount: 0,\r\n};\r\n\r\nexport const\r\n    uiReducer: Reducer<IUIState> = (state: IUIState, action: AnyAction): IUIState => {\r\n        if (state == null) {\r\n            return defaultUIState;\r\n        }\r\n\r\n        switch (action.type) {\r\n            case UIActions.SERVER_RECONNECTED:\r\n                return {\r\n                    ...defaultUIState,\r\n                    disconnected: false,\r\n                    disconnectionErrorCount: 0\r\n                };\r\n\r\n            case UIActions.SERVER_DISCONNECTED:\r\n                let nextErrorCount = state.disconnectionErrorCount + 1;\r\n                return {\r\n                    ...defaultUIState,\r\n                    disconnected: true,\r\n                    disconnectionErrorCount: nextErrorCount\r\n                };\r\n\r\n            case UIActions.SET_EXCEPTION_FROM_ERROR:\r\n                let errorObject: Error = action.payload;\r\n                let errorMessage = errorObject.message ? errorObject.message : errorObject.toString();\r\n\r\n                let details = [];\r\n                if (errorObject.name) {\r\n                    details.push(name);\r\n                }\r\n                let detail = details.join(\", \");\r\n\r\n                return {\r\n                    ...state,\r\n                    exception: errorMessage,\r\n                    disconnected: action.disconnected,\r\n                    disconnectionErrorCount: 0,\r\n                    details: detail\r\n                };\r\n\r\n\r\n            case UIActions.SET_EXCEPTION_MESSAGE:\r\n                let message = action.payload;\r\n                return {\r\n                    ...state,\r\n                    exception: message,\r\n                    disconnected: action.disconnected,\r\n                    details: null\r\n                };\r\n        }\r\n\r\n        return state;\r\n    };\n\n\n// WEBPACK FOOTER //\n// ./src/models/state/reducers/ui.ts","import {System} from \"../../system\";\r\nimport {AnyAction, Reducer} from \"redux\";\r\nimport {SystemActions} from \"../actions/system\";\r\n\r\nexport interface ISystem {\r\n    fetching: boolean;\r\n    system: System;\r\n}\r\n\r\nlet defaultSystemState: ISystem = {\r\n    fetching: false,\r\n    system: new System({\r\n        'temp_unit': 'C'\r\n    })\r\n};\r\n\r\nexport const\r\n    systemReducer: Reducer<ISystem> = (state: ISystem = defaultSystemState, action: AnyAction): ISystem => {\r\n        switch (action.type) {\r\n            case SystemActions.START_FETCH:\r\n            case SystemActions.FETCH_SYSTEM:\r\n                return {\r\n                    ...state,\r\n                    fetching: true\r\n                };\r\n\r\n            case SystemActions.UPDATE_SETTINGS_VALUE:\r\n                let newSettings = {\r\n                    ...state.system,\r\n                    ...action.payload\r\n                };\r\n                return {\r\n                    ...state,\r\n                    system: newSettings\r\n                };\r\n\r\n            case SystemActions.END_FETCH:\r\n                return {\r\n                    ...state,\r\n                    system: action.payload,\r\n                    fetching: false\r\n                }\r\n        }\r\n        return state;\r\n    };\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/state/reducers/system.ts","import {Injectable} from \"@angular/core\";\r\nimport {ConfigStoreProvider} from \"../../../providers/config-store/config-store\";\r\nimport {ConfigurationActions} from \"../actions/configuration\";\r\nimport {NgRedux} from \"@angular-redux/store\";\r\nimport {IAppState} from \"../configure\";\r\nimport {SystemActions} from \"../actions/system\";\r\nimport {iChargerService} from \"../../../services/icharger.service\";\r\n\r\n@Injectable()\r\nexport class ConfigurationEpics {\r\n    constructor(private configStore: ConfigStoreProvider,\r\n                private systemActions: SystemActions,\r\n                private chargerService: iChargerService,\r\n                private ngRedux: NgRedux<IAppState>) {\r\n\r\n    }\r\n\r\n    // fetchSystem = (action$) => {\r\n    //     return action$.ofType(\r\n    //         SystemActions.FETCH_SYSTEM\r\n    //     )\r\n    //         .mergeMap((payload) => {\r\n    //             return this.chargerService.getSystem().map(system => {\r\n    //                 return this.actions.endFetchAction(system);\r\n    //             })\r\n    //         });\r\n    // };\r\n\r\n    configChanged = (action$) => {\r\n        return action$.ofType(\r\n            ConfigurationActions.UPDATE_CONFIG_KEYVALUE,\r\n            ConfigurationActions.UPDATE_CHARGE_CONFIG_KEYVALUE,\r\n            ConfigurationActions.RESET_TO_DEFAULTS,\r\n        )\r\n            .debounceTime(1000)\r\n            .mergeMap((payload) => {\r\n                let config = this.ngRedux.getState()['config'];\r\n                return this.configStore.saveConfiguration(config).map(r => {\r\n                    return {\r\n                        type: ConfigurationActions.CONFIG_SAVED_TO_STORE,\r\n                    }\r\n                });\r\n            });\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/state/epics/configuration.ts","import {Component} from \"@angular/core\";\r\nimport {NavController, NavParams} from \"ionic-angular\";\r\nimport {BalanceEndCondition, ChemistryType, LipoBalanceType, Preset} from \"../../models/preset-class\";\r\nimport {FormBuilder} from \"@angular/forms\";\r\nimport {celciusToF} from '../../utils/helpers'\r\nimport * as _ from \"lodash\";\r\nimport {System} from \"../../models/system\";\r\n\r\nexport class PresetBasePage {\r\n    public preset: Preset;\r\n\r\n    constructor(public navCtrl: NavController,\r\n                public navParams: NavParams) {\r\n        this.preset = navParams.data;\r\n    }\r\n\r\n    public safetyTempOptions() {\r\n        let list = [];\r\n        for (let num = 200; num < 800; num += 5) {\r\n            let celcius = (num / 10);\r\n            let farenheight = celciusToF(celcius);\r\n            list.push({\r\n                'value': celcius,\r\n                'text': celcius.toString() + System.CELSIUS + \" / \" + farenheight + System.FARENHEIGHT\r\n            });\r\n        }\r\n        return list;\r\n    }\r\n\r\n    public safetyCapacityOptions() {\r\n        let list = [];\r\n        for (let num = 50; num < 200; num += 5) {\r\n            let capacity = num;\r\n            list.push({'value': capacity, 'text': capacity.toString() + \"%\"});\r\n        }\r\n        return list;\r\n    }\r\n}\r\n\r\n@Component({\r\n    selector: 'page-preset-charge',\r\n    templateUrl: 'preset-charge.html'\r\n})\r\nexport class PresetChargePage extends PresetBasePage {\r\n    // nimhGroup;\r\n\r\n    // Gotta have this, else DI doens't work? Huh?\r\n    constructor(navCtrl: NavController,\r\n                public formBuilder: FormBuilder,\r\n                navParams: NavParams) {\r\n        super(navCtrl, navParams);\r\n    }\r\n\r\n    ngOnInit() {\r\n        // this.nimhGroup = this.formBuilder.group({\r\n        //     trickleTimeout: [\r\n        //         this.preset.trickle_timeout,\r\n        //         ChargerValidator.number({\r\n        //             min: 1,\r\n        //         })\r\n        //     ],\r\n        // });\r\n    }\r\n\r\n    isLipo() {\r\n        return this.preset.type == ChemistryType.LiPo ||\r\n            this.preset.type == ChemistryType.LiFe;\r\n    }\r\n\r\n    isNiMH() {\r\n        return this.preset.type == ChemistryType.NiMH;\r\n    }\r\n\r\n    chargeModeOptions() {\r\n        let modes = [];\r\n        switch (this.preset.type) {\r\n            case ChemistryType.NiMH:\r\n                modes = [\r\n                    {'value': 0, 'text': 'Normal'},\r\n                    {'value': 1, 'text': 'Reflex'}];\r\n        }\r\n        return modes;\r\n    }\r\n\r\n    balanceOptions() {\r\n        return [\r\n            {'value': LipoBalanceType.Slow, 'text': 'Slow'},\r\n            {'value': LipoBalanceType.Normal, 'text': 'Normal'},\r\n            {'value': LipoBalanceType.Fast, 'text': 'Fast'},\r\n            {'value': LipoBalanceType.User, 'text': 'User'},\r\n            {'value': LipoBalanceType.DontBalance, 'text': 'Dont Balance'},\r\n        ];\r\n    }\r\n\r\n    chargeEndOptions() {\r\n        return [\r\n            {'value': BalanceEndCondition.EndCurrentOff_DetectBalanceOn, 'text': 'Detect Balance Only'},\r\n            {'value': BalanceEndCondition.EndCurrentOn_DetectBalanceOff, 'text': 'End Current Only'},\r\n            {'value': BalanceEndCondition.EndCurrent_or_DetectBalance, 'text': 'Balance or Current'},\r\n            {'value': BalanceEndCondition.EndCurrent_and_DetectBalance, 'text': 'Balance and Current'},\r\n        ]\r\n    }\r\n\r\n    chargeEndOptionUsesEndCurrent() {\r\n        let valid_values = [BalanceEndCondition.EndCurrent_and_DetectBalance, BalanceEndCondition.EndCurrent_and_DetectBalance, BalanceEndCondition.EndCurrentOn_DetectBalanceOff];\r\n        return _.includes(valid_values, this.preset.balance_end_type);\r\n    }\r\n\r\n    restoreVoltageOptions() {\r\n        let list = [];\r\n        for (let num = 5; num < 25; num++) {\r\n            let number = (num / 10);\r\n            list.push({'value': number, 'text': number.toString() + \"V\"});\r\n        }\r\n        return list;\r\n    }\r\n\r\n    restoreChargeTimeOptions() {\r\n        return [\r\n            {'value': 1, 'text': '1 min'},\r\n            {'value': 2, 'text': '2 min'},\r\n            {'value': 3, 'text': '3 min'},\r\n            {'value': 4, 'text': '4 min'},\r\n            {'value': 5, 'text': '5 min'},\r\n        ];\r\n    }\r\n\r\n    restoreCurrentOptions() {\r\n        let list = [];\r\n        for (let num = 2; num < 50; num++) {\r\n            let number = (num / 100);\r\n            list.push({'value': number, 'text': number.toString() + \"A\"});\r\n        }\r\n        return list;\r\n    }\r\n\r\n    nimhTrickelEnabled() {\r\n        return this.preset.trickle_enabled;\r\n    }\r\n\r\n    nimhSensitivityOptions() {\r\n        let list = [];\r\n        for (let num = 1; num < 20; num++) {\r\n            list.push({'value': num, 'text': num.toString() + \"mV\"});\r\n        }\r\n        return list;\r\n    }\r\n\r\n    nimhDelayTimeOptions() {\r\n        let list = [];\r\n        for (let num = 0; num < 20; num++) {\r\n            list.push({'value': num, 'text': num.toString() + \"min\"});\r\n        }\r\n        return list;\r\n    }\r\n\r\n    nimhTrickleCurrentOptions() {\r\n        let list = [];\r\n        for (let num = 20; num < 100; num++) {\r\n            let actual = num / 100;\r\n            list.push({'value': actual, 'text': actual.toString() + \"A\"});\r\n        }\r\n        return list;\r\n    }\r\n\r\n    generalMinuteOptions(start: number, end: number) {\r\n        let list = [];\r\n        for (let num = start; num < end; num++) {\r\n            list.push({'value': num, 'text': num.toString() + \"min\"});\r\n        }\r\n        return list;\r\n    }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/preset-charge/preset-charge.ts","import {Injectable} from \"@angular/core\";\r\nimport {IAppState} from \"../configure\";\r\nimport {NgRedux} from \"@angular-redux/store\";\r\nimport {IConfig} from \"../reducers/configuration\";\r\n\r\n@Injectable()\r\nexport class ChargerActions {\r\n    static UPDATE_STATE_FROM_CHARGER: string = \"UPDATE_STATE_FROM_CHARGER\";\r\n\r\n    constructor(private ngRedux: NgRedux<IAppState>) {\r\n    }\r\n\r\n    get config(): IConfig {\r\n        return this.ngRedux.getState()['config'];\r\n    }\r\n\r\n    getHostName(): string {\r\n        return this.config.ipAddress + \":\" + this.config.port;\r\n    }\r\n\r\n    refreshStateFromCharger(unifiedState) {\r\n        let cellLimit = this.ngRedux.getState().config.cellLimit;\r\n        this.ngRedux.dispatch({\r\n            type: ChargerActions.UPDATE_STATE_FROM_CHARGER,\r\n            payload: unifiedState,\r\n            cellLimit: cellLimit\r\n        });\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/state/actions/charger.ts","import {Component, Inject} from \"@angular/core\";\r\nimport {ConfigurationActions} from \"../../models/state/actions/configuration\";\r\nimport {IConfig} from \"../../models/state/reducers/configuration\";\r\nimport {select} from \"@angular-redux/store\";\r\nimport {Observable} from \"rxjs/Observable\";\r\nimport {Platform} from \"ionic-angular\";\r\nimport {IChargerState} from \"../../models/state/reducers/charger\";\r\nimport {IUIState} from \"../../models/state/reducers/ui\";\r\nimport {environmentFactory} from \"../../app/environment/environment-variables.module\";\r\n\r\n@Component({\r\n    selector: 'page-config',\r\n    templateUrl: 'config-page.html',\r\n    providers: [ConfigurationActions]\r\n})\r\nexport class ConfigPage {\r\n    @select() config$: Observable<IConfig>;\r\n    @select() charger$: Observable<IChargerState>;\r\n    @select() ui$: Observable<IUIState>;\r\n\r\n    constructor(private platform: Platform,\r\n                private actions: ConfigurationActions) {\r\n\r\n    }\r\n\r\n    canUseDeploy(): boolean {\r\n        return this.platform.is('cordova');\r\n    }\r\n\r\n    platformsString(): string {\r\n        return this.platform.platforms().toString();\r\n    }\r\n\r\n    get isProduction(): boolean {\r\n        let environment = environmentFactory();\r\n        return environment.ionicEnvName == 'prod';\r\n    }\r\n\r\n    environmentStrings(): string[] {\r\n        let environment = environmentFactory();\r\n        let callbackfn = (value): string => {\r\n            return value + \" = \" + environment[value];\r\n        };\r\n        return Object.keys(environment).map(callbackfn);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/config/config-page.ts","import { NgModule } from '@angular/core';\r\nimport { EnvVariables } from './environment-variables.token';\r\nimport { devVariables } from './development';\r\nimport { prodVariables } from './production';\r\nimport { qaVariables } from './qa';\r\n\r\ndeclare const process: any; // Typescript compiler will complain without this\r\n\r\nexport function environmentFactory() {\r\n    return process.env.IONIC_ENV === 'prod' ? prodVariables : devVariables;\r\n}\r\n\r\n@NgModule({\r\n    providers: [\r\n        {\r\n            provide: EnvVariables,\r\n            // useFactory instead of useValue so we can easily add more logic as needed.\r\n            useFactory: environmentFactory\r\n        }\r\n    ]\r\n})\r\nexport class EnvironmentsModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/app/environment/environment-variables.module.ts"],"sourceRoot":""}